/*
 Asciidoctor.js 2.0.2 | MIT | https://github.com/asciidoctor/asciidoctor.js
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,p,B){b!=Array.prototype&&b!=Object.prototype&&(b[p]=B.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,p,B,C){if(p){B=$jscomp.global;b=b.split(".");for(C=0;C<b.length-1;C++){var w=b[C];w in B||(B[w]={});B=B[w]}b=b[b.length-1];C=B[b];p=p(C);p!=C&&null!=p&&$jscomp.defineProperty(B,b,{configurable:!0,writable:!0,value:p})}};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},p={};try{return p.__proto__=b,p.a}catch(B){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,p){b.__proto__=p;if(b.__proto__!==p)throw new TypeError(b+" is not extensible");return b}:null;$jscomp.polyfill("Object.setPrototypeOf",function(b){return b||$jscomp.setPrototypeOf},"es6","es5");$jscomp.arrayIteratorImpl=function(b){var p=0;return function(){return p<b.length?{done:!1,value:b[p++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(p){return $jscomp.SYMBOL_PREFIX+(p||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,p){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var B=0,C={next:function(){if(B<b.length){var w=B++;return{value:p(w,b[w]),done:!1}}C.next=function(){return{done:!0,value:void 0}};return C.next()}};C[Symbol.iterator]=function(){return C};return C};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.owns=function(b,p){return Object.prototype.hasOwnProperty.call(b,p)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,p){for(var B=1;B<arguments.length;B++){var C=arguments[B];if(C)for(var w in C)$jscomp.owns(C,w)&&(b[w]=C[w])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");$jscomp.polyfill("Number.EPSILON",function(b){return Math.pow(2,-52)},"es6","es3");
$jscomp.checkStringArgs=function(b,p,B){if(null==b)throw new TypeError("The 'this' value for String.prototype."+B+" must not be null or undefined");if(p instanceof RegExp)throw new TypeError("First argument to String.prototype."+B+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(b,B){var p=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===B&&(B=p.length);B=Math.max(0,Math.min(B|0,p.length));for(var w=b.length;0<w&&0<B;)if(p[--B]!=b[--w])return!1;return 0>=w}},"es6","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(b,B){return b===B?0!==b||1/b===1/B:b!==b&&B!==B}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,B){var p=this;p instanceof String&&(p=String(p));var w=p.length;B=B||0;for(0>B&&(B=Math.max(B+w,0));B<w;B++){var t=p[B];if(t===b||Object.is(t,b))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,B){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,B||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(b){return b?b:function(b){var p=$jscomp.checkStringArgs(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var C="";b;)if(b&1&&(C+=p),b>>>=1)p+=p;return C}},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,B,C){B=null!=B?B:function(b){return b};var w=[],t="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof t){b=t.call(b);for(var h=0;!(t=b.next()).done;)w.push(B.call(C,t.value,h++))}else for(t=b.length,h=0;h<t;h++)w.push(B.call(C,b[h],h));return w}},"es6","es3");
(function(b){function p(a,b,d){"string"===typeof a?a[b]=d:Object.defineProperty(a,b,{value:d,enumerable:!1,configurable:!0,writable:!0})}function B(a,b){if(a)return a.$$const[b]}function C(a,b){var r;if(null!=a){var g=k.ancestors(a);a=0;for(r=g.length;a<r;a++)if(g[a].$$const&&ka.call(g[a].$$const,b))return g[a].$$const[b]}}function w(a,b,d){if(!d)return(a||J).$const_missing(b)}function t(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function h(a){var b=v(a);a.$$is_module&&a.$$iclasses.push(b);
return b}function v(a){var b={},r=a.$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);var g=Object.getOwnPropertyNames(r),c=g.length,d;for(d=0;d<c;d++){var q=g[d];p(b,q,r[q])}p(b,"$$iclass",!0);p(b,"$$module",a);return b}function l(a){var b=a.length,r=a[0];p(r,"$$root",!0);if(1===b)return{first:r,last:r};for(var g=1;g<b;g++){var c=a[g];x(r,c);r=c}return{first:a[0],last:a[b-1]}}function F(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;if(a.hasOwnProperty("$$class"))return a.$$class}}
function y(a){return"function"===typeof a&&!a.$$stub}var m=this;"undefined"!==typeof global&&(m=global);"undefined"!==typeof window&&(m=window);var O="object"===typeof m.console?m.console:null==m.console?m.console={}:{};"log"in O||(O.log=function(){});"warn"in O||(O.warn=O.log);if("undefined"!==typeof this.Opal)return O.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var P,J,G,k=this.Opal={};k.global=m;m.Opal=k;k.config={missing_require_severity:"error",
unsupported_features_severity:"warning",enable_stack_trace:!0};var ka=Object.hasOwnProperty,T=Function.prototype.bind,x=Object.setPrototypeOf,I=Array.prototype.slice,a=Array.prototype.splice,d=4;k.uid=function(){return d+=2};k.id=function(a){if(a.$$is_number)return 2*a+1;if(null!=a.$$id)return a.$$id;p(a,"$$id",k.uid());return a.$$id};k.gvars={};k.exit=function(a){k.gvars.DEBUG&&O.log("Exited with status "+a)};k.exceptions=[];k.pop_exception=function(){k.gvars["!"]=k.exceptions.pop()||H};k.inspect=
function(a){return a===b?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};k.defineProperty=p;k.slice=I;k.truthy=function(a){return a!==H&&null!=a&&(!a.$$is_boolean||1==a)};k.falsy=function(a){return a===H||null==a||a.$$is_boolean&&0==a};k.const_get_local=function(a,b,d){if(null!=a){"::"===a&&(a=J);if(!a.$$is_module&&!a.$$is_class)throw new k.TypeError(a.toString()+" is not a class/module");var g=B(a,b);if(null!=g)return g;g=w(a,b,d);if(null!=g)return g}};k.const_get_qualified=function(a,
b,d){var g,c=k.const_cache_version;if(null!=a){"::"===a&&(a=J);if(!a.$$is_module&&!a.$$is_class)throw new k.TypeError(a.toString()+" is not a class/module");null==(g=a.$$const_cache)&&(p(a,"$$const_cache",Object.create(null)),g=a.$$const_cache);var r=g[b];null==r||r[0]!==c?(null!=(r=B(a,b))||null!=(r=C(a,b)),g[b]=[c,r]):r=r[1];return null!=r?r:w(a,b,d)}};k.const_cache_version=1;k.const_get_relative=function(a,b,d){var g=a[0],c=k.const_cache_version,r;null==(r=a.$$const_cache)&&(p(a,"$$const_cache",
Object.create(null)),r=a.$$const_cache);var q=r[b];if(null==q||q[0]!==c){var Q;if(!(Q=null!=(q=B(g,b)))){a:{if(0!==a.length)for(q=0,Q=a.length;q<Q;q++){var S=a[q].$$const[b];if(null!=S){a=S;break a}}a=void 0}Q=null!=(q=a)}Q||null!=(q=C(g,b))||(a=null==g||g.$$is_module?C(J,b):void 0,null!=(q=a));r[b]=[c,q]}else q=q[1];return null!=q?q:w(g,b,d)};k.const_set=function(a,b,d){if(null==a||"::"===a)a=J;if(d.$$is_a_module){if(null==d.$$name||d.$$name===H)d.$$name=b;null==d.$$base_module&&(d.$$base_module=
a)}a.$$const=a.$$const||Object.create(null);a.$$const[b]=d;a.$$=a.$$const;k.const_cache_version++;a===J&&(k[b]=d);p(a,b,d);return d};k.constants=function(a,b){null==b&&(b=!0);var r=[a],g,c={},d;b&&(r=r.concat(k.ancestors(a)));b&&a.$$is_module&&(r=r.concat([k.Object]).concat(k.ancestors(k.Object)));var q=0;for(g=r.length;q<g;q++){b=r[q];if(a!==J&&b==J)break;for(d in b.$$const)c[d]=!0}return Object.keys(c)};k.const_remove=function(a,b){k.const_cache_version++;if(null!=a.$$const[b]){var r=a.$$const[b];
delete a.$$const[b];return r}if(null!=a.$$autoload&&null!=a.$$autoload[b])return delete a.$$autoload[b],H;throw k.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};k.allocate_class=function(a,b){var r=null!=b&&b.$$bridge?function(){var a=I.call(arguments);a=new (T.apply(b.$$constructor,[null].concat(a)));x(a,g.$$prototype);return a}:function(){};a&&p(r,"displayName","::"+a);var g=r;p(g,"$$name",a);p(g,"$$constructor",r);p(g,"$$prototype",r.prototype);p(g,"$$const",{});p(g,"$$is_class",
!0);p(g,"$$is_a_module",!0);p(g,"$$super",b);p(g,"$$cvars",{});p(g,"$$own_included_modules",[]);p(g,"$$own_prepended_modules",[]);p(g,"$$ancestors",[]);p(g,"$$ancestors_cache_version",null);p(g.$$prototype,"$$class",g);k.Class&&x(g,k.Class.prototype);null!=b&&(x(g.$$prototype,b.$$prototype),b.$$meta&&k.build_class_singleton_class(g));return g};k.klass=function(a,b,d){null==a?a=J:a.$$is_class||a.$$is_module||(a=a.$$class);if(null!=b&&!b.hasOwnProperty("$$is_class")){var g=b;b=J}var c;if(c=B(a,d)){if(!c.$$is_class)throw k.TypeError.$new(d+
" is not a class");}else c=void 0;if(c){if(b&&c.$$super!==b)throw k.TypeError.$new("superclass mismatch for class "+c.$$name);return c}null==b&&(b=J);c=k.allocate_class(d,b);k.const_set(a,d,c);b.$inherited&&b.$inherited(c);g&&k.bridge(g,c);return c};k.allocate_module=function(a){var b=function(){};a&&p(b,"displayName",a+".$$constructor");a&&p(b,"displayName",a+".constructor");p(b,"$$name",a);p(b,"$$prototype",b.prototype);p(b,"$$const",{});p(b,"$$is_module",!0);p(b,"$$is_a_module",!0);p(b,"$$cvars",
{});p(b,"$$iclasses",[]);p(b,"$$own_included_modules",[]);p(b,"$$own_prepended_modules",[]);p(b,"$$ancestors",[b]);p(b,"$$ancestors_cache_version",null);x(b,k.Module.prototype);return b};k.module=function(a,b){null==a?a=J:a.$$is_class||a.$$is_module||(a=a.$$class);var r=a;var g=B(r,b);null==g&&r===J&&(g=C(J,b));if(g&&!g.$$is_module&&g!==J)throw k.TypeError.$new(b+" is not a module");if(r=g)return r;r=k.allocate_module(b);k.const_set(a,b,r);return r};k.get_singleton_class=function(a){return a.$$meta?
a.$$meta:a.hasOwnProperty("$$is_class")?k.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?k.build_module_singletin_class(a):k.build_object_singleton_class(a)};k.build_class_singleton_class=function(a){if(a.$$meta)return a.$$meta;var b=a===P?G:k.get_singleton_class(a.$$super);b=k.allocate_class(null,b,function(){});p(b,"$$is_singleton",!0);p(b,"$$singleton_of",a);p(a,"$$meta",b);x(a,b.$$prototype);p(a,"$$class",k.Class);return b};k.build_module_singletin_class=function(a){if(a.$$meta)return a.$$meta;
var b=k.allocate_class(null,k.Module,function(){});p(b,"$$is_singleton",!0);p(b,"$$singleton_of",a);p(a,"$$meta",b);x(a,b.$$prototype);p(a,"$$class",k.Module);return b};k.build_object_singleton_class=function(a){var b=k.allocate_class(H,a.$$class,function(){});p(b,"$$is_singleton",!0);p(b,"$$singleton_of",a);delete b.$$prototype.$$class;p(a,"$$meta",b);x(a,a.$$meta.$$prototype);return b};k.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};k.instance_methods=function(a){var b=[],d=[];a=k.ancestors(a);
for(var g=0,c=a.length;g<c;g++){var r=a[g].$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);for(var q=Object.getOwnPropertyNames(r),H=0,D=q.length;H<D;H++){var n=q[H];if(k.is_method(n)){var f=n.slice(1);n=r[n];n.$$stub&&-1===b.indexOf(f)&&b.push(f);n.$$stub||-1!==d.indexOf(f)||-1!==b.indexOf(f)||d.push(f)}}}return d};k.own_instance_methods=function(a){var b=[];a=a.$$prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var d=Object.getOwnPropertyNames(a),g=0,c=d.length;g<
c;g++){var r=d[g];k.is_method(r)&&!a[r].$$stub&&(r=r.slice(1),b.push(r))}return b};k.methods=function(a){return k.instance_methods(k.get_singleton_class(a))};k.own_methods=function(a){return k.own_instance_methods(k.get_singleton_class(a))};k.receiver_methods=function(a){var b=k.get_singleton_class(a);a=k.own_instance_methods(b);b=k.own_instance_methods(b.$$super);return a.concat(b)};k.class_variables=function(a){a=k.ancestors(a);var b,d={};for(b=a.length-1;0<=b;b--){var g=a[b],c;for(c in g.$$cvars)d[c]=
g.$$cvars[c]}return d};k.class_variable_set=function(a,b,d){var g=k.ancestors(a),c;for(c=g.length-2;0<=c;c--){var r=g[c];if(ka.call(r.$$cvars,b))return r.$$cvars[b]=d}return a.$$cvars[b]=d};k.append_features=function(a,b){var d=k.ancestors(a),g=[];if(-1!==d.indexOf(b))throw k.ArgumentError.$new("cyclic include detected");for(var c=0,r=d.length;c<r;c++){var q=h(d[c]);p(q,"$$included",!0);g.push(q)}d=k.ancestors(b);g=l(g);if(-1===d.indexOf(a))a=b.$$prototype,d=Object.getPrototypeOf(b.$$prototype);else{d=
b.$$prototype;for(c=Object.getPrototypeOf(d);null!=c&&(!t(c)||c.$$module!==a);)d=c,c=Object.getPrototypeOf(c);for(c=Object.getPrototypeOf(c);c.hasOwnProperty("$$iclass")&&!t(c);)c=Object.getPrototypeOf(c);a=d;d=c}x(a,g.first);x(g.last,d);a=[];for(d=Object.getPrototypeOf(b.$$prototype);d&&!d.hasOwnProperty("$$class");)(g=F(d))&&a.push(g),d=Object.getPrototypeOf(d);b.$$own_included_modules=a;k.const_cache_version++};k.prepend_features=function(a,b){var d=k.ancestors(a),g=[];if(-1!==d.indexOf(b))throw k.ArgumentError.$new("cyclic prepend detected");
for(var c=0,r=d.length;c<r;c++){var q=h(d[c]);p(q,"$$prepended",!0);g.push(q)}d=l(g);c=b.$$prototype;r=Object.getPrototypeOf(c);if(c.hasOwnProperty("$$dummy"))g=c.$$define_methods_on;else{g=v(b);q=b.$$prototype;for(var Q=Object.getOwnPropertyNames(q),H=0;H<Q.length;H++){var n=Q[H];k.is_method(n)&&delete q[n]}p(c,"$$dummy",!0);p(c,"$$define_methods_on",g);x(c,g);x(g,r)}if(-1===k.ancestors(b).indexOf(a))for(a=c,c=Object.getPrototypeOf(c);null!=c&&!c.hasOwnProperty("$$root")&&c!==g&&c.hasOwnProperty("$$iclass");)c=
Object.getPrototypeOf(c);else throw k.RuntimeError.$new("Prepending a module multiple times is not supported");x(a,d.first);x(d.last,c);a=[];g=Object.getPrototypeOf(b.$$prototype);if(b.$$prototype.hasOwnProperty("$$dummy"))for(;g&&g!==b.$$prototype.$$define_methods_on;)(d=F(g))&&a.push(d),g=Object.getPrototypeOf(g);b.$$own_prepended_modules=a;k.const_cache_version++};k.bridge=function(a,b){if(a.hasOwnProperty("$$bridge"))throw k.ArgumentError.$new("already bridged");p(a,"$$bridge",b);x(a.prototype,
(b.$$super||k.Object).$$prototype);p(b,"$$prototype",a.prototype);p(b.$$prototype,"$$class",b);p(b,"$$constructor",a);p(b,"$$bridge",!0)};k.ancestors=function(a){if(!a)return[];if(a.$$ancestors_cache_version===k.const_cache_version)return a.$$ancestors;var b=[],d;var g=0;var c=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(d=c.length;g<d;g++)b.push(c[g]);if(a.$$super)for(g=0,c=k.ancestors(a.$$super),d=c.length;g<d;g++)b.push(c[g]);a.$$ancestors_cache_version=k.const_cache_version;
return a.$$ancestors=b};k.included_modules=function(a){for(var b=[],d=Object.getPrototypeOf(a.$$prototype);d&&Object.getPrototypeOf(d);d=Object.getPrototypeOf(d))(a=F(d))&&a.$$is_module&&d.$$iclass&&d.$$included&&b.push(a);return b};k.add_stubs=function(a){for(var b=k.BasicObject.$$prototype,d=0,g=a.length;d<g;d++){var c=a[d],r=b[c];(null==r||r.$$stub)&&k.add_stub_for(b,c)}};k.add_stub_for=function(a,b){var d=k.stub_for(b);p(a,b,d)};k.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;
b.$$p=null;for(var d=Array(arguments.length),g=0,c=d.length;g<c;g++)d[g]=arguments[g];return this.$method_missing.apply(this,[a.slice(1)].concat(d))}b.$$stub=!0;return b};k.ac=function(a,b,d,g){var c="";c=d.$$is_a_module?c+(d.$$name+"."):c+(d.$$class.$$name+"#");throw k.ArgumentError.$new("["+(c+g)+"] wrong number of arguments("+a+" for "+b+")");};k.block_ac=function(a,b,d){throw k.ArgumentError.$new("`block in "+d+"': wrong number of arguments ("+a+" for "+b+")");};k.find_super_dispatcher=function(a,
b,d,g,c){c="$"+b;var r;var q=a.hasOwnProperty("$$meta")?k.ancestors(a.$$meta):k.ancestors(a.$$class);for(d=q.indexOf(d.$$owner)+1;d<q.length;d++){var Q=q[d].$$prototype;Q.hasOwnProperty("$$dummy")&&(Q=Q.$$define_methods_on);if(Q.hasOwnProperty(c)){c=Q[c];c.$$stub||(r=c);break}}if(!g&&null==r&&k.Kernel.$method_missing===a.$method_missing)throw k.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return r};k.find_iter_super_dispatcher=function(a,b,d,g,c){if(!d)throw k.RuntimeError.$new("super called outside of method");
if(c&&d.$$define_meth)throw k.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");d.$$def&&(b=d.$$jsid);return k.find_super_dispatcher(a,b,d,g)};k.ret=function(a){k.returner.$v=a;throw k.returner;};k.brk=function(a,b){b.$v=a;throw b;};k.new_brk=function(){return Error("unexpected break")};k.yield1=function(a,b){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");var d=a.$$has_top_level_mlhs_arg,
g=a.$$has_trailing_comma_in_args;if(1<a.length||(d||g)&&1===a.length)b=k.to_ary(b);return(1<a.length||g&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};k.yieldX=function(a,b){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var d=Array(b.length),g=0,c=d.length;g<c;g++)d[g]=b[g];return a.apply(null,d)}return a.apply(null,b)};k.rescue=function(a,b){for(var d=0;d<b.length;d++){var g=
b[d];if(g.$$is_array){if(g=k.rescue(a,g))return g}else if(g===k.JS.Error||g["$==="](a))return g}return null};k.is_a=function(a,b){if(null!=b&&a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var d,g=k.ancestors(a.$$is_class?k.get_singleton_class(a):a.$$meta||a.$$class);a=0;for(d=g.length;a<d;a++)if(g[a]===b)return!0;return!1};k.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw k.TypeError.$new("Can't convert "+
a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw k.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};k.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var b=a.$to_ary();if(b===H)return[a];if(b.$$is_array)return b;throw k.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+b.$$class+")");}return[a]};k.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var b=a.$to_a();
if(b===H)return[a];if(b.$$is_array)return b;throw k.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+b.$$class+")");}return[a]};k.extract_kwargs=function(b){var d=b[b.length-1];return null!=d&&d["$respond_to?"]("to_hash",!0)?(a.call(b,b.length-1,1),d.$to_hash()):k.hash2([],{})};k.kwrestargs=function(a,b){var d=[],g={},c=null;a=a.$$smap;for(c in a)b[c]||(d.push(c),g[c]=a[c]);return k.hash2(d,g)};k.send=function(a,b,d,g){var c="string"===typeof b?a["$"+b]:b;return null!=
c?("function"===typeof g&&(c.$$p=g),c.apply(a,d)):a.$method_missing.apply(a,[b].concat(d))};k.lambda=function(a){a.$$is_lambda=!0;return a};k.def=function(a,b,d){a===k.top?k.defn(k.Object,b,d):!a.$$eval&&a.$$is_a_module?k.defn(a,b,d):k.defs(a,b,d)};k.defn=function(a,b,d){d.displayName=b;d.$$owner=a;var g=a.$$prototype;g.hasOwnProperty("$$dummy")&&(g=g.$$define_methods_on);p(g,b,d);if(a.$$is_module){a.$$module_function&&k.defs(a,b,d);g=0;for(var c=a.$$iclasses,r=c.length;g<r;g++)p(c[g],b,d)}d=a.$$singleton_of;
!a.$method_added||a.$method_added.$$stub||d?d&&d.$singleton_method_added&&!d.$singleton_method_added.$$stub&&d.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1))};k.defs=function(a,b,d){if(a.$$is_string||a.$$is_number)throw k.TypeError.$new("can't define singleton");k.defn(k.get_singleton_class(a),b,d)};k.rdef=function(a,b){if(!ka.call(a.$$prototype,b))throw k.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$prototype[b];a.$$is_singleton?a.$$prototype.$singleton_method_removed&&
!a.$$prototype.$singleton_method_removed.$$stub&&a.$$prototype.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};k.udef=function(a,b){if(!a.$$prototype[b]||a.$$prototype[b].$$stub)throw k.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());k.add_stub_for(a.$$prototype,b);a.$$is_singleton?a.$$prototype.$singleton_method_undefined&&!a.$$prototype.$singleton_method_undefined.$$stub&&a.$$prototype.$singleton_method_undefined(b.substr(1)):
a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};k.alias=function(a,b,d){var g="$"+b,c="$"+d,r=a.$$prototype["$"+d];if(a.$$eval)return k.alias(k.get_singleton_class(a),b,d);if(!y(r)){for(var q=a.$$super;"function"!==typeof r&&q;)r=q[c],q=q.$$super;!y(r)&&a.$$is_module&&(r=k.Object.$$prototype[c]);if(!y(r))throw k.NameError.$new("undefined method `"+d+"' for class `"+a.$name()+"'");}r.$$alias_of&&(r=r.$$alias_of);var S=function(){var a=S.$$p,b;var c=Array(arguments.length);
var e=0;for(b=arguments.length;e<b;e++)c[e]=arguments[e];null!=a&&(S.$$p=null);return k.send(this,r,c,a)};S.displayName=b;S.length=r.length;S.$$arity=r.$$arity;S.$$parameters=r.$$parameters;S.$$source_location=r.$$source_location;S.$$alias_of=r;S.$$alias_name=b;k.defn(a,g,S);return a};k.alias_native=function(a,b,d){b="$"+b;var g=a.$$prototype[d];if("function"!==typeof g||g.$$stub)throw k.NameError.$new("undefined native method `"+d+"' for class `"+a.$name()+"'");k.defn(a,b,g);return a};k.hash_init=
function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};k.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;var d=0,g=a.$$keys;a=a.$$smap;for(var c=g.length,r,q;d<c;d++)r=g[d],r.$$is_string?q=a[r]:(q=r.value,r=r.key),k.hash_put(b,r,q)};k.hash_put=function(a,d,S){if(d.$$is_string)ka.call(a.$$smap,d)||a.$$keys.push(d),a.$$smap[d]=S;else{var g;var c=a.$$by_identity?k.id(d):d.$hash();if(ka.call(a.$$map,c)){for(g=a.$$map[c];g;){if(d===g.key||d["$eql?"](g.key)){var r=
b;g.value=S;break}r=g;g=g.next}r&&(g={key:d,key_hash:c,value:S},a.$$keys.push(g),r.next=g)}else g={key:d,key_hash:c,value:S},a.$$keys.push(g),a.$$map[c]=g}};k.hash_get=function(a,b){if(b.$$is_string){if(ka.call(a.$$smap,b))return a.$$smap[b]}else{var d=a.$$by_identity?k.id(b):b.$hash();if(ka.call(a.$$map,d))for(a=a.$$map[d];a;){if(b===a.key||b["$eql?"](a.key))return a.value;a=a.next}}};k.hash_delete=function(a,b){var d,g=a.$$keys,c=g.length;if(b.$$is_string){if(!ka.call(a.$$smap,b))return;for(d=0;d<
c;d++)if(g[d]===b){g.splice(d,1);break}var r=a.$$smap[b];delete a.$$smap[b];return r}var q=b.$hash();if(ka.call(a.$$map,q))for(var H=a.$$map[q],k;H;){if(b===H.key||b["$eql?"](H.key)){r=H.value;for(d=0;d<c;d++)if(g[d]===H){g.splice(d,1);break}k&&H.next?k.next=H.next:k?delete k.next:H.next?a.$$map[q]=H.next:delete a.$$map[q];return r}k=H;H=H.next}};k.hash_rehash=function(a){for(var d=0,r=a.$$keys.length,g,c,H;d<r;d++)if(!a.$$keys[d].$$is_string&&(g=a.$$keys[d].key.$hash(),g!==a.$$keys[d].key_hash)){c=
a.$$map[a.$$keys[d].key_hash];for(H=b;c;){if(c===a.$$keys[d]){H&&c.next?H.next=c.next:H?delete H.next:c.next?a.$$map[a.$$keys[d].key_hash]=c.next:delete a.$$map[a.$$keys[d].key_hash];break}H=c;c=c.next}a.$$keys[d].key_hash=g;if(ka.call(a.$$map,g)){c=a.$$map[g];for(H=b;c;){if(c===a.$$keys[d]){H=b;break}H=c;c=c.next}H&&(H.next=a.$$keys[d])}else a.$$map[g]=a.$$keys[d]}};k.hash=function(){var a=arguments.length,b;if(1===a&&arguments[0].$$is_hash)return arguments[0];var d=new k.Hash;k.hash_init(d);if(1===
a&&arguments[0].$$is_array){a=arguments[0];var g=a.length;for(b=0;b<g;b++){if(2!==a[b].length)throw k.ArgumentError.$new("value not of length 2: "+a[b].$inspect());var c=a[b][0];var H=a[b][1];k.hash_put(d,c,H)}return d}if(1===a){a=arguments[0];for(c in a)ka.call(a,c)&&(H=a[c],k.hash_put(d,c,H));return d}if(0!==a%2)throw k.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)c=arguments[b],H=arguments[b+1],k.hash_put(d,c,H);return d};k.hash2=function(a,b){var d=new k.Hash;d.$$smap=
b;d.$$map=Object.create(null);d.$$keys=a;return d};k.range=function(a,b,d){var g=new k.Range;g.begin=a;g.end=b;g.excl=d;return g};k.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};k.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};k.global_regexp=
function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};k.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};k.modules={};k.loaded_features=["corelib/runtime"];k.current_dir=".";k.require_table={"corelib/runtime":!0};
k.normalize=function(a){var b=[];"."!==k.current_dir&&(a=k.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=0,g=a.length;d<g;d++){var c=a[d];""!==c&&(".."===c?b.pop():b.push(c))}return b.join("/")};k.loaded=function(a){var b;var d=0;for(b=a.length;d<b;d++){var g=k.normalize(a[d]);k.require_table[g]||(k.loaded_features.push(g),k.require_table[g]=!0)}};k.load=function(a){a=k.normalize(a);k.loaded([a]);var b=k.modules[a];if(b)b(k);
else{b=k.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(k.LoadError)throw k.LoadError.$new(a);throw a;}"warning"===b&&O.warn("WARNING: LoadError: "+a)}return!0};k.require=function(a){a=k.normalize(a);return k.require_table[a]?!1:k.load(a)};k.BasicObject=P=k.allocate_class("BasicObject",null,function(){});k.Object=J=k.allocate_class("Object",k.BasicObject,function(){});k.Module=m=k.allocate_class("Module",k.Object,function(){});k.Class=G=k.allocate_class("Class",
k.Module,function(){});x(k.BasicObject,k.Class.$$prototype);x(k.Object,k.Class.$$prototype);x(k.Module,k.Class.$$prototype);x(k.Class,k.Class.$$prototype);P.$$const.BasicObject=P;k.const_set(J,"BasicObject",P);k.const_set(J,"Object",J);k.const_set(J,"Module",m);k.const_set(J,"Class",G);P.$$class=G;J.$$class=G;m.$$class=G;G.$$class=G;p(J.$$prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});p(J.$$prototype,"$require",k.require);k.$$=J.$$;k.top=
new J;k.top.$to_s=k.top.$inspect=function(){return"main"};k.NilClass=k.allocate_class("NilClass",k.Object,function(){});k.const_set(J,"NilClass",k.NilClass);var H=k.nil=new k.NilClass;H.$$id=4;H.call=H.apply=function(){throw k.LocalJumpError.$new("no block given");};k.breaker=Error("unexpected break (old)");k.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.module,t=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(h,p){h=w(h,"Opal");var l=[h].concat(p),F,y,m,O,P,J,G,k,v,T,x,I,a,d;b.defs(h,"$bridge",F=function(a,d){return b.bridge(a,d)},F.$$arity=2);b.defs(h,"$type_error",y=function(a,b,d,k){var g;null==d&&(d=B);null==k&&(k=B);return t(t(g=d)?k:g)?C(l,"TypeError").$new("can't convert "+
a.$class()+" into "+b+" ("+a.$class()+"#"+d+" gives "+k.$class()+")"):C(l,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+b)},y.$$arity=-3);b.defs(h,"$coerce_to",m=function(a,b,d){if(t(b["$==="](a)))return a;t(a["$respond_to?"](d))||this.$raise(this.$type_error(a,b));return a.$__send__(d)},m.$$arity=3);b.defs(h,"$coerce_to!",O=function(a,b,d){var H=this.$coerce_to(a,b,d);t(b["$==="](H))||this.$raise(this.$type_error(a,b,d,H));return H},O.$$arity=3);b.defs(h,"$coerce_to?",P=function(a,
b,d){if(!t(a["$respond_to?"](d)))return B;var H=this.$coerce_to(a,b,d);if(t(H["$nil?"]()))return B;t(b["$==="](H))||this.$raise(this.$type_error(a,b,d,H));return H},P.$$arity=3);b.defs(h,"$try_convert",J=function(a,b,d){return t(b["$==="](a))?a:t(a["$respond_to?"](d))?a.$__send__(d):B},J.$$arity=3);b.defs(h,"$compare",G=function(a,b){var d=a["$<=>"](b);t(d===B)&&this.$raise(C(l,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");return d},G.$$arity=2);b.defs(h,"$destructure",
k=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),d=0,H=b.length;d<H;d++)b[d]=a[d];return b},k.$$arity=1);b.defs(h,"$respond_to?",v=function(a,b,d){null==d&&(d=!1);return null!=a&&a.$$class?a["$respond_to?"](b,d):!1},v.$$arity=-3);b.defs(h,"$inspect_obj",T=function(a){return b.inspect(a)},T.$$arity=1);b.defs(h,"$instance_variable_name!",x=function(a){a=C(l,"Opal")["$coerce_to!"](a,C(l,"String"),"to_str");t(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(C(l,
"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},x.$$arity=1);b.defs(h,"$class_variable_name!",I=function(a){a=C(l,"Opal")["$coerce_to!"](a,C(l,"String"),"to_str");t(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(C(l,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},I.$$arity=1);b.defs(h,"$const_name!",a=function(a){a=C(l,"Opal")["$coerce_to!"](a,C(l,"String"),"to_str");t(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(C(l,
"NameError"),"wrong constant name "+a);return a},a.$$arity=1);b.defs(h,"$pristine",d=function(a,d){var k=b.slice.call(arguments,1,arguments.length);for(var H,g=k.length-1;0<=g;g--)H=k[g],(H=a.$$prototype["$"+H])&&!H.$$stub&&(H.$$pristine=!0);return B},d.$$arity=-2)}(p[0],p)};
Opal.modules["corelib/module"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b<h:b["$<"](h)}var B=[],C=b.nil,w=b.const_get_qualified,t=b.const_get_relative,h=b.klass,v=b.send,l=b.truthy,F=b.lambda,y=b.range,m=b.hash2;b.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(O,$super,J){O=h(O,$super,"Module");var G=[O].concat(J),k,B,T,x,I,a,d,H,r,Q,S,g,c,z,q,V,D,n,f,e,X,E,ba,L,N,na,u,W,fa,ma,ja,U,ya,Ca,za,Ia,aa,xa,ca,ta,Aa,da,Z,Ea,ua,Va,Ta,oa,Y,wa,qa,Ra,Ja,Fa,Ka,ea,ra,ha;b.defs(O,"$allocate",k=function(){var a=b.allocate_module(C,function(){});this!==b.Module&&Object.setPrototypeOf(a,this.$$prototype);return a},k.$$arity=0);b.def(O,"$initialize",B=function(){var a=B.$$p,b=a||C;a&&(B.$$p=null);a&&(B.$$p=null);return b!==C?v(this,"module_eval",[],b.$to_proc()):
C},B.$$arity=0);b.def(O,"$===",T=function(a){return l(null==a)?!1:b.is_a(a,this)},T.$$arity=1);b.def(O,"$<",x=function(a){l(t(G,"Module")["$==="](a))||this.$raise(t(G,"TypeError"),"compared with non class/module");var c;if(this===a)return!1;var e=0;var f=b.ancestors(this);for(c=f.length;e<c;e++)if(f[e]===a)return!0;e=0;f=b.ancestors(a);for(c=f.length;e<c;e++)if(f[e]===this)return!1;return C},x.$$arity=1);b.def(O,"$<=",I=function(a){var b;return l(b=this["$equal?"](a))?b:p(this,a)},I.$$arity=1);b.def(O,
"$>",a=function(a){l(t(G,"Module")["$==="](a))||this.$raise(t(G,"TypeError"),"compared with non class/module");return p(a,this)},a.$$arity=1);b.def(O,"$>=",d=function(a){var b;return l(b=this["$equal?"](a))?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},d.$$arity=1);b.def(O,"$<=>",H=function(a){if(this===a)return 0;if(!l(t(G,"Module")["$==="](a)))return C;a=p(this,a);return l(a["$nil?"]())?C:l(a)?-1:1},H.$$arity=1);b.def(O,"$alias_method",r=function(a,c){b.alias(this,a,c);return this},
r.$$arity=2);b.def(O,"$alias_native",Q=function(a,c){null==c&&(c=a);b.alias_native(this,a,c);return this},Q.$$arity=-2);b.def(O,"$ancestors",S=function(){return b.ancestors(this)},S.$$arity=0);b.def(O,"$append_features",g=function(a){b.append_features(this,a);return this},g.$$arity=1);b.def(O,"$attr_accessor",c=function(a){var c=b.slice.call(arguments,0,arguments.length);v(this,"attr_reader",b.to_a(c));return v(this,"attr_writer",b.to_a(c))},c.$$arity=-1);b.alias(O,"attr","attr_accessor");b.def(O,
"$attr_reader",z=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=this.$$prototype,f=c.length-1;0<=f;f--){var d=c[f],g="$"+d;d=b.ivar(d);var n=function(a){return function(){return null==this[a]?C:this[a]}}(d);b.defineProperty(e,d,C);n.$$parameters=[];n.$$arity=0;b.defn(this,g,n)}return C},z.$$arity=-1);b.def(O,"$attr_writer",q=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=this.$$prototype,f=c.length-1;0<=f;f--){var d=c[f],g="$"+d+"=";d=b.ivar(d);var n=
function(a){return function(b){return this[a]=b}}(d);n.$$parameters=[["req"]];n.$$arity=1;b.defineProperty(e,d,C);b.defn(this,g,n)}return C},q.$$arity=-1);b.def(O,"$autoload",V=function(a,c){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[a]=c;return C},V.$$arity=2);b.def(O,"$class_variables",D=function(){return Object.keys(b.class_variables(this))},D.$$arity=0);b.def(O,"$class_variable_get",n=function(a){a=t(G,"Opal")["$class_variable_name!"](a);var c=b.class_variables(this)[a];
null==c&&this.$raise(t(G,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return c},n.$$arity=1);b.def(O,"$class_variable_set",f=function(a,c){a=t(G,"Opal")["$class_variable_name!"](a);return b.class_variable_set(this,a,c)},f.$$arity=2);b.def(O,"$class_variable_defined?",e=function(a){a=t(G,"Opal")["$class_variable_name!"](a);return b.class_variables(this).hasOwnProperty(a)},e.$$arity=1);b.def(O,"$remove_class_variable",X=function(a){a=t(G,"Opal")["$class_variable_name!"](a);if(b.hasOwnProperty.call(this.$$cvars,
a)){var c=this.$$cvars[a];delete this.$$cvars[a];return c}this.$raise(t(G,"NameError"),"cannot remove "+a+" for "+this)},X.$$arity=1);b.def(O,"$constants",E=function(a){null==a&&(a=!0);return b.constants(this,a)},E.$$arity=-1);b.defs(O,"$constants",ba=function(a){if(null==a){a=(this.$$nesting||[]).concat(b.Object);var c,e={},f;var d=0;for(f=a.length;d<f;d++)for(c in a[d].$$const)e[c]=!0;return Object.keys(e)}return b.constants(this,a)},ba.$$arity=-1);b.defs(O,"$nesting",L=function(){return this.$$nesting||
[]},L.$$arity=0);b.def(O,"$const_defined?",N=function(a,c){null==c&&(c=!0);a=t(G,"Opal")["$const_name!"](a);l(a["$=~"](w(t(G,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(t(G,"NameError").$new("wrong constant name "+a,a));var e=[this],f;c&&(e=e.concat(b.ancestors(this)),this.$$is_module&&(e=e.concat([b.Object]).concat(b.ancestors(b.Object))));var d=0;for(f=e.length;d<f;d++)if(c=e[d],null!=c.$$const[a])return!0;return!1},N.$$arity=-2);b.def(O,"$const_get",na=function(a,c){var e;null==c&&(c=!0);a=t(G,
"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(l(-1!=a.indexOf("::")&&"::"!=a))return v(a.$split("::"),"inject",[this],(e=function(a,b){null==a&&(a=C);null==b&&(b=C);return a.$const_get(b)},e.$$s=this,e.$$arity=2,e));l(a["$=~"](w(t(G,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(t(G,"NameError").$new("wrong constant name "+a,a));return c?t([this],a):b.const_get_local(this,a)},na.$$arity=-2);b.def(O,"$const_missing",u=function(a){var b;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),
this.$const_get(a);b=this["$=="](t(G,"Object"))?a:""+this+"::"+a;return this.$raise(t(G,"NameError").$new("uninitialized constant "+b,a))},u.$$arity=1);b.def(O,"$const_set",W=function(a,c){var e;a=t(G,"Opal")["$const_name!"](a);l(l(e=a["$!~"](w(t(G,"Opal"),"CONST_NAME_REGEXP")))?e:a["$start_with?"]("::"))&&this.$raise(t(G,"NameError").$new("wrong constant name "+a,a));b.const_set(this,a,c);return c},W.$$arity=2);b.def(O,"$public_constant",fa=function(a){return C},fa.$$arity=1);b.def(O,"$define_method",
ma=function(a,c){var e=ma.$$p,f=e||C,d,g,n=this,q=C;e&&(ma.$$p=null);e&&(ma.$$p=null);l(void 0===c&&f===C)&&n.$raise(t(G,"ArgumentError"),"tried to create a Proc object without a block");f=l(d=f)?d:function(){q=c;return t(G,"Proc")["$==="](q)?c:t(G,"Method")["$==="](q)?c.$to_proc().$$unbound:t(G,"UnboundMethod")["$==="](q)?F((g=function(a){var e=g.$$s||this;var f=b.slice.call(arguments,0,arguments.length);e=c.$bind(e);return v(e,"call",b.to_a(f))},g.$$s=n,g.$$arity=-1,g)):n.$raise(t(G,"TypeError"),
"wrong argument type "+f.$class()+" (expected Proc/Method)")}();f.$$jsid=a;f.$$s=null;f.$$def=f;f.$$define_meth=!0;b.defn(n,"$"+a,f);return a},ma.$$arity=-2);b.def(O,"$remove_method",ja=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++)b.rdef(this,"$"+c[e]);return this},ja.$$arity=-1);b.def(O,"$singleton_class?",U=function(){return!!this.$$is_singleton},U.$$arity=0);b.def(O,"$include",ya=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=
c.length-1;0<=e;e--){var f=c[e];f.$$is_module||this.$raise(t(G,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(this);f.$included(this)}return this},ya.$$arity=-1);b.def(O,"$included_modules",Ca=function(){return b.included_modules(this)},Ca.$$arity=0);b.def(O,"$include?",za=function(a){a.$$is_module||this.$raise(t(G,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var c,e=b.ancestors(this);var f=0;for(c=e.length;f<c;f++){var d=e[f];if(d===
a&&d!==this)return!0}return!1},za.$$arity=1);b.def(O,"$instance_method",Ia=function(a){var b=this.$$prototype["$"+a];b&&!b.$$stub||this.$raise(t(G,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return t(G,"UnboundMethod").$new(this,b.$$owner||this,b,a)},Ia.$$arity=1);b.def(O,"$instance_methods",aa=function(a){null==a&&(a=!0);return l(a)?b.instance_methods(this):b.own_instance_methods(this)},aa.$$arity=-1);b.def(O,"$included",xa=function(a){return C},xa.$$arity=1);b.def(O,
"$extended",ca=function(a){return C},ca.$$arity=1);b.def(O,"$extend_object",ta=function(a){return C},ta.$$arity=1);b.def(O,"$method_added",Aa=function(a){b.slice.call(arguments,0,arguments.length);return C},Aa.$$arity=-1);b.def(O,"$method_removed",da=function(a){b.slice.call(arguments,0,arguments.length);return C},da.$$arity=-1);b.def(O,"$method_undefined",Z=function(a){b.slice.call(arguments,0,arguments.length);return C},Z.$$arity=-1);b.def(O,"$module_eval",Ea=function(a){var c=Ea.$$p,e=c||C,f,d,
g=C,n=C,q=n=n=C;c&&(Ea.$$p=null);c&&(Ea.$$p=null);c=b.slice.call(arguments,0,arguments.length);l(l(f=e["$nil?"]())?!!b.compile:f)?(l(y(1,3,!1)["$cover?"](c.$size()))||t(G,"Kernel").$raise(t(G,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=[].concat(b.to_a(c)),g=null==f[0]?C:f[0],n=null==f[1]?C:f[1],f,n=m(["file","eval"],{file:l(f=n)?f:"(eval)",eval:!0}),n=b.hash({arity_check:!1}).$merge(n),q=t(G,"Opal").$compile(g,n),e=v(t(G,"Kernel"),"proc",[],(d=function(){return function(a){return eval(q)}(d.$$s||
this)},d.$$s=this,d.$$arity=0,d))):l(c["$any?"]())&&t(G,"Kernel").$raise(t(G,"ArgumentError"),"wrong number of arguments ("+c.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");f=e.$$s;e.$$s=null;c=e.apply(this,[this]);e.$$s=f;return c},Ea.$$arity=-1);b.alias(O,"class_eval","module_eval");b.def(O,"$module_exec",ua=function(a){var c=ua.$$p,e=c||C;c&&(ua.$$p=null);c&&(ua.$$p=null);var f=b.slice.call(arguments,0,arguments.length);
e===C&&this.$raise(t(G,"LocalJumpError"),"no block given");c=e.$$s;e.$$s=null;f=e.apply(this,f);e.$$s=c;return f},ua.$$arity=-1);b.alias(O,"class_exec","module_exec");b.def(O,"$method_defined?",Va=function(a){a=this.$$prototype["$"+a];return!!a&&!a.$$stub},Va.$$arity=1);b.def(O,"$module_function",Ta=function(a){var c=b.slice.call(arguments,0,arguments.length);if(0===c.length)this.$$module_function=!0;else for(var e=0,f=c.length;e<f;e++){var d="$"+c[e];b.defs(this,d,this.$$prototype[d])}return this},
Ta.$$arity=-1);b.def(O,"$name",oa=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],c=this;c;){if(c.$$name===C||null==c.$$name)return C;a.unshift(c.$$name);c=c.$$base_module;if(c===b.Object)break}return 0===a.length?C:this.$$full_name=a.join("::")},oa.$$arity=0);b.def(O,"$prepend",Y=function(a){var c=b.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(t(G,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var e=c.length-1;0<=e;e--){var f=c[e];
f.$$is_module||this.$raise(t(G,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$prepend_features(this);f.$prepended(this)}return this},Y.$$arity=-1);b.def(O,"$prepend_features",wa=function(a){this.$$is_module||this.$raise(t(G,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");b.prepend_features(this,a);return this},wa.$$arity=1);b.def(O,"$prepended",qa=function(a){return C},qa.$$arity=1);b.def(O,"$remove_const",Ra=function(a){return b.const_remove(this,
a)},Ra.$$arity=1);b.def(O,"$to_s",Ja=function(){var a;return l(a=b.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ja.$$arity=0);b.def(O,"$undef_method",Fa=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++)b.udef(this,"$"+c[e]);return this},Fa.$$arity=-1);b.def(O,"$instance_variables",Ka=function(){var a=(b.Module.$$nesting=G,this.$constants());var c=[],e;for(e in this)this.hasOwnProperty(e)&&"$"!==e.charAt(0)&&
"constructor"!==e&&!a["$include?"](e)&&c.push("@"+e);return c},Ka.$$arity=0);b.def(O,"$dup",ea=function(){var a=ea.$$p,c;a&&(ea.$$p=null);var e=0;var f=arguments.length;for(c=Array(f);e<f;e++)c[e]=arguments[e];a=v(this,b.find_super_dispatcher(this,"dup",ea,!1),c,a);a.$copy_class_variables(this);a.$copy_constants(this);return a},ea.$$arity=0);b.def(O,"$copy_class_variables",ra=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},ra.$$arity=1);return(b.def(O,"$copy_constants",ha=function(a){var c;
a=a.$$const;for(c in a)b.const_set(this,c,a[c])},ha.$$arity=1),C)&&"copy_constants"}(B[0],null,B)};
Opal.modules["corelib/class"]=function(b){var p=b.top,B=[],C=b.nil,w=b.const_get_relative,t=b.klass,h=b.send;b.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));p.$require("corelib/module");return function(p,$super,F){p=t(p,$super,"Class");var y=[p].concat(F),m,O,P,J,G,k,B;b.defs(p,"$new",m=function(k){var x=m.$$p,t=x||C;x&&(m.$$p=null);x&&(m.$$p=null);null==k&&(k=w(y,"Object"));if(!k.$$is_class)throw b.TypeError.$new("superclass must be a Class");x=b.allocate_class(C,
k);k.$inherited(x);t!==C&&h(x,"class_eval",[],t.$to_proc());return x},m.$$arity=-1);b.def(p,"$allocate",O=function(){var k=new this.$$constructor;k.$$id=b.uid();return k},O.$$arity=0);b.def(p,"$inherited",P=function(b){return C},P.$$arity=1);b.def(p,"$initialize_dup",J=function(b){this.$initialize_copy(b);this.$$full_name=this.$$name=null},J.$$arity=1);b.def(p,"$new",G=function(k){var h=G.$$p,m=h||C;h&&(G.$$p=null);h&&(G.$$p=null);h=b.slice.call(arguments,0,arguments.length);var a=this.$allocate();
b.send(a,a.$initialize,h,m);return a},G.$$arity=-1);b.def(p,"$superclass",k=function(){return this.$$super||C},k.$$arity=0);return(b.def(p,"$to_s",B=function(){B.$$p&&(B.$$p=null);var k=this.$$singleton_of;return k&&k.$$is_a_module?"#<Class:"+k.$name()+">":k?"#<Class:#<"+k.$$class.$name()+":0x"+b.id(k).$to_s(16)+">>":h(this,b.find_super_dispatcher(this,"to_s",B,!1),[],null)},B.$$arity=0),C)&&"to_s"}(B[0],null,B)};
Opal.modules["corelib/basic_object"]=function(b){var p=[],B=b.nil,C=b.const_get_qualified,w=b.klass,t=b.truthy,h=b.range,v=b.hash2,l=b.send;b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(F,$super,m){F=w(F,$super,"BasicObject");[F].concat(m);var p,P,J,G,k,ka,T,x,I,a,d,H,r,Q;b.def(F,"$initialize",p=function(a){b.slice.call(arguments,0,arguments.length);return B},p.$$arity=-1);b.def(F,"$==",P=function(a){return this===a},P.$$arity=
1);b.def(F,"$eql?",J=function(a){return this["$=="](a)},J.$$arity=1);b.alias(F,"equal?","==");b.def(F,"$__id__",G=function(){if(null!=this.$$id)return this.$$id;b.defineProperty(this,"$$id",b.uid());return this.$$id},G.$$arity=0);b.def(F,"$__send__",k=function(a,d){var c=k.$$p,g=c||B;c&&(k.$$p=null);c&&(k.$$p=null);c=b.slice.call(arguments,1,arguments.length);var q=this["$"+a];if(q)return g!==B&&(q.$$p=g),q.apply(this,c);g!==B&&(this.$method_missing.$$p=g);return this.$method_missing.apply(this,[a].concat(c))},
k.$$arity=-2);b.def(F,"$!",ka=function(){return!1},ka.$$arity=0);b.def(F,"$!=",T=function(a){return this["$=="](a)["$!"]()},T.$$arity=1);b.def(F,"$instance_eval",x=function(a){var d=x.$$p,c=d||B,k,q,H=B,r=B,n=r=r=B;d&&(x.$$p=null);d&&(x.$$p=null);d=b.slice.call(arguments,0,arguments.length);t(t(k=c["$nil?"]())?!!b.compile:k)?(t(h(1,3,!1)["$cover?"](d.$size()))||C("::","Kernel").$raise(C("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),k=[].concat(b.to_a(d)),H=null==k[0]?B:k[0],r=null==
k[1]?B:k[1],k,r=v(["file","eval"],{file:t(k=r)?k:"(eval)",eval:!0}),r=b.hash({arity_check:!1}).$merge(r),n=C("::","Opal").$compile(H,r),c=l(C("::","Kernel"),"proc",[],(q=function(){return function(a){return eval(n)}(q.$$s||this)},q.$$s=this,q.$$arity=0,q))):t(d["$any?"]())&&C("::","Kernel").$raise(C("::","ArgumentError"),"wrong number of arguments ("+d.$size()+" for 0)");k=c.$$s;c.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var f=c.call(this,this)}finally{this.$$eval=!1}}else f=c.call(this,
this);c.$$s=k;return f},x.$$arity=-1);b.def(F,"$instance_exec",I=function(a){var d=I.$$p,c=d||B;d&&(I.$$p=null);d&&(I.$$p=null);d=b.slice.call(arguments,0,arguments.length);t(c)||C("::","Kernel").$raise(C("::","ArgumentError"),"no block given");var k=c.$$s;c.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var q=c.apply(this,d)}finally{this.$$eval=!1}}else q=c.apply(this,d);c.$$s=k;return q},I.$$arity=-1);b.def(F,"$singleton_method_added",a=function(a){b.slice.call(arguments,0,arguments.length);
return B},a.$$arity=-1);b.def(F,"$singleton_method_removed",d=function(a){b.slice.call(arguments,0,arguments.length);return B},d.$$arity=-1);b.def(F,"$singleton_method_undefined",H=function(a){b.slice.call(arguments,0,arguments.length);return B},H.$$arity=-1);b.def(F,"$class",r=function(){return this.$$class},r.$$arity=0);return(b.def(F,"$method_missing",Q=function(a,d){var c=Q.$$p;c&&(Q.$$p=null);c&&(Q.$$p=null);b.slice.call(arguments,1,arguments.length);c=t(this.$inspect&&!this.$inspect.$$stub)?
"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class;return C("::","Kernel").$raise(C("::","NoMethodError").$new(c,a))},Q.$$arity=-2),B)&&"method_missing"}(p[0],null,p)};
Opal.modules["corelib/kernel"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b<=h:b["$<="](h)}var B=[],C=b.nil,w=b.const_get_qualified,t=b.const_get_relative,h=b.module,v=b.truthy,l=b.gvars,F=b.hash2,y=b.send,m=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $coerce_to $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(m,
P){m=h(m,"Kernel");var J=[m].concat(P),G,k,B,T,x,I,a,d,H,r,Q,S,g,c,z,q,V,D,n,f,e,X,E,ba,L,N,na,u,W,fa,ma,ja,U,ya,Ca,za,Ia,aa,xa,ca,ta,Aa,da,Z,Ea,ua,O,Ta,oa,Y,wa,qa,Ra,Ja,Fa,Ka,ea,ra,ha,va,Ba,la,Ma,Da,Na;b.def(m,"$method_missing",G=function(a,c){var e=G.$$p;e&&(G.$$p=null);e&&(G.$$p=null);e=b.slice.call(arguments,1,arguments.length);return this.$raise(t(J,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,e))},G.$$arity=-2);b.def(m,"$=~",k=function(a){return!1},k.$$arity=1);b.def(m,
"$!~",B=function(a){return this["$=~"](a)["$!"]()},B.$$arity=1);b.def(m,"$===",T=function(a){var b;return v(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},T.$$arity=1);b.def(m,"$<=>",x=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==C?0:C},x.$$arity=1);b.def(m,"$method",I=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(t(J,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return t(J,"Method").$new(this,b.$$owner||this.$class(),b,a)},
I.$$arity=1);b.def(m,"$methods",a=function(a){null==a&&(a=!0);return v(a)?b.methods(this):b.own_methods(this)},a.$$arity=-1);b.def(m,"$public_methods",d=function(a){null==a&&(a=!0);return v(a)?b.methods(this):b.receiver_methods(this)},d.$$arity=-1);b.def(m,"$Array",H=function(a){if(a===C)return[];if(a.$$is_array)return a;var b=t(J,"Opal")["$coerce_to?"](a,t(J,"Array"),"to_ary");if(b!==C)return b;b=t(J,"Opal")["$coerce_to?"](a,t(J,"Array"),"to_a");return b!==C?b:[a]},H.$$arity=1);b.def(m,"$at_exit",
r=function(){var a=r.$$p,b=a||C,c;null==l.__at_exit__&&(l.__at_exit__=C);a&&(r.$$p=null);a&&(r.$$p=null);l.__at_exit__=v(c=l.__at_exit__)?c:[];return l.__at_exit__["$<<"](b)},r.$$arity=0);b.def(m,"$caller",Q=function(a){b.slice.call(arguments,0,arguments.length);return[]},Q.$$arity=-1);b.def(m,"$class",S=function(){return this.$$class},S.$$arity=0);b.def(m,"$copy_instance_variables",g=function(a){var b=Object.keys(a),c;var e=0;for(c=b.length;e<c;e++){var f=b[e];"$"!==f.charAt(0)&&a.hasOwnProperty(f)&&
(this[f]=a[f])}},g.$$arity=1);b.def(m,"$copy_singleton_methods",c=function(a){var c;if(a.hasOwnProperty("$$meta")){var e=b.get_singleton_class(a),f=b.get_singleton_class(this);var d=Object.getOwnPropertyNames(e.$$prototype);var g=0;for(c=d.length;g<c;g++){var n=d[g];b.is_method(n)&&(f.$$prototype[n]=e.$$prototype[n])}f.$$const=Object.assign({},e.$$const);Object.setPrototypeOf(f.$$prototype,Object.getPrototypeOf(e.$$prototype))}g=0;d=Object.getOwnPropertyNames(a);for(c=d.length;g<c;g++)n=d[g],"$"===
n.charAt(0)&&"$"!==n.charAt(1)&&a.hasOwnProperty(n)&&(this[n]=a[n])},c.$$arity=1);b.def(m,"$clone",z=function(a){if(null==a)F([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},z.$$arity=-1);b.def(m,"$initialize_clone",q=function(a){return this.$initialize_copy(a)},q.$$arity=1);b.def(m,"$define_singleton_method",V=function(a,b){var c=V.$$p,e=c||C;
c&&(V.$$p=null);c&&(V.$$p=null);return y(this.$singleton_class(),"define_method",[a,b],e.$to_proc())},V.$$arity=-2);b.def(m,"$dup",D=function(){var a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},D.$$arity=0);b.def(m,"$initialize_dup",n=function(a){return this.$initialize_copy(a)},n.$$arity=1);b.def(m,"$enum_for",f=function(a,c){var e=f.$$p,d=e||C;e&&(f.$$p=null);e&&(f.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(0<e.length){var g=e[0];e.splice(0,
1)}null==g&&(g="each");return y(t(J,"Enumerator"),"for",[this,g].concat(b.to_a(e)),d.$to_proc())},f.$$arity=-1);b.alias(m,"to_enum","enum_for");b.def(m,"$equal?",e=function(a){return this===a},e.$$arity=1);b.def(m,"$exit",X=function(a){var c;null==l.__at_exit__&&(l.__at_exit__=C);null==a&&(a=!0);for(l.__at_exit__=v(c=l.__at_exit__)?c:[];!v(l.__at_exit__["$empty?"]());)c=l.__at_exit__.$pop(),c.$call();a=a.$$is_boolean?a?0:1:t(J,"Opal").$coerce_to(a,t(J,"Integer"),"to_int");b.exit(a);return C},X.$$arity=
-1);b.def(m,"$extend",E=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=this.$singleton_class(),f=c.length-1;0<=f;f--){var d=c[f];d.$$is_module||this.$raise(t(J,"TypeError"),"wrong argument type "+d.$class()+" (expected Module)");d.$append_features(e);d.$extend_object(this);d.$extended(this)}return this},E.$$arity=-1);b.def(m,"$hash",ba=function(){return this.$__id__()},ba.$$arity=0);b.def(m,"$initialize_copy",L=function(a){return C},L.$$arity=1);b.def(m,"$inspect",N=function(){return this.$to_s()},
N.$$arity=0);b.def(m,"$instance_of?",na=function(a){a.$$is_class||a.$$is_module||this.$raise(t(J,"TypeError"),"class or module required");return this.$$class===a},na.$$arity=1);b.def(m,"$instance_variable_defined?",u=function(a){a=t(J,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,a.substr(1))},u.$$arity=1);b.def(m,"$instance_variable_get",W=function(a){a=t(J,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?C:a},W.$$arity=1);b.def(m,"$instance_variable_set",
fa=function(a,c){a=t(J,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=c},fa.$$arity=2);b.def(m,"$remove_instance_variable",ma=function(a){a=t(J,"Opal")["$instance_variable_name!"](a);var c=b.ivar(a.substr(1));return this.hasOwnProperty(c)?(a=this[c],delete this[c],a):this.$raise(t(J,"NameError"),"instance variable "+a+" not defined")},ma.$$arity=1);b.def(m,"$instance_variables",ja=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)&&"$"!==b.charAt(0)){var c="$"===
b.substr(-1)?b.slice(0,b.length-1):b;a.push("@"+c)}return a},ja.$$arity=0);b.def(m,"$Integer",U=function(a,b){var c=this;if(!a.$$is_string){void 0!==b&&c.$raise(t(J,"ArgumentError"),"base specified for non string value");a===C&&c.$raise(t(J,"TypeError"),"can't convert nil into Integer");if(a.$$is_number)return(Infinity===a||-Infinity===a||isNaN(a))&&c.$raise(t(J,"FloatDomainError"),a),Math.floor(a);if(a["$respond_to?"]("to_int")){var e=a.$to_int();if(e!==C)return e}return t(J,"Opal")["$coerce_to!"](a,
t(J,"Integer"),"to_i")}if("0"===a)return 0;void 0===b?b=0:(b=t(J,"Opal").$coerce_to(b,t(J,"Integer"),"to_int"),(1===b||0>b||36<b)&&c.$raise(t(J,"ArgumentError"),"invalid radix "+b));e=a.toLowerCase();e=e.replace(/(\d)_(?=\d)/g,"$1");e=e.replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,f,d){switch(d){case "0b":if(0===b||2===b)return b=2,f;case "0":case "0o":if(0===b||8===b)return b=8,f;case "0d":if(0===b||10===b)return b=10,f;case "0x":if(0===b||16===b)return b=16,f}c.$raise(t(J,"ArgumentError"),'invalid value for Integer(): "'+
a+'"')});b=0===b?10:b;var f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(e)||c.$raise(t(J,"ArgumentError"),'invalid value for Integer(): "'+a+'"');e=parseInt(e,b);isNaN(e)&&c.$raise(t(J,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return e},U.$$arity=-2);b.def(m,"$Float",ya=function(a){a===C&&this.$raise(t(J,"TypeError"),"can't convert nil into Float");if(a.$$is_string){var b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(t(J,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return t(J,"Opal")["$coerce_to!"](a,t(J,"Float"),"to_f")},ya.$$arity=1);b.def(m,"$Hash",Ca=function(a){var b;return v(v(b=a["$nil?"]())?b:a["$=="]([]))?F([],{}):v(t(J,"Hash")["$==="](a))?a:t(J,"Opal")["$coerce_to!"](a,t(J,"Hash"),"to_hash")},Ca.$$arity=1);b.def(m,"$is_a?",za=function(a){a.$$is_class||a.$$is_module||this.$raise(t(J,"TypeError"),"class or module required");
return b.is_a(this,a)},za.$$arity=1);b.def(m,"$itself",Ia=function(){return this},Ia.$$arity=0);b.alias(m,"kind_of?","is_a?");b.def(m,"$lambda",aa=function(){var a=aa.$$p,c=a||C;a&&(aa.$$p=null);a&&(aa.$$p=null);return b.lambda(c)},aa.$$arity=0);b.def(m,"$load",xa=function(a){a=t(J,"Opal")["$coerce_to!"](a,t(J,"String"),"to_str");return b.load(a)},xa.$$arity=1);b.def(m,"$loop",ca=function(){var a,c=ca.$$p,e=c||C,f=C;c&&(ca.$$p=null);if(e===C)return y(this,"enum_for",["loop"],(a=function(){return w(t(J,
"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;v(!0);)try{b.yieldX(e,[])}catch(Qa){if(b.rescue(Qa,[t(J,"StopIteration")])){f=Qa;try{return f.$result()}finally{b.pop_exception()}}else throw Qa;}return this},ca.$$arity=0);b.def(m,"$nil?",ta=function(){return!1},ta.$$arity=0);b.alias(m,"object_id","__id__");b.def(m,"$printf",Aa=function(a){var c=b.slice.call(arguments,0,arguments.length);v(c["$any?"]())&&this.$print(y(this,"format",b.to_a(c)));return C},Aa.$$arity=-1);b.def(m,"$proc",da=function(){var a=
da.$$p,b=a||C;a&&(da.$$p=null);a&&(da.$$p=null);v(b)||this.$raise(t(J,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},da.$$arity=0);b.def(m,"$puts",Z=function(a){null==l.stdout&&(l.stdout=C);var c=b.slice.call(arguments,0,arguments.length);return y(l.stdout,"puts",b.to_a(c))},Z.$$arity=-1);b.def(m,"$p",Ea=function(a){var c;var e=b.slice.call(arguments,0,arguments.length);y(e,"each",[],(c=function(a){null==l.stdout&&(l.stdout=C);null==a&&(a=C);return l.stdout.$puts(a.$inspect())},
c.$$s=this,c.$$arity=1,c));return v(p(e.$length(),1))?e["$[]"](0):e},Ea.$$arity=-1);b.def(m,"$print",ua=function(a){null==l.stdout&&(l.stdout=C);var c=b.slice.call(arguments,0,arguments.length);return y(l.stdout,"print",b.to_a(c))},ua.$$arity=-1);b.def(m,"$warn",O=function(a){var c;null==l.VERBOSE&&(l.VERBOSE=C);null==l.stderr&&(l.stderr=C);var e=b.slice.call(arguments,0,arguments.length);return v(v(c=l.VERBOSE["$nil?"]())?c:e["$empty?"]())?C:y(l.stderr,"puts",b.to_a(e))},O.$$arity=-1);b.def(m,"$raise",
Ta=function(a,c,e){null==l["!"]&&(l["!"]=C);null==c&&(c=C);if(null==a&&l["!"]!==C)throw l["!"];null==a?a=t(J,"RuntimeError").$new():a.$$is_string?a=t(J,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(c):a["$is_a?"](t(J,"Exception"))||(a=t(J,"TypeError").$new("exception class/object expected"));l["!"]!==C&&b.exceptions.push(l["!"]);l["!"]=a;throw a;},Ta.$$arity=-1);b.alias(m,"fail","raise");b.def(m,"$rand",oa=function(a){if(void 0===a)return w(t(J,"Random"),"DEFAULT").$rand();
a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return w(t(J,"Random"),"DEFAULT").$rand(a)},oa.$$arity=-1);b.def(m,"$respond_to?",Y=function(a,b){null==b&&(b=!1);if(v(this["$respond_to_missing?"](a,b)))return!0;a=this["$"+a];return"function"!==typeof a||a.$$stub?!1:!0},Y.$$arity=-2);b.def(m,"$respond_to_missing?",wa=function(a,b){return!1},wa.$$arity=-2);b.def(m,"$require",qa=function(a){a=t(J,"Opal")["$coerce_to!"](a,t(J,"String"),"to_str");return b.require(a)},qa.$$arity=
1);b.def(m,"$require_relative",Ra=function(a){t(J,"Opal")["$try_convert!"](a,t(J,"String"),"to_str");a=t(J,"File").$expand_path(t(J,"File").$join(b.current_file,"..",a));return b.require(a)},Ra.$$arity=1);b.def(m,"$require_tree",Ja=function(a){var c=[];a=t(J,"File").$expand_path(a);a=b.normalize(a);"."===a&&(a="");for(var e in b.modules)e["$start_with?"](a)&&c.push([e,b.require(e)]);return c},Ja.$$arity=1);b.alias(m,"send","__send__");b.alias(m,"public_send","__send__");b.def(m,"$singleton_class",
Fa=function(){return b.get_singleton_class(this)},Fa.$$arity=0);b.def(m,"$sleep",Ka=function(a){null==a&&(a=C);a===C&&this.$raise(t(J,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(t(J,"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(t(J,"ArgumentError"),"time interval must be positive");for(var c=b.global.performance?function(){return performance.now()}:function(){return new Date},e=c();c()-e<=1E3*a;);return a},Ka.$$arity=-1);
b.def(m,"$srand",ea=function(a){null==a&&(a=t(J,"Random").$new_seed());return t(J,"Random").$srand(a)},ea.$$arity=-1);b.def(m,"$String",ra=function(a){var b;return v(b=t(J,"Opal")["$coerce_to?"](a,t(J,"String"),"to_str"))?b:t(J,"Opal")["$coerce_to!"](a,t(J,"String"),"to_s")},ra.$$arity=1);b.def(m,"$tap",ha=function(){var a=ha.$$p,c=a||C;a&&(ha.$$p=null);a&&(ha.$$p=null);b.yield1(c,this);return this},ha.$$arity=0);b.def(m,"$to_proc",va=function(){return this},va.$$arity=0);b.def(m,"$to_s",Ba=function(){return"#<"+
this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Ba.$$arity=0);b.def(m,"$catch",la=function(a){var c=la.$$p,e=c||C;c&&(la.$$p=null);try{return b.yieldX(e,[])}catch(Ga){if(b.rescue(Ga,[t(J,"UncaughtThrowError")])){c=Ga;try{return c.$sym()["$=="](a)?c.$arg():this.$raise()}finally{b.pop_exception()}}else throw Ga;}},la.$$arity=1);b.def(m,"$throw",Ma=function(a){var c=b.slice.call(arguments,0,arguments.length);return this.$raise(t(J,"UncaughtThrowError"),c)},Ma.$$arity=-1);b.def(m,"$open",Da=function(a){var c=
Da.$$p,e=c||C;c&&(Da.$$p=null);c&&(Da.$$p=null);c=b.slice.call(arguments,0,arguments.length);return y(t(J,"File"),"open",b.to_a(c),e.$to_proc())},Da.$$arity=-1);b.def(m,"$yield_self",Na=function(){var a,c=Na.$$p,e=c||C;c&&(Na.$$p=null);return e===C?y(this,"enum_for",["yield_self"],(a=function(){return 1},a.$$s=this,a.$$arity=0,a)):b.yield1(e,this)},Na.$$arity=0)})(B[0],B);return function(b,$super,h){b=m(b,$super,"Object");h=[b].concat(h);return b.$include(t(h,"Kernel"))}(B[0],null,B)};
Opal.modules["corelib/error"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.klass,t=b.send,h=b.truthy,v=b.module,l=b.hash2;b.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(l,$super,m){l=w(l,$super,"Exception");var p=[l].concat(m),F,J,G,k,v,T,x,I,a;l.$$prototype.message=B;b.defs(l,"$new",F=function(a){var k=b.slice.call(arguments,0,arguments.length);var H=0<k.length?k[0]:B,h=new this.$$constructor(H);h.name=this.$$name;h.message=
H;b.send(h,h.$initialize,k);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(h,d);return h},F.$$arity=-1);var d=l.$new;b.defs(l,"$exception",J=function(a){var d=b.slice.call(arguments,0,arguments.length);return t(this,"new",b.to_a(d))},J.$$arity=-1);b.def(l,"$initialize",G=function(a){var d=b.slice.call(arguments,0,arguments.length);return this.message=0<d.length?d[0]:B},G.$$arity=-1);b.def(l,"$backtrace",k=function(){if(this.backtrace)return this.backtrace;var a=this.stack;
return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},k.$$arity=0);b.def(l,"$exception",v=function(a){null==a&&(a=B);if(a===B||this===a)return this;var b=this.$clone();b.message=a;return b},v.$$arity=-1);b.def(l,"$message",T=function(){return this.$to_s()},T.$$arity=0);b.def(l,"$inspect",x=function(){var a=this.$to_s();return h(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},x.$$arity=0);b.def(l,"$set_backtrace",I=function(a){var b=!0,d;if(a===
B)this.backtrace=B;else if(a.$$is_string)this.backtrace=[a];else{if(a.$$is_array){var k=0;for(d=a.length;k<d;k++)if(!a[k].$$is_string){b=!1;break}}else b=!1;!1===b&&this.$raise(C(p,"TypeError"),"backtrace must be Array of String");this.backtrace=a}return a},I.$$arity=1);return(b.def(l,"$to_s",a=function(){var a,b;return h(a=h(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},a.$$arity=0),B)&&"to_s"})(p[0],Error,p);(function(b,$super,h){[w(b,$super,"ScriptError")].concat(h);return B})(p[0],
C(p,"Exception"),p);(function(b,$super,h){[w(b,$super,"SyntaxError")].concat(h);return B})(p[0],C(p,"ScriptError"),p);(function(b,$super,h){[w(b,$super,"LoadError")].concat(h);return B})(p[0],C(p,"ScriptError"),p);(function(b,$super,h){[w(b,$super,"NotImplementedError")].concat(h);return B})(p[0],C(p,"ScriptError"),p);(function(b,$super,h){[w(b,$super,"SystemExit")].concat(h);return B})(p[0],C(p,"Exception"),p);(function(b,$super,h){[w(b,$super,"NoMemoryError")].concat(h);return B})(p[0],C(p,"Exception"),
p);(function(b,$super,h){[w(b,$super,"SignalException")].concat(h);return B})(p[0],C(p,"Exception"),p);(function(b,$super,h){[w(b,$super,"Interrupt")].concat(h);return B})(p[0],C(p,"Exception"),p);(function(b,$super,h){[w(b,$super,"SecurityError")].concat(h);return B})(p[0],C(p,"Exception"),p);(function(b,$super,h){[w(b,$super,"StandardError")].concat(h);return B})(p[0],C(p,"Exception"),p);(function(b,$super,h){[w(b,$super,"EncodingError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,
$super,h){[w(b,$super,"ZeroDivisionError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,$super,h){[w(b,$super,"NameError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,$super,h){[w(b,$super,"NoMethodError")].concat(h);return B})(p[0],C(p,"NameError"),p);(function(b,$super,h){[w(b,$super,"RuntimeError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,$super,h){[w(b,$super,"FrozenError")].concat(h);return B})(p[0],C(p,"RuntimeError"),p);(function(b,
$super,h){[w(b,$super,"LocalJumpError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,$super,h){[w(b,$super,"TypeError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,$super,h){[w(b,$super,"ArgumentError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,$super,h){[w(b,$super,"IndexError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,$super,h){[w(b,$super,"StopIteration")].concat(h);return B})(p[0],C(p,"IndexError"),p);(function(b,
$super,h){[w(b,$super,"KeyError")].concat(h);return B})(p[0],C(p,"IndexError"),p);(function(b,$super,h){[w(b,$super,"RangeError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,$super,h){[w(b,$super,"FloatDomainError")].concat(h);return B})(p[0],C(p,"RangeError"),p);(function(b,$super,h){[w(b,$super,"IOError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(b,$super,h){[w(b,$super,"SystemCallError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(l,y){l=[v(l,
"Errno")].concat(y);(function(l,$super,y){l=w(l,$super,"EINVAL");[l].concat(y);var m;return(b.defs(l,"$new",m=function(l){m.$$p&&(m.$$p=null);null==l&&(l=B);var k="Invalid argument";h(l)&&(l=" - "+l,k="number"===typeof k&&"number"===typeof l?k+l:k["$+"](l));return t(this,b.find_super_dispatcher(this,"new",m,!1,this.$$class.$$prototype),[k],null)},m.$$arity=-1),B)&&"new"})(l[0],C(l,"SystemCallError"),l)})(p[0],p);(function(l,$super,m){l=w(l,$super,"UncaughtThrowError");[l].concat(m);var p;l.$$prototype.sym=
B;l.$attr_reader("sym","arg");return(b.def(l,"$initialize",p=function(l){p.$$p&&(p.$$p=null);this.sym=l["$[]"](0);var m=l.$length();m="number"===typeof m?1<m:m["$>"](1);h(m)&&(this.arg=l["$[]"](1));return t(this,b.find_super_dispatcher(this,"initialize",p,!1),["uncaught throw "+this.sym.$inspect()],null)},p.$$arity=1),B)&&"initialize"})(p[0],C(p,"ArgumentError"),p);(function(h,$super,l){h=w(h,$super,"NameError");[h].concat(l);var m;h.$attr_reader("name");return(b.def(h,"$initialize",m=function(h,
l){m.$$p&&(m.$$p=null);null==l&&(l=B);t(this,b.find_super_dispatcher(this,"initialize",m,!1),[h],null);return this.name=l},m.$$arity=-2),B)&&"initialize"})(p[0],null,p);(function(h,$super,l){h=w(h,$super,"NoMethodError");[h].concat(l);var m;h.$attr_reader("args");return(b.def(h,"$initialize",m=function(h,l,p){m.$$p&&(m.$$p=null);null==l&&(l=B);null==p&&(p=[]);t(this,b.find_super_dispatcher(this,"initialize",m,!1),[h,l],null);return this.args=p},m.$$arity=-2),B)&&"initialize"})(p[0],null,p);(function(b,
$super,h){b=w(b,$super,"StopIteration");[b].concat(h);return b.$attr_reader("result")})(p[0],null,p);(function(p,$super,m){p=w(p,$super,"KeyError");var F=[p].concat(m),P,J,G;p.$$prototype.receiver=p.$$prototype.key=B;b.def(p,"$initialize",P=function(k,h){P.$$p&&(P.$$p=null);if(null==h)h=l([],{});else if(!h.$$is_hash)throw b.ArgumentError.$new("expected kwargs");var m=h.$$smap.receiver;null==m&&(m=B);h=h.$$smap.key;null==h&&(h=B);t(this,b.find_super_dispatcher(this,"initialize",P,!1),[k],null);this.receiver=
m;return this.key=h},P.$$arity=-2);b.def(p,"$receiver",J=function(){var b;return h(b=this.receiver)?b:this.$raise(C(F,"ArgumentError"),"no receiver is available")},J.$$arity=0);return(b.def(p,"$key",G=function(){var b;return h(b=this.key)?b:this.$raise(C(F,"ArgumentError"),"no key is available")},G.$$arity=0),B)&&"key"})(p[0],null,p);return function(b,h){b=[v(b,"JS")].concat(h);[w(b[0],null,"Error")].concat(b)}(p[0],p)};
Opal.modules["corelib/constants"]=function(b){var p=[],B=b.const_get_relative;b.const_set(p[0],"RUBY_PLATFORM","opal");b.const_set(p[0],"RUBY_ENGINE","opal");b.const_set(p[0],"RUBY_VERSION","2.5.1");b.const_set(p[0],"RUBY_ENGINE_VERSION","0.11.99.dev");b.const_set(p[0],"RUBY_RELEASE_DATE","2018-12-25");b.const_set(p[0],"RUBY_PATCHLEVEL",0);b.const_set(p[0],"RUBY_REVISION",0);b.const_set(p[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors");return b.const_set(p[0],
"RUBY_DESCRIPTION","opal "+B(p,"RUBY_ENGINE_VERSION")+" ("+B(p,"RUBY_RELEASE_DATE")+" revision "+B(p,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(b){var p=b.top;b.add_stubs(["$require"]);p.$require("corelib/runtime");p.$require("corelib/helpers");p.$require("corelib/module");p.$require("corelib/class");p.$require("corelib/basic_object");p.$require("corelib/kernel");p.$require("corelib/error");return p.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.klass,t=b.hash2,h=b.truthy;b.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(p,$super,F){p=w(p,$super,"NilClass");var y=[p].concat(F),m,v,P,J,G,k,ka,T,x,I,a,d,H,r,Q,S,g,c;p.$$prototype.$$meta=p;(function(a,c){var d=[a].concat(c),g;b.def(a,"$allocate",g=function(){return this.$raise(C(d,"TypeError"),"allocator undefined for "+this.$name())},g.$$arity=0);b.udef(a,"$new");return B})(b.get_singleton_class(p),
y);b.def(p,"$!",m=function(){return!0},m.$$arity=0);b.def(p,"$&",v=function(a){return!1},v.$$arity=1);b.def(p,"$|",P=function(a){return!1!==a&&a!==B},P.$$arity=1);b.def(p,"$^",J=function(a){return!1!==a&&a!==B},J.$$arity=1);b.def(p,"$==",G=function(a){return a===B},G.$$arity=1);b.def(p,"$dup",k=function(){return B},k.$$arity=0);b.def(p,"$clone",ka=function(a){if(null==a)t([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return B},ka.$$arity=-1);b.def(p,"$inspect",T=function(){return"nil"},
T.$$arity=0);b.def(p,"$nil?",x=function(){return!0},x.$$arity=0);b.def(p,"$singleton_class",I=function(){return C(y,"NilClass")},I.$$arity=0);b.def(p,"$to_a",a=function(){return[]},a.$$arity=0);b.def(p,"$to_h",d=function(){return b.hash()},d.$$arity=0);b.def(p,"$to_i",H=function(){return 0},H.$$arity=0);b.alias(p,"to_f","to_i");b.def(p,"$to_s",r=function(){return""},r.$$arity=0);b.def(p,"$to_c",Q=function(){return C(y,"Complex").$new(0,0)},Q.$$arity=0);b.def(p,"$rationalize",S=function(a){var c=b.slice.call(arguments,
0,arguments.length).$length();c="number"===typeof c?1<c:c["$>"](1);h(c)&&this.$raise(C(y,"ArgumentError"));return this.$Rational(0,1)},S.$$arity=-1);b.def(p,"$to_r",g=function(){return this.$Rational(0,1)},g.$$arity=0);return(b.def(p,"$instance_variables",c=function(){return[]},c.$$arity=0),B)&&"instance_variables"})(p[0],null,p);return b.const_set(p[0],"NIL",B)};
Opal.modules["corelib/boolean"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.klass,t=b.hash2;b.add_stubs(["$raise","$name"]);(function(h,$super,l){h=w(h,$super,"Boolean");var p=[h].concat(l),y,m,O,P,J,G,k,ka,T,x;b.defineProperty(h.$$prototype,"$$is_boolean",!0);b.defineProperty(h.$$prototype,"$$meta",h);(function(k,a){var d=[k].concat(a),h;b.def(k,"$allocate",h=function(){return this.$raise(C(d,"TypeError"),"allocator undefined for "+this.$name())},h.$$arity=0);b.udef(k,"$new");return B})(b.get_singleton_class(h),
p);b.def(h,"$__id__",y=function(){return this.valueOf()?2:0},y.$$arity=0);b.alias(h,"object_id","__id__");b.def(h,"$!",m=function(){return 1!=this},m.$$arity=0);b.def(h,"$&",O=function(b){return 1==this?!1!==b&&b!==B:!1},O.$$arity=1);b.def(h,"$|",P=function(b){return 1==this?!0:!1!==b&&b!==B},P.$$arity=1);b.def(h,"$^",J=function(b){return 1==this?!1===b||b===B:!1!==b&&b!==B},J.$$arity=1);b.def(h,"$==",G=function(b){return 1==this===b.valueOf()},G.$$arity=1);b.alias(h,"equal?","==");b.alias(h,"eql?",
"==");b.def(h,"$singleton_class",k=function(){return C(p,"Boolean")},k.$$arity=0);b.def(h,"$to_s",ka=function(){return 1==this?"true":"false"},ka.$$arity=0);b.def(h,"$dup",T=function(){return this},T.$$arity=0);return(b.def(h,"$clone",x=function(k){if(null==k)t([],{});else if(!k.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},x.$$arity=-1),B)&&"clone"})(p[0],Boolean,p);b.const_set(p[0],"TrueClass",C(p,"Boolean"));b.const_set(p[0],"FalseClass",C(p,"Boolean"));b.const_set(p[0],
"TRUE",!0);return b.const_set(p[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b>h:b["$>"](h)}function B(b,h){return"number"===typeof b&&"number"===typeof h?b<h:b["$<"](h)}var C=[],w=b.nil,t=b.const_get_relative,h=b.module,v=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(l,C){l=h(l,"Comparable");var y=[l].concat(C),m,F,P,J,G,k,ka,T;b.defs(l,"$normalize",m=function(b){return v(t(y,"Integer")["$==="](b))?b:v(p(b,0))?
1:v(B(b,0))?-1:0},m.$$arity=1);b.def(l,"$==",F=function(h){var k=w;try{return v(this["$equal?"](h))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):v(k=this["$<=>"](h))?0==t(y,"Comparable").$normalize(k):!1}catch(a){if(b.rescue(a,[t(y,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw a;}},F.$$arity=1);b.def(l,"$>",P=function(b){var h;v(h=this["$<=>"](b))||this.$raise(t(y,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");
return 0<t(y,"Comparable").$normalize(h)},P.$$arity=1);b.def(l,"$>=",J=function(b){var h;v(h=this["$<=>"](b))||this.$raise(t(y,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0<=t(y,"Comparable").$normalize(h)},J.$$arity=1);b.def(l,"$<",G=function(b){var h;v(h=this["$<=>"](b))||this.$raise(t(y,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>t(y,"Comparable").$normalize(h)},G.$$arity=1);b.def(l,"$<=",k=function(b){var h;
v(h=this["$<=>"](b))||this.$raise(t(y,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>=t(y,"Comparable").$normalize(h)},k.$$arity=1);b.def(l,"$between?",ka=function(b,h){return B(this,b)||p(this,h)?!1:!0},ka.$$arity=2);b.def(l,"$clamp",T=function(b,h){var a=b["$<=>"](h);v(a)||this.$raise(t(y,"ArgumentError"),"comparison of "+b.$class()+" with "+h.$class()+" failed");v(p(t(y,"Comparable").$normalize(a),0))&&this.$raise(t(y,"ArgumentError"),"min argument must be smaller than max argument");
return v(B(t(y,"Comparable").$normalize(this["$<=>"](b)),0))?b:v(p(t(y,"Comparable").$normalize(this["$<=>"](h)),0))?h:this},T.$$arity=2)}(C[0],C)};
Opal.modules["corelib/regexp"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.klass,t=b.send,h=b.truthy,v=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(b,$super,h){[w(b,$super,"RegexpError")].concat(h);return B})(p[0],C(p,"StandardError"),p);(function(l,$super,p){l=w(l,$super,"Regexp");var m=[l].concat(p),y,P,J,G,k,ka,T,x,I,a;b.const_set(m[0],"IGNORECASE",
1);b.const_set(m[0],"EXTENDED",2);b.const_set(m[0],"MULTILINE",4);b.defineProperty(l.$$prototype,"$$is_regexp",!0);(function(a,k){var d=[a].concat(k),H,S,g,c,z;b.def(a,"$allocate",H=function(){var a=H.$$p,c;a&&(H.$$p=null);var d=0;var g=arguments.length;for(c=Array(g);d<g;d++)c[d]=arguments[d];a=t(this,b.find_super_dispatcher(this,"allocate",H,!1),c,a);a.uninitialized=!0;return a},H.$$arity=0);b.def(a,"$escape",S=function(a){return b.escape_regexp(a)},S.$$arity=1);b.def(a,"$last_match",g=function(a){null==
v["~"]&&(v["~"]=B);null==a&&(a=B);return h(a["$nil?"]())?v["~"]:v["~"]["$[]"](a)},g.$$arity=-1);b.alias(a,"quote","escape");b.def(a,"$union",c=function(a){var c=b.slice.call(arguments,0,arguments.length);if(0==c.length)return/(?!)/;if(1==c.length&&c[0].$$is_regexp)return c[0];var g=c[0].$$is_array;1<c.length&&g&&this.$raise(C(d,"TypeError"),"no implicit conversion of Array into String");g&&(c=c[0]);var n=void 0;g=[];for(var f=0;f<c.length;f++){var e=c[f];if(e.$$is_string)g.push(this.$escape(e));else if(e.$$is_regexp){var q=
e.$options();void 0!=n&&n!=q&&this.$raise(C(d,"TypeError"),"All expressions must use the same options");n=q;g.push("("+e.source+")")}else g.push(this.$escape(e.$to_str()))}return this.$new(g.$join("|"),n)},c.$$arity=-1);return(b.def(a,"$new",z=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=C(d,"Opal")["$coerce_to!"](a,C(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(C(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);
if(b.$$is_number){var c="";C(d,"IGNORECASE")&b&&(c+="i");C(d,"MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},z.$$arity=-2),B)&&"new"})(b.get_singleton_class(l),m);b.def(l,"$==",y=function(a){return a instanceof RegExp&&this.toString()===a.toString()},y.$$arity=1);b.def(l,"$===",P=function(a){return this.$match(C(m,"Opal")["$coerce_to?"](a,C(m,"String"),"to_str"))!==B},P.$$arity=1);b.def(l,"$=~",J=function(a){var b;null==v["~"]&&(v["~"]=B);return h(b=this.$match(a))?v["~"].$begin(0):
b},J.$$arity=1);b.alias(l,"eql?","==");b.def(l,"$inspect",G=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){a=b[2];b=b[1].split("");for(var h=b.length,k=!1,S="",g=0;g<h;g++){var c=b[g];k||"/"!=c||(S=S.concat("\\"));S=S.concat(c);k="\\"==c?k?!1:!0:!1}return"/"+S+"/"+a}return a},G.$$arity=0);b.def(l,"$match",k=function(a,h){var d=k.$$p,H=d||B;null==v["~"]&&(v["~"]=B);d&&(k.$$p=null);d&&(k.$$p=null);this.uninitialized&&this.$raise(C(m,"TypeError"),"uninitialized Regexp");if(void 0===
h)return a===B?v["~"]=B:(a=this.exec(C(m,"Opal").$coerce_to(a,C(m,"String"),"to_str")))?(v["~"]=C(m,"MatchData").$new(this,a),H===B?v["~"]:b.yield1(H,v["~"])):v["~"]=B;h=C(m,"Opal").$coerce_to(h,C(m,"Integer"),"to_int");if(a===B)return v["~"]=B;a=C(m,"Opal").$coerce_to(a,C(m,"String"),"to_str");if(0>h&&(h+=a.length,0>h))return v["~"]=B;for(var S=b.global_regexp(this);;){d=S.exec(a);if(null===d)return v["~"]=B;if(d.index>=h)return v["~"]=C(m,"MatchData").$new(S,d),H===B?v["~"]:b.yield1(H,v["~"]);S.lastIndex=
d.index+1}},k.$$arity=-2);b.def(l,"$match?",ka=function(a,h){this.uninitialized&&this.$raise(C(m,"TypeError"),"uninitialized Regexp");if(void 0===h)return a===B?!1:this.test(C(m,"Opal").$coerce_to(a,C(m,"String"),"to_str"));h=C(m,"Opal").$coerce_to(h,C(m,"Integer"),"to_int");if(a===B)return!1;a=C(m,"Opal").$coerce_to(a,C(m,"String"),"to_str");if(0>h&&(h+=a.length,0>h))return!1;a=b.global_regexp(this).exec(a);return null===a||a.index<h?!1:!0},ka.$$arity=-2);b.def(l,"$~",T=function(){null==v._&&(v._=
B);return this["$=~"](v._)},T.$$arity=0);b.def(l,"$source",x=function(){return this.source},x.$$arity=0);b.def(l,"$options",I=function(){this.uninitialized&&this.$raise(C(m,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=C(m,"MULTILINE"));this.ignoreCase&&(a|=C(m,"IGNORECASE"));return a},I.$$arity=0);b.def(l,"$casefold?",a=function(){return this.ignoreCase},a.$$arity=0);return b.alias(l,"to_s","source")})(p[0],RegExp,p);return function(l,$super,p){l=w(l,$super,"MatchData");var m=
[l].concat(p),y,P,J,G,k,ka,T,x,I,a,d,H;l.$$prototype.matches=B;l.$attr_reader("post_match","pre_match","regexp","string");b.def(l,"$initialize",y=function(a,b){v["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];a=0;for(var d=b.length;a<d;a++){var g=b[a];null==g?this.matches.push(B):this.matches.push(g)}},y.$$arity=2);b.def(l,"$[]",P=function(a){var d=b.slice.call(arguments,0,arguments.length);
return t(this.matches,"[]",b.to_a(d))},P.$$arity=-1);b.def(l,"$offset",J=function(a){0!==a&&this.$raise(C(m,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},J.$$arity=1);b.def(l,"$==",G=function(a){var b,d,g,c;return h(C(m,"MatchData")["$==="](a))?h(b=h(d=h(g=h(c=this.string==a.string)?this.regexp.toString()==a.regexp.toString():c)?this.pre_match==a.pre_match:g)?this.post_match==a.post_match:d)?this.begin==a.begin:b:!1},G.$$arity=
1);b.alias(l,"eql?","==");b.def(l,"$begin",k=function(a){0!==a&&this.$raise(C(m,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},k.$$arity=1);b.def(l,"$end",ka=function(a){0!==a&&this.$raise(C(m,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},ka.$$arity=1);b.def(l,"$captures",T=function(){return this.matches.slice(1)},T.$$arity=0);b.def(l,"$inspect",x=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),
b=1,d=this.matches.length;b<d;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},x.$$arity=0);b.def(l,"$length",I=function(){return this.matches.length},I.$$arity=0);b.alias(l,"size","length");b.def(l,"$to_a",a=function(){return this.matches},a.$$arity=0);b.def(l,"$to_s",d=function(){return this.matches[0]},d.$$arity=0);return(b.def(l,"$values_at",H=function(a){var d=b.slice.call(arguments,0,arguments.length);var h,g=[];for(h=0;h<d.length;h++){if(d[h].$$is_range){var c=d[h].$to_a();c.unshift(h,
1);Array.prototype.splice.apply(d,c)}c=C(m,"Opal")["$coerce_to!"](d[h],C(m,"Integer"),"to_int");if(0>c&&(c+=this.matches.length,0>c)){g.push(B);continue}g.push(this.matches[c])}return g},H.$$arity=-1),B)&&"values_at"}(p[0],null,p)};
Opal.modules["corelib/string"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b/h:b["$/"](h)}function B(b,h){return"number"===typeof b&&"number"===typeof h?b+h:b["$+"](h)}var C=b.top,w=[],t=b.nil,h=b.const_get_relative,v=b.klass,l=b.truthy,F=b.send,y=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $match? $captures $proc $succ $escape".split(" "));
C.$require("corelib/comparable");C.$require("corelib/regexp");(function(m,$super,w){function P(a){function b(a){var b="",c,e=a.length;for(c=0;c<e;c++){var f=a.charAt(c);if("-"===f&&0<c&&c<e-1&&!d){var d=a.charCodeAt(c-1);f=a.charCodeAt(c+1);d>f&&G.$raise(h(k,"ArgumentError"),'invalid range "'+d+"-"+f+'" in string transliteration');for(d+=1;d<f+1;d++)b+=String.fromCharCode(d);d=!0;c++}else d="\\"===f,b+=f}return b}function c(a,b){if(0===a.length)return b;var c="",e,f=a.length;for(e=0;e<f;e++){var d=
a.charAt(e);-1!==b.indexOf(d)&&(c+=d)}return c}var e,f="",d="";var g=0;for(e=a.length;g<e;g++){var n=h(k,"Opal").$coerce_to(a[g],h(k,"String"),"to_str");var q="^"===n.charAt(0)&&1<n.length;n=b(q?n.slice(1):n);q?d=c(d,n):f=c(f,n)}if(0<f.length&&0<d.length){n="";g=0;for(e=f.length;g<e;g++)a=f.charAt(g),-1===d.indexOf(a)&&(n+=a);f=n;d=""}return 0<f.length?"["+h(k,"Regexp").$escape(f)+"]":0<d.length?"[^"+h(k,"Regexp").$escape(d)+"]":null}var G=v(m,$super,"String"),k=[G].concat(w),C,T,x,I,a,d,H,r,Q,S,
g,c,z,q,V,D,n,f,e,X,E,ba,L,N,na,u,W,fa,ma,ja,U,ya,Ca,za,Ia,aa,xa,ca,ta,Aa,da,Z,Ea,ua,Va,Ta,oa,Y,wa,qa,Ra,Ja,Fa,Ka,ea,ra,ha,va,Ba,la,Ma,Da,Na,La,Pa,Oa,Ga,Qa,Wa,Ua,Sa,A,K,ia,M,R;G.$include(h(k,"Comparable"));b.defineProperty(G.$$prototype,"$$is_string",!0);b.defineProperty(G.$$prototype,"$$cast",function(a){var b=this.$$class;return b.$$constructor===String?a:new b.$$constructor(a)});b.def(G,"$__id__",C=function(){return this.toString()},C.$$arity=0);b.alias(G,"object_id","__id__");b.defs(G,"$try_convert",
T=function(a){return h(k,"Opal")["$coerce_to?"](a,h(k,"String"),"to_str")},T.$$arity=1);b.defs(G,"$new",x=function(a){null==a&&(a="");a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str");return new this.$$constructor(a)},x.$$arity=-1);b.def(G,"$initialize",I=function(a){return void 0===a?this:this.$raise(h(k,"NotImplementedError"),"Mutable strings are not supported in Opal.")},I.$$arity=-1);b.def(G,"$%",a=function(a){return l(h(k,"Array")["$==="](a))?F(this,"format",[this].concat(b.to_a(a))):this.$format(this,
a)},a.$$arity=1);b.def(G,"$*",d=function(a){a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");0>a&&this.$raise(h(k,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var b="",c=this.toString();for(268435456<=c.length*a&&this.$raise(h(k,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=c);a>>>=1;if(0===a)break;c+=c}return this.$$cast(b)},d.$$arity=1);b.def(G,"$+",H=function(a){a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str");return this+
a.$to_s()},H.$$arity=1);b.def(G,"$<=>",r=function(a){if(l(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===t?t:0<a?-1:0>a?1:0},r.$$arity=1);b.def(G,"$==",Q=function(a){return a.$$is_string?this.toString()===a.toString():h(k,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},Q.$$arity=1);b.alias(G,"eql?","==");b.alias(G,"===","==");b.def(G,"$=~",S=function(a){a.$$is_string&&this.$raise(h(k,"TypeError"),"type mismatch: String given");return a["$=~"](this)},
S.$$arity=1);b.def(G,"$[]",g=function(a,b){var c=this.length;if(a.$$is_range){var e=a.excl;b=h(k,"Opal").$coerce_to(a.end,h(k,"Integer"),"to_int");a=h(k,"Opal").$coerce_to(a.begin,h(k,"Integer"),"to_int");if(Math.abs(a)>c)return t;0>a&&(a+=c);0>b&&(b+=c);e||(b+=1);b-=a;0>b&&(b=0);return this.$$cast(this.substr(a,b))}if(a.$$is_string)return null!=b&&this.$raise(h(k,"TypeError")),-1!==this.indexOf(a)?this.$$cast(a):t;if(a.$$is_regexp){c=this.match(a);if(null===c)return y["~"]=t;y["~"]=h(k,"MatchData").$new(a,
c);if(null==b)return this.$$cast(c[0]);b=h(k,"Opal").$coerce_to(b,h(k,"Integer"),"to_int");return 0>b&&-b<c.length?this.$$cast(c[b+c.length]):0<=b&&b<c.length?this.$$cast(c[b]):t}a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");0>a&&(a+=c);if(null==b)return a>=c||0>a?t:this.$$cast(this.substr(a,1));b=h(k,"Opal").$coerce_to(b,h(k,"Integer"),"to_int");return 0>b||a>c||0>a?t:this.$$cast(this.substr(a,b))},g.$$arity=-2);b.alias(G,"byteslice","[]");b.def(G,"$b",c=function(){return this.$force_encoding("binary")},
c.$$arity=0);b.def(G,"$capitalize",z=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},z.$$arity=0);b.def(G,"$casecmp",q=function(a){var b=this;if(!l(a["$respond_to?"]("to_str")))return t;a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},q.$$arity=1);b.def(G,"$casecmp?",V=function(a){a=this.$casecmp(a);return a===t?t:0===a},V.$$arity=1);b.def(G,"$center",
D=function(a,b){null==b&&(b=" ");a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str").$to_s();l(b["$empty?"]())&&this.$raise(h(k,"ArgumentError"),"zero width padding");if(l(a<=this.length))return this;var c=this.$ljust(p(B(a,this.length),2).$ceil(),b);a=this.$rjust(p(B(a,this.length),2).$floor(),b);return this.$$cast(a+c.slice(this.length))},D.$$arity=-2);b.def(G,"$chars",n=function(){var a=n.$$p,b=a||t;a&&(n.$$p=null);a&&(n.$$p=null);return l(b)?
F(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},n.$$arity=0);b.def(G,"$chomp",f=function(a){null==y["/"]&&(y["/"]=t);null==a&&(a=y["/"]);if(l(a===t||0===this.length))return this;a=h(k,"Opal")["$coerce_to!"](a,h(k,"String"),"to_str").$to_s();var b;"\n"===a?b=this.replace(/\r?\n?$/,""):""===a?b=this.replace(/(\r?\n)+$/,""):this.length>=a.length&&this.substr(this.length-a.length,a.length)===a&&(b=this.substr(0,this.length-a.length));return null!=b?this.$$cast(b):this},f.$$arity=-1);b.def(G,
"$chop",e=function(){var a=this.length;a=1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1);return this.$$cast(a)},e.$$arity=0);b.def(G,"$chr",X=function(){return this.charAt(0)},X.$$arity=0);b.def(G,"$clone",E=function(){var a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},E.$$arity=0);b.def(G,"$dup",ba=function(){var a=this.slice();a.$initialize_dup(this);return a},ba.$$arity=0);b.def(G,"$count",L=function(a){var c=b.slice.call(arguments,
0,arguments.length);0===c.length&&this.$raise(h(k,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=P(c);return null===c?0:this.length-this.replace(new RegExp(c,"g"),"").length},L.$$arity=-1);b.def(G,"$delete",N=function(a){var c=b.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(h(k,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=P(c);return null===c?this:this.$$cast(this.replace(new RegExp(c,"g"),""))},N.$$arity=-1);b.def(G,"$delete_prefix",
na=function(a){a.$$is_string||(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"));return this.slice(0,a.length)===a?this.$$cast(this.slice(a.length)):this},na.$$arity=1);b.def(G,"$delete_suffix",u=function(a){a.$$is_string||(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.$$cast(this.slice(0,this.length-a.length)):this},u.$$arity=1);b.def(G,"$downcase",W=function(){return this.$$cast(this.toLowerCase())},W.$$arity=0);b.def(G,"$each_char",fa=function(){var a=
fa.$$p,c=a||t,e;a&&(fa.$$p=null);a&&(fa.$$p=null);if(c===t)return F(this,"enum_for",["each_char"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(c,this.charAt(a));return this},fa.$$arity=0);b.def(G,"$each_line",ma=function(a){var c=ma.$$p,e=c||t;null==y["/"]&&(y["/"]=t);c&&(ma.$$p=null);c&&(ma.$$p=null);null==a&&(a=y["/"]);if(e===t)return this.$enum_for("each_line",a);if(a===t)return b.yield1(e,this),this;a=h(k,"Opal").$coerce_to(a,
h(k,"String"),"to_str");var f,d;if(0===a.length){a=this.split(/(\n{2,})/);c=0;for(f=a.length;c<f;c+=2)(a[c]||a[c+1])&&b.yield1(e,this.$$cast((a[c]||"")+(a[c+1]||"")));return this}c=this.$chomp(a);f=this.length!=c.length;var g=c.split(a);c=0;for(d=g.length;c<d;c++)c<d-1||f?b.yield1(e,this.$$cast(g[c]+a)):b.yield1(e,this.$$cast(g[c]));return this},ma.$$arity=-1);b.def(G,"$empty?",ja=function(){return 0===this.length},ja.$$arity=0);b.def(G,"$end_with?",U=function(a){var c=b.slice.call(arguments,0,arguments.length);
for(var e=0,f=c.length;e<f;e++){var d=h(k,"Opal").$coerce_to(c[e],h(k,"String"),"to_str").$to_s();if(this.length>=d.length&&this.substr(this.length-d.length,d.length)==d)return!0}return!1},U.$$arity=-1);b.alias(G,"equal?","===");b.def(G,"$gsub",ya=function(a,c){var e=ya.$$p,f=e||t,d=this;e&&(ya.$$p=null);e&&(ya.$$p=null);if(void 0===c&&f===t)return d.$enum_for("gsub",a);e="";var g=t,n=0;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&"),"gm"));for(var q;;){var u=a.exec(d);if(null===u){y["~"]=t;e+=d.slice(n);break}g=h(k,"MatchData").$new(a,u);if(void 0===c){q=a.lastIndex;var pa=f(u[0]);a.lastIndex=q}else c.$$is_hash?pa=c["$[]"](u[0]).$to_s():(c.$$is_string||(c=h(k,"Opal").$coerce_to(c,h(k,"String"),"to_str")),pa=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=u.length-1;0<a;a--)if(void 0!==u[a])return b.slice(1)+u[a];return"";case "&":return b.slice(1)+u[0];case "`":return b.slice(1)+
d.slice(0,u.index);case "'":return b.slice(1)+d.slice(u.index+u[0].length);default:return b.slice(1)+(u[c]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===u.index?(e+=pa+d.slice(n,u.index+1),a.lastIndex+=1):e+=d.slice(n,u.index)+pa;n=a.lastIndex}y["~"]=g;return d.$$cast(e)},ya.$$arity=-2);b.def(G,"$hash",Ca=function(){return this.toString()},Ca.$$arity=0);b.def(G,"$hex",za=function(){return this.$to_i(16)},za.$$arity=0);b.def(G,"$include?",Ia=function(a){a.$$is_string||(a=h(k,"Opal").$coerce_to(a,h(k,
"String"),"to_str"));return-1!==this.indexOf(a)},Ia.$$arity=1);b.def(G,"$index",aa=function(a,c){var e;if(void 0===c)c=0;else if(c=h(k,"Opal").$coerce_to(c,h(k,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return t;if(a.$$is_regexp)for(e=b.global_multiline_regexp(a);;){a=e.exec(this);if(null===a){y["~"]=t;c=-1;break}if(a.index>=c){y["~"]=h(k,"MatchData").$new(e,a);c=a.index;break}e.lastIndex=a.index+1}else a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),c=0===a.length&&c>this.length?-1:this.indexOf(a,
c);return-1===c?t:c},aa.$$arity=-2);b.def(G,"$inspect",xa=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},xa.$$arity=0);b.def(G,"$intern",ca=
function(){return this.toString()},ca.$$arity=0);b.def(G,"$lines",ta=function(a){var b=ta.$$p,c=b||t;null==y["/"]&&(y["/"]=t);b&&(ta.$$p=null);b&&(ta.$$p=null);null==a&&(a=y["/"]);a=F(this,"each_line",[a],c.$to_proc());return l(c)?this:a.$to_a()},ta.$$arity=-1);b.def(G,"$length",Aa=function(){return this.length},Aa.$$arity=0);b.def(G,"$ljust",da=function(a,b){null==b&&(b=" ");a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str").$to_s();l(b["$empty?"]())&&
this.$raise(h(k,"ArgumentError"),"zero width padding");if(l(a<=this.length))return this;var c=-1,e="";for(a-=this.length;++c<a;)e+=b;return this.$$cast(this+e.slice(0,a))},da.$$arity=-2);b.def(G,"$lstrip",Z=function(){return this.replace(/^\s*/,"")},Z.$$arity=0);b.def(G,"$ascii_only?",Ea=function(){return this.match(/[ -~\n]*/)[0]===this},Ea.$$arity=0);b.def(G,"$match",ua=function(a,b){var c=ua.$$p,e=c||t,f;c&&(ua.$$p=null);c&&(ua.$$p=null);l(l(f=h(k,"String")["$==="](a))?f:a["$respond_to?"]("to_str"))&&
(a=h(k,"Regexp").$new(a.$to_str()));l(h(k,"Regexp")["$==="](a))||this.$raise(h(k,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return F(a,"match",[this,b],e.$to_proc())},ua.$$arity=-2);b.def(G,"$match?",Va=function(a,b){var c;l(l(c=h(k,"String")["$==="](a))?c:a["$respond_to?"]("to_str"))&&(a=h(k,"Regexp").$new(a.$to_str()));l(h(k,"Regexp")["$==="](a))||this.$raise(h(k,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return a["$match?"](this,b)},Va.$$arity=
-2);b.def(G,"$next",Ta=function(){var a=this.length;if(0===a)return this.$$cast("");for(var b=this,c=this.search(/[a-zA-Z0-9]/),e,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:e=!0;f=48;break;case 90:e=!0;f=65;break;case 122:e=!0;f=97;break;default:e=!1,f+=1}else-1===c?255===f?(e=!0,f=0):(e=!1,f+=1):e=!0;b=b.slice(0,a)+String.fromCharCode(f)+b.slice(a+1);if(e&&(0===a||a===c)){switch(f){case 65:break;case 97:break;default:f+=1}b=0===a?String.fromCharCode(f)+
b:b.slice(0,a)+String.fromCharCode(f)+b.slice(a);e=!1}if(!e)break}return this.$$cast(b)},Ta.$$arity=0);b.def(G,"$oct",oa=function(){var a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,e,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===e)return a}switch(e){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+f});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},
oa.$$arity=0);b.def(G,"$ord",Y=function(){return this.charCodeAt(0)},Y.$$arity=0);b.def(G,"$partition",wa=function(a){if(a.$$is_regexp){var b=a.exec(this);null===b?b=-1:(h(k,"MatchData").$new(a,b),a=b[0],b=b.index)}else a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),b=this.indexOf(a);return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},wa.$$arity=1);b.def(G,"$reverse",qa=function(){return this.split("").reverse().join("")},qa.$$arity=0);b.def(G,"$rindex",
Ra=function(a,c){if(void 0===c)c=this.length;else if(c=h(k,"Opal").$coerce_to(c,h(k,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return t;if(a.$$is_regexp){var e=null;for(a=b.global_multiline_regexp(a);;){var f=a.exec(this);if(null===f||f.index>c)break;e=f;a.lastIndex=e.index+1}null===e?(y["~"]=t,c=-1):(h(k,"MatchData").$new(a,e),c=e.index)}else a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),c=this.lastIndexOf(a,c);return-1===c?t:c},Ra.$$arity=-2);b.def(G,"$rjust",Ja=function(a,b){null==b&&
(b=" ");a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str").$to_s();l(b["$empty?"]())&&this.$raise(h(k,"ArgumentError"),"zero width padding");if(l(a<=this.length))return this;a=Math.floor(a-this.length);var c=Array(Math.floor(a/b.length)+1).join(b);return this.$$cast(c+b.slice(0,a-c.length)+this)},Ja.$$arity=-2);b.def(G,"$rpartition",Fa=function(a){var c;if(a.$$is_regexp){var e=null;for(c=b.global_multiline_regexp(a);;){var f=c.exec(this);if(null===
f)break;e=f;c.lastIndex=e.index+1}null===e?e=-1:(h(k,"MatchData").$new(c,e),a=e[0],e=e.index)}else a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),e=this.lastIndexOf(a);return-1===e?["","",this]:[this.slice(0,e),this.slice(e,e+a.length),this.slice(e+a.length)]},Fa.$$arity=1);b.def(G,"$rstrip",Ka=function(){return this.replace(/[\s\u0000]*$/,"")},Ka.$$arity=0);b.def(G,"$scan",ea=function(a){var c=ea.$$p,e=c||t;c&&(ea.$$p=null);c&&(ea.$$p=null);c=[];var f=t,d;a.$$is_regexp?a=b.global_multiline_regexp(a):
(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(d=a.exec(this));)f=h(k,"MatchData").$new(a,d),e===t?1==d.length?c.push(d[0]):c.push(f.$captures()):1==d.length?e(d[0]):e.call(this,f.$captures()),a.lastIndex===d.index&&(a.lastIndex+=1);y["~"]=f;return e!==t?this:c},ea.$$arity=1);b.alias(G,"size","length");b.alias(G,"slice","[]");b.def(G,"$split",ra=function(a,c){function e(){for(q=0;q<g.length;q++)g[q]=d.$$cast(g[q])}var f,
d=this;null==y[";"]&&(y[";"]=t);if(0===d.length)return[];if(void 0===c)c=0;else if(c=h(k,"Opal")["$coerce_to!"](c,h(k,"Integer"),"to_int"),1===c)return[d];if(void 0===a||a===t)a=l(f=y[";"])?f:" ";var g=[];f=d.toString();var n=0,q;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str").$to_s()," "===a?(a=/\s+/gm,f=f.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));g=f.split(a);if(1===g.length&&g[0]===f)return[d.$$cast(g[0])];for(;-1!==
(q=g.indexOf(void 0));)g.splice(q,1);if(0===c){for(;""===g[g.length-1];)--g.length;e();return g}var u=a.exec(f);if(0>c){if(null!==u&&""===u[0]&&-1===a.source.indexOf("(?="))for(q=0,a=u.length;q<a;q++)g.push("");e();return g}if(null!==u&&""===u[0])return g.splice(c-1,g.length-1,g.slice(c-1).join("")),e(),g;if(c>=g.length)return e(),g;for(q=0;null!==u;){q++;n=a.lastIndex;if(q+1===c)break;u=a.exec(f)}g.splice(c-1,g.length-1,f.slice(n));e();return g},ra.$$arity=-1);b.def(G,"$squeeze",ha=function(a){var c=
b.slice.call(arguments,0,arguments.length);if(0===c.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));c=P(c);return null===c?this:this.$$cast(this.replace(new RegExp("("+c+")\\1+","g"),"$1"))},ha.$$arity=-1);b.def(G,"$start_with?",va=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++){var d=h(k,"Opal").$coerce_to(c[e],h(k,"String"),"to_str").$to_s();if(0===this.indexOf(d))return!0}return!1},va.$$arity=-1);b.def(G,"$strip",Ba=function(){return this.replace(/^\s*/,
"").replace(/[\s\u0000]*$/,"")},Ba.$$arity=0);b.def(G,"$sub",la=function(a,b){var c=la.$$p,e=c||t,f=this;c&&(la.$$p=null);c&&(la.$$p=null);a.$$is_regexp||(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var d=a.exec(f);null===d?(y["~"]=t,a=f.toString()):(h(k,"MatchData").$new(a,d),void 0===b?(e===t&&f.$raise(h(k,"ArgumentError"),"wrong number of arguments (1 for 2)"),a=f.slice(0,d.index)+e(d[0])+f.slice(d.index+d[0].length)):b.$$is_hash?a=
f.slice(0,d.index)+b["$[]"](d[0]).$to_s()+f.slice(d.index+d[0].length):(b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=d.length-1;0<a;a--)if(void 0!==d[a])return b.slice(1)+d[a];return"";case "&":return b.slice(1)+d[0];case "`":return b.slice(1)+f.slice(0,d.index);case "'":return b.slice(1)+f.slice(d.index+d[0].length);default:return b.slice(1)+(d[c]||"")}}).replace(/\\\\/g,"\\"),a=f.slice(0,
d.index)+b+f.slice(d.index+d[0].length)));return f.$$cast(a)},la.$$arity=-2);b.alias(G,"succ","next");b.def(G,"$sum",Ma=function(a){null==a&&(a=16);a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");for(var b=0,c=this.length,e=0;e<c;e++)b+=this.charCodeAt(e);return 0>=a?b:b&Math.pow(2,a)-1},Ma.$$arity=-1);b.def(G,"$swapcase",Da=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Da.$$arity=
0);b.def(G,"$to_f",Na=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Na.$$arity=0);b.def(G,"$to_i",La=function(a){null==a&&(a=10);var b=this.toLowerCase(),c=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");(1===c||0>c||36<c)&&this.$raise(h(k,"ArgumentError"),"invalid radix "+c);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,e,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===
f.charAt(1)&&"0x"===e&&(0===c||16===c))return a}switch(e){case "0b":if(0===c||2===c)return c=2,b+f;break;case "0":case "0o":if(0===c||8===c)return c=8,b+f;break;case "0d":if(0===c||10===c)return c=10,b+f;break;case "0x":if(0===c||16===c)return c=16,b+f}return a});a=parseInt(b.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},La.$$arity=-1);b.def(G,"$to_proc",Pa=function(){var a,c=t;Pa.$$p&&(Pa.$$p=null);c=B("$",this.valueOf());return F(this,"proc",[],(a=function(e){var f=a.$$s||this,d=a.$$p,g=d||t;d&&
(a.$$p=null);d=b.slice.call(arguments,0,arguments.length);0===d.length&&f.$raise(h(k,"ArgumentError"),"no receiver given");f=d[0];null==f&&(f=t);var n=f[c];if(!n)return f.$method_missing.apply(f,d);"function"===typeof g&&(n.$$p=g);return 1===d.length?n.call(f):n.apply(f,d.slice(1))},a.$$s=this,a.$$arity=-1,a))},Pa.$$arity=0);b.def(G,"$to_s",Oa=function(){return this.toString()},Oa.$$arity=0);b.alias(G,"to_str","to_s");b.alias(G,"to_sym","intern");b.def(G,"$tr",Ga=function(a,b){a=h(k,"Opal").$coerce_to(a,
h(k,"String"),"to_str").$to_s();b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str").$to_s();if(0==a.length||a===b)return this;var c={};var e=a.split("");var f=e.length,d=b.split(""),g=d.length;a=!1;var n=null;"^"===e[0]&&1<e.length&&(a=!0,e.shift(),n=d[g-1],--f);var q=[];var u=null;var A=!1;for(b=0;b<f;b++){var R=e[b];if(null==u)u=R,q.push(R);else if("-"===R)"-"===u?(q.push("-"),q.push("-")):b==f-1?q.push("-"):A=!0;else if(A){u=u.charCodeAt(0);A=R.charCodeAt(0);u>A&&this.$raise(h(k,"ArgumentError"),
'invalid range "'+String.fromCharCode(u)+"-"+String.fromCharCode(A)+'" in string transliteration');for(u+=1;u<A;u++)q.push(String.fromCharCode(u));q.push(R);u=A=null}else q.push(R)}e=q;f=e.length;if(a)for(b=0;b<f;b++)c[e[b]]=!0;else{if(0<g){q=[];u=null;A=!1;for(b=0;b<g;b++)if(R=d[b],null==u)u=R,q.push(R);else if("-"===R)"-"===u?(q.push("-"),q.push("-")):b==g-1?q.push("-"):A=!0;else if(A){u=u.charCodeAt(0);A=R.charCodeAt(0);u>A&&this.$raise(h(k,"ArgumentError"),'invalid range "'+String.fromCharCode(u)+
"-"+String.fromCharCode(A)+'" in string transliteration');for(u+=1;u<A;u++)q.push(String.fromCharCode(u));q.push(R);u=A=null}else q.push(R);d=q;g=d.length}R=f-g;if(0<R)for(g=0<g?d[g-1]:"",b=0;b<R;b++)d.push(g);for(b=0;b<f;b++)c[e[b]]=d[b]}f="";b=0;for(e=this.length;b<e;b++)R=this.charAt(b),d=c[R],f=a?f+(null==d?n:R):f+(null!=d?d:R);return this.$$cast(f)},Ga.$$arity=2);b.def(G,"$tr_s",Qa=function(a,b){a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str").$to_s();b=h(k,"Opal").$coerce_to(b,h(k,"String"),
"to_str").$to_s();if(0==a.length)return this;var c={};var e=a.split("");var f=e.length,d=b.split(""),g=d.length;a=!1;var n=null;"^"===e[0]&&1<e.length&&(a=!0,e.shift(),n=d[g-1],--f);var q=[];var u=null;var A=!1;for(b=0;b<f;b++){var R=e[b];if(null==u)u=R,q.push(R);else if("-"===R)"-"===u?(q.push("-"),q.push("-")):b==f-1?q.push("-"):A=!0;else if(A){u=u.charCodeAt(0);A=R.charCodeAt(0);u>A&&this.$raise(h(k,"ArgumentError"),'invalid range "'+String.fromCharCode(u)+"-"+String.fromCharCode(A)+'" in string transliteration');
for(u+=1;u<A;u++)q.push(String.fromCharCode(u));q.push(R);u=A=null}else q.push(R)}e=q;f=e.length;if(a)for(b=0;b<f;b++)c[e[b]]=!0;else{if(0<g){q=[];A=!1;for(b=0;b<g;b++)if(R=d[b],null==u)u=R,q.push(R);else if("-"===R)b==g-1?q.push("-"):A=!0;else if(A){u=u.charCodeAt(0);A=R.charCodeAt(0);u>A&&this.$raise(h(k,"ArgumentError"),'invalid range "'+String.fromCharCode(u)+"-"+String.fromCharCode(A)+'" in string transliteration');for(u+=1;u<A;u++)q.push(String.fromCharCode(u));q.push(R);u=A=null}else q.push(R);
d=q;g=d.length}R=f-g;if(0<R)for(g=0<g?d[g-1]:"",b=0;b<R;b++)d.push(g);for(b=0;b<f;b++)c[e[b]]=d[b]}f="";d=null;b=0;for(e=this.length;b<e;b++)if(R=this.charAt(b),g=c[R],a)null==g?null==d&&(f+=n,d=!0):(f+=R,d=null);else if(null!=g){if(null==d||d!==g)f+=g,d=g}else f+=R,d=null;return this.$$cast(f)},Qa.$$arity=2);b.def(G,"$upcase",Wa=function(){return this.$$cast(this.toUpperCase())},Wa.$$arity=0);b.def(G,"$upto",Ua=function(a,b){var c=Ua.$$p,e=c||t;c&&(Ua.$$p=null);c&&(Ua.$$p=null);null==b&&(b=!1);if(e===
t)return this.$enum_for("upto",a,b);a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str");c=this.toString();if(1===c.length&&1===a.length)for(c=c.charCodeAt(0),a=a.charCodeAt(0);c<=a&&(!b||c!==a);)e(String.fromCharCode(c)),c+=1;else if(parseInt(c,10).toString()===c&&parseInt(a,10).toString()===a)for(c=parseInt(c,10),a=parseInt(a,10);c<=a&&(!b||c!==a);)e(c.toString()),c+=1;else for(;c.length<=a.length&&c<=a&&(!b||c!==a);)e(c),c=c.$succ();return this},Ua.$$arity=-2);b.def(G,"$instance_variables",Sa=function(){return[]},
Sa.$$arity=0);b.defs(G,"$_load",A=function(a){var c=b.slice.call(arguments,0,arguments.length);return F(this,"new",b.to_a(c))},A.$$arity=-1);b.def(G,"$unicode_normalize",K=function(a){return this.toString()},K.$$arity=-1);b.def(G,"$unicode_normalized?",ia=function(a){return!0},ia.$$arity=-1);b.def(G,"$unpack",M=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},M.$$arity=1);return(b.def(G,"$unpack1",R=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},
R.$$arity=1),t)&&"unpack1"})(w[0],String,w);return b.const_set(w[0],"Symbol",h(w,"String"))};
Opal.modules["corelib/enumerable"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b>h:b["$>"](h)}function B(b,h){return"number"===typeof b&&"number"===typeof h?b+h:b["$+"](h)}function C(b,h){return"number"===typeof b&&"number"===typeof h?b-h:b["$-"](h)}function w(b,h){return"number"===typeof b&&"number"===typeof h?b<=h:b["$<="](h)}var t=[],h=b.nil,v=b.const_get_qualified,l=b.const_get_relative,F=b.module,y=b.truthy,m=b.send,O=b.falsy,P=b.hash2,J=b.lambda;b.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));
return function(t,k){function G(a){0===a.length&&(a=[h]);1<a.length&&(a=[a]);return a}t=F(t,"Enumerable");var T=[t].concat(k),x,I,a,d,H,r,Q,S,g,c,z,q,V,D,n,f,e,X,E,ba,L,N,na,u,W,fa,ma,ja,U,ya,Ca,za,Ia,aa,xa,ca,ta,Aa,da,Z,Ea,ua,Va,Ta,oa,Y,wa,qa;b.def(t,"$all?",x=function(a){try{var c=x.$$p,e=c||h,f,d,g;c&&(x.$$p=null);c&&(x.$$p=null);y(void 0!==a)?m(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=G(e);if(y(m(a,"public_send",["==="].concat(b.to_a(e)))))return h;b.ret(!1)},
f.$$s=this,f.$$arity=-1,f)):e!==h?m(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(y(b.yieldX(e,b.to_a(c))))return h;b.ret(!1)},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(g=function(a){var c=b.slice.call(arguments,0,arguments.length);if(y(l(T,"Opal").$destructure(c)))return h;b.ret(!1)},g.$$s=this,g.$$arity=-1,g));return!0}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},x.$$arity=-1);b.def(t,"$any?",I=function(a){try{var c=I.$$p,e=c||h,f,d,g;c&&(I.$$p=null);
c&&(I.$$p=null);y(void 0!==a)?m(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=G(e);if(y(m(a,"public_send",["==="].concat(b.to_a(e)))))b.ret(!0);else return h},f.$$s=this,f.$$arity=-1,f)):e!==h?m(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(y(b.yieldX(e,b.to_a(c))))b.ret(!0);else return h},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(g=function(a){var c=b.slice.call(arguments,0,arguments.length);if(y(l(T,"Opal").$destructure(c)))b.ret(!0);
else return h},g.$$s=this,g.$$arity=-1,g));return!1}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},I.$$arity=-1);b.def(t,"$chunk",a=function(){var c=a.$$p,e=c||h,f,d;c&&(a.$$p=null);c&&(a.$$p=null);return e===h?m(this,"to_enum",["chunk"],(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f)):m(v("::","Enumerator"),"new",[],(d=function(a){function c(){0<n.length&&a.$yield(g,n)}var f=d.$$s||this;null==a&&(a=h);var g=h,n=[];f.$each.$$p=function(a){var f=b.yield1(e,a);
f===h?(c(),n=[],g=h):(g===h||g===f?n.push(a):(c(),n=[a]),g=f)};f.$each();c()},d.$$s=this,d.$$arity=1,d))},a.$$arity=0);b.def(t,"$chunk_while",d=function(){var a=d.$$p,c=a||h,e;a&&(d.$$p=null);a&&(d.$$p=null);c===h&&this.$raise(l(T,"ArgumentError"),"no block given");return m(this,"slice_when",[],(e=function(a,e){null==a&&(a=h);null==e&&(e=h);return b.yieldX(c,[a,e])["$!"]()},e.$$s=this,e.$$arity=2,e))},d.$$arity=0);b.def(t,"$collect",H=function(){var a=H.$$p,c=a||h,e;a&&(H.$$p=null);a&&(H.$$p=null);
if(c===h)return m(this,"enum_for",["collect"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){var a=b.yieldX(c,arguments);f.push(a)};this.$each();return f},H.$$arity=0);b.def(t,"$collect_concat",r=function(){var a=r.$$p,c=a||h,e,f;a&&(r.$$p=null);a&&(r.$$p=null);return c===h?m(this,"enum_for",["collect_concat"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):m(this,"map",[],(f=function(a){null==a&&
(a=h);return b.yield1(c,a)},f.$$s=this,f.$$arity=1,f)).$flatten(1)},r.$$arity=0);b.def(t,"$count",Q=function(a){var c=Q.$$p,e=c||h,f,d,g,n=h;c&&(Q.$$p=null);c&&(Q.$$p=null);n=0;null!=a&&e!==h&&this.$warn("warning: given block not used");y(null!=a)?e=m(this,"proc",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);return l(T,"Opal").$destructure(e)["$=="](a)},f.$$s=this,f.$$arity=-1,f)):y(e["$nil?"]())&&(e=m(this,"proc",[],(d=function(){return!0},d.$$s=this,d.$$arity=0,d)));m(this,
"each",[],(g=function(a){var c=b.slice.call(arguments,0,arguments.length);return y(b.yieldX(e,c))?n++:h},g.$$s=this,g.$$arity=-1,g));return n},Q.$$arity=-1);b.def(t,"$cycle",S=function(a){var c=S.$$p,e=c||h,f;c&&(S.$$p=null);c&&(S.$$p=null);null==a&&(a=h);if(e===h)return m(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(y(a["$nil?"]()))return y(b["$respond_to?"]("size"))?v(l(T,"Float"),"INFINITY"):h;a=l(T,"Opal")["$coerce_to!"](a,l(T,"Integer"),"to_int");return y(p(a,0))?(b=b.$enumerator_size(),
"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(!y(a["$nil?"]())&&(a=l(T,"Opal")["$coerce_to!"](a,l(T,"Integer"),"to_int"),y(0>=a)))return h;var d=[],g;this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments);b.yield1(e,a);d.push(a)};this.$each();if(0===d.length)return h;if(a===h)for(;;)for(c=0,g=d.length;c<g;c++)b.yield1(e,d[c]);else for(;1<a;){c=0;for(g=d.length;c<g;c++)b.yield1(e,d[c]);a--}},S.$$arity=-1);b.def(t,"$detect",g=function(a){try{var c=
g.$$p,e=c||h,f;c&&(g.$$p=null);c&&(g.$$p=null);if(e===h)return this.$enum_for("detect",a);m(this,"each",[],(f=function(a){var c=b.slice.call(arguments,0,arguments.length);c=l(T,"Opal").$destructure(c);if(y(b.yield1(e,c)))b.ret(c);else return h},f.$$s=this,f.$$arity=-1,f));return void 0!==a?"function"===typeof a?a():a:h}catch(ea){if(ea===b.returner)return ea.$v;throw ea;}},g.$$arity=-1);b.def(t,"$drop",c=function(a){a=l(T,"Opal").$coerce_to(a,l(T,"Integer"),"to_int");y(0>a)&&this.$raise(l(T,"ArgumentError"),
"attempt to drop negative size");var b=[],c=0;this.$each.$$p=function(){a<=c&&b.push(l(T,"Opal").$destructure(arguments));c++};this.$each();return b},c.$$arity=1);b.def(t,"$drop_while",z=function(){var a=z.$$p,c=a||h;a&&(z.$$p=null);a&&(z.$$p=null);if(c===h)return this.$enum_for("drop_while");var e=[],f=!0;this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments);if(f){var d=b.yield1(c,a);O(d)&&(f=!1,e.push(a))}else e.push(a)};this.$each();return e},z.$$arity=0);b.def(t,"$each_cons",q=function(a){var c=
q.$$p,e=c||h,f;c&&(q.$$p=null);c&&(q.$$p=null);y(1!=arguments.length)&&this.$raise(l(T,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");a=l(T,"Opal").$try_convert(a,l(T,"Integer"),"to_int");y(0>=a)&&this.$raise(l(T,"ArgumentError"),"invalid size");if(e===h)return m(this,"enum_for",["each_cons",a],(f=function(){var b;var c=(f.$$s||this).$enumerator_size();return y(c["$nil?"]())?h:y(y(b=c["$=="](0))?b:"number"===typeof c&&"number"===typeof a?c<a:c["$<"](a))?0:B(C(c,a),1)},
f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var c=l(T,"Opal").$destructure(arguments);d.push(c);d.length>a&&d.shift();d.length==a&&b.yield1(e,d.slice(0,a))};this.$each();return h},q.$$arity=1);b.def(t,"$each_entry",V=function(a){var c=V.$$p,e=c||h,f;c&&(V.$$p=null);c&&(V.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(e===h)return m(this,"to_enum",["each_entry"].concat(b.to_a(c)),(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));this.$each.$$p=
function(){var a=l(T,"Opal").$destructure(arguments);b.yield1(e,a)};this.$each.apply(this,c);return this},V.$$arity=-1);b.def(t,"$each_slice",D=function(a){var c=D.$$p,e=c||h,f;c&&(D.$$p=null);c&&(D.$$p=null);a=l(T,"Opal").$coerce_to(a,l(T,"Integer"),"to_int");y(0>=a)&&this.$raise(l(T,"ArgumentError"),"invalid slice size");if(e===h)return m(this,"enum_for",["each_slice",a],(f=function(){var b=f.$$s||this;return y(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&"number"===typeof a?b/
a:b["$/"](a)).$ceil()):h},f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var c=l(T,"Opal").$destructure(arguments);d.push(c);d.length===a&&(b.yield1(e,d),d=[])};this.$each();0<d.length&&b.yield1(e,d);return h},D.$$arity=1);b.def(t,"$each_with_index",n=function(a){var c=n.$$p,e=c||h,f;c&&(n.$$p=null);c&&(n.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(e===h)return m(this,"enum_for",["each_with_index"].concat(b.to_a(c)),(f=function(){return(f.$$s||this).$enumerator_size()},
f.$$s=this,f.$$arity=0,f));var d=0;this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments);e(a,d);d++};this.$each.apply(this,c);return this},n.$$arity=-1);b.def(t,"$each_with_object",f=function(a){var b=f.$$p,c=b||h,e;b&&(f.$$p=null);b&&(f.$$p=null);if(c===h)return m(this,"enum_for",["each_with_object",a],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));this.$each.$$p=function(){var b=l(T,"Opal").$destructure(arguments);c(b,a)};this.$each();return a},f.$$arity=
1);b.def(t,"$entries",e=function(a){var c=b.slice.call(arguments,0,arguments.length);var e=[];this.$each.$$p=function(){e.push(l(T,"Opal").$destructure(arguments))};this.$each.apply(this,c);return e},e.$$arity=-1);b.alias(t,"find","detect");b.def(t,"$find_all",X=function(){var a=X.$$p,c=a||h,e;a&&(X.$$p=null);a&&(X.$$p=null);if(c===h)return m(this,"enum_for",["find_all"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments),
e=b.yield1(c,a);y(e)&&f.push(a)};this.$each();return f},X.$$arity=0);b.def(t,"$find_index",E=function(a){try{var c=E.$$p,e=c||h,f,d,g=h;c&&(E.$$p=null);c&&(E.$$p=null);if(y(void 0===a&&e===h))return this.$enum_for("find_index");null!=a&&e!==h&&this.$warn("warning: given block not used");g=0;y(null!=a)?m(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);l(T,"Opal").$destructure(e)["$=="](a)&&b.ret(g);return g+=1},f.$$s=this,f.$$arity=-1,f)):m(this,"each",[],(d=function(a){var c=
b.slice.call(arguments,0,arguments.length);y(b.yieldX(e,b.to_a(c)))&&b.ret(g);return g+=1},d.$$s=this,d.$$arity=-1,d));return h}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},E.$$arity=-1);b.def(t,"$first",ba=function(a){try{var c,e,f=h,d=h;if(y(void 0===a))return m(this,"each",[],(c=function(a){null==a&&(a=h);b.ret(a)},c.$$s=this,c.$$arity=1,c));f=[];a=l(T,"Opal").$coerce_to(a,l(T,"Integer"),"to_int");y(0>a)&&this.$raise(l(T,"ArgumentError"),"attempt to take negative size");if(y(0==a))return[];
d=0;m(this,"each",[],(e=function(c){var e=b.slice.call(arguments,0,arguments.length);f.push(l(T,"Opal").$destructure(e));if(y(a<=++d))b.ret(f);else return h},e.$$s=this,e.$$arity=-1,e));return f}catch(ra){if(ra===b.returner)return ra.$v;throw ra;}},ba.$$arity=-1);b.alias(t,"flat_map","collect_concat");b.def(t,"$grep",L=function(a){var c=L.$$p,e=c||h,f,d=h;c&&(L.$$p=null);c&&(L.$$p=null);d=[];m(this,"each",[],(f=function(c){var f=b.slice.call(arguments,0,arguments.length);var g=G(f);if(!y(m(a,"__send__",
["==="].concat(b.to_a(g)))))return h;e!==h?(y(p(f.$length(),1))&&(f=[f]),f=b.yieldX(e,b.to_a(f))):y(w(f.$length(),1))&&(f=f["$[]"](0));return d.$push(f)},f.$$s=this,f.$$arity=-1,f));return d},L.$$arity=1);b.def(t,"$grep_v",N=function(a){var c=N.$$p,e=c||h,f,d=h;c&&(N.$$p=null);c&&(N.$$p=null);d=[];m(this,"each",[],(f=function(c){var f=b.slice.call(arguments,0,arguments.length);var g=G(f);if(y(m(a,"__send__",["==="].concat(b.to_a(g)))))return h;e!==h?(y(p(f.$length(),1))&&(f=[f]),f=b.yieldX(e,b.to_a(f))):
y(w(f.$length(),1))&&(f=f["$[]"](0));return d.$push(f)},f.$$s=this,f.$$arity=-1,f));return d},N.$$arity=1);b.def(t,"$group_by",na=function(){var a=na.$$p,c=a||h,e,f,d=h,g=h;a&&(na.$$p=null);a&&(na.$$p=null);if(c===h)return m(this,"enum_for",["group_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));d=P([],{});this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments),e=b.yield1(c,a);(y(f=d["$[]"](e))?f:(g=[e,[]],m(d,"[]=",b.to_a(g)),g[C(g.length,1)]))["$<<"](a)};
this.$each();return d},na.$$arity=0);b.def(t,"$include?",u=function(a){try{var c;m(this,"each",[],(c=function(c){var e=b.slice.call(arguments,0,arguments.length);if(l(T,"Opal").$destructure(e)["$=="](a))b.ret(!0);else return h},c.$$s=this,c.$$arity=-1,c));return!1}catch(Fa){if(Fa===b.returner)return Fa.$v;throw Fa;}},u.$$arity=1);b.def(t,"$inject",W=function(a,c){var e=W.$$p,f=e||h;e&&(W.$$p=null);e&&(W.$$p=null);var d=a;f!==h&&void 0===c?this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments);
void 0!==d&&(a=b.yieldX(f,[d,a]));d=a}:(void 0===c&&(l(T,"Symbol")["$==="](a)||this.$raise(l(T,"TypeError"),""+a.$inspect()+" is not a Symbol"),c=a,d=void 0),this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments);d=void 0===d?a:d.$__send__(c,a)});this.$each();return void 0==d?h:d},W.$$arity=-1);b.def(t,"$lazy",fa=function(){var a;return m(v(l(T,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,c){null==a&&(a=h);var e=b.slice.call(arguments,1,arguments.length);return m(a,
"yield",b.to_a(e))},a.$$s=this,a.$$arity=-2,a))},fa.$$arity=0);b.def(t,"$enumerator_size",ma=function(){return y(this["$respond_to?"]("size"))?this.$size():h},ma.$$arity=0);b.alias(t,"map","collect");b.def(t,"$max",ja=function(a){var c=ja.$$p,e=c||h,f=this;c&&(ja.$$p=null);c&&(ja.$$p=null);if(void 0===a||a===h){var d,g;f.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments);void 0===d?d=a:(g=e!==h?b.yieldX(e,[a,d]):a["$<=>"](d),g===h&&f.$raise(l(T,"ArgumentError"),"comparison failed"),0<
g&&(d=a))};f.$each();return void 0===d?h:d}a=l(T,"Opal").$coerce_to(a,l(T,"Integer"),"to_int");return m(f,"sort",[],e.$to_proc()).$reverse().$first(a)},ja.$$arity=-1);b.def(t,"$max_by",U=function(){var a=U.$$p,c=a||h,e;a&&(U.$$p=null);a&&(U.$$p=null);if(!y(c))return m(this,"enum_for",["max_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f,d;this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments),e=b.yield1(c,a);void 0===f?(f=a,d=e):0<e["$<=>"](d)&&
(f=a,d=e)};this.$each();return void 0===f?h:f},U.$$arity=0);b.alias(t,"member?","include?");b.def(t,"$min",ya=function(){var a=ya.$$p,b=a||h,c=this;a&&(ya.$$p=null);a&&(ya.$$p=null);var e;c.$each.$$p=b!==h?function(){var a=l(T,"Opal").$destructure(arguments);if(void 0===e)e=a;else{var f=b(a,e);f===h&&c.$raise(l(T,"ArgumentError"),"comparison failed");0>f&&(e=a)}}:function(){var a=l(T,"Opal").$destructure(arguments);void 0===e?e=a:0>l(T,"Opal").$compare(a,e)&&(e=a)};c.$each();return void 0===e?h:e},
ya.$$arity=0);b.def(t,"$min_by",Ca=function(){var a=Ca.$$p,c=a||h,e;a&&(Ca.$$p=null);a&&(Ca.$$p=null);if(!y(c))return m(this,"enum_for",["min_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f,d;this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments),e=b.yield1(c,a);void 0===f?(f=a,d=e):0>e["$<=>"](d)&&(f=a,d=e)};this.$each();return void 0===f?h:f},Ca.$$arity=0);b.def(t,"$minmax",za=function(){var a=za.$$p,b=a||h,c,e,f=this;a&&(za.$$p=null);a&&
(za.$$p=null);b=y(c=b)?c:m(f,"proc",[],(e=function(a,b){null==a&&(a=h);null==b&&(b=h);return a["$<=>"](b)},e.$$s=f,e.$$arity=2,e));var d=h,g=h,n=!0;f.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments);if(n)d=g=a,n=!1;else{var c=b.$call(d,a);c===h?f.$raise(l(T,"ArgumentError"),"comparison failed"):0<c&&(d=a);c=b.$call(g,a);c===h?f.$raise(l(T,"ArgumentError"),"comparison failed"):0>c&&(g=a)}};f.$each();return[d,g]},za.$$arity=0);b.def(t,"$minmax_by",Ia=function(){var a=Ia.$$p;a&&(Ia.$$p=
null);a&&(Ia.$$p=null);return this.$raise(l(T,"NotImplementedError"))},Ia.$$arity=0);b.def(t,"$none?",aa=function(a){try{var c=aa.$$p,e=c||h,f,d,g;c&&(aa.$$p=null);c&&(aa.$$p=null);y(void 0!==a)?m(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=G(e);if(y(m(a,"public_send",["==="].concat(b.to_a(e)))))b.ret(!1);else return h},f.$$s=this,f.$$arity=-1,f)):e!==h?m(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(y(b.yieldX(e,b.to_a(c))))b.ret(!1);
else return h},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(g=function(a){var c=b.slice.call(arguments,0,arguments.length);c=l(T,"Opal").$destructure(c);if(y(c))b.ret(!1);else return h},g.$$s=this,g.$$arity=-1,g));return!0}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},aa.$$arity=-1);b.def(t,"$one?",xa=function(a){try{var c=xa.$$p,e=c||h,f,d,g,n=h;c&&(xa.$$p=null);c&&(xa.$$p=null);n=0;y(void 0!==a)?m(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=G(e);if(y(m(a,
"public_send",["==="].concat(b.to_a(e)))))if(n=B(n,1),y(p(n,1)))b.ret(!1);else return h;else return h},f.$$s=this,f.$$arity=-1,f)):e!==h?m(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(!y(b.yieldX(e,b.to_a(c))))return h;n=B(n,1);if(y(p(n,1)))b.ret(!1);else return h},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(g=function(a){var c=b.slice.call(arguments,0,arguments.length);if(!y(l(T,"Opal").$destructure(c)))return h;n=B(n,1);if(y(p(n,1)))b.ret(!1);else return h},
g.$$s=this,g.$$arity=-1,g));return n["$=="](1)}catch(va){if(va===b.returner)return va.$v;throw va;}},xa.$$arity=-1);b.def(t,"$partition",ca=function(){var a=ca.$$p,c=a||h,e;a&&(ca.$$p=null);a&&(ca.$$p=null);if(c===h)return m(this,"enum_for",["partition"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[],d=[];this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments),e=b.yield1(c,a);y(e)?f.push(a):d.push(a)};this.$each();return[f,d]},ca.$$arity=0);b.alias(t,
"reduce","inject");b.def(t,"$reject",ta=function(){var a=ta.$$p,c=a||h,e;a&&(ta.$$p=null);a&&(ta.$$p=null);if(c===h)return m(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){var a=l(T,"Opal").$destructure(arguments),e=b.yield1(c,a);O(e)&&f.push(a)};this.$each();return f},ta.$$arity=0);b.def(t,"$reverse_each",Aa=function(){var a=Aa.$$p,c=a||h,e;a&&(Aa.$$p=null);a&&(Aa.$$p=null);if(c===h)return m(this,"enum_for",
["reverse_each"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(a=f.length-1;0<=a;a--)b.yieldX(c,f[a]);return f},Aa.$$arity=0);b.alias(t,"select","find_all");b.def(t,"$slice_before",da=function(a){var c=da.$$p,e=c||h,f;c&&(da.$$p=null);c&&(da.$$p=null);y(void 0===a&&e===h)&&this.$raise(l(T,"ArgumentError"),"both pattern and block are given");y(void 0!==a&&e!==h||1<arguments.length)&&this.$raise(l(T,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return m(l(T,"Enumerator"),"new",[],(f=function(c){var d=f.$$s||this;null==c&&(c=h);var g=[];d.$each.$$p=e!==h?void 0===a?function(){var a=l(T,"Opal").$destructure(arguments),f=b.yield1(e,a);y(f)&&0<g.length&&(c["$<<"](g),g=[]);g.push(a)}:function(){var b=l(T,"Opal").$destructure(arguments),f=e(b,a.$dup());y(f)&&0<g.length&&(c["$<<"](g),g=[]);g.push(b)}:function(){var b=l(T,"Opal").$destructure(arguments),e=a["$==="](b);
y(e)&&0<g.length&&(c["$<<"](g),g=[]);g.push(b)};d.$each();if(0<g.length)c["$<<"](g)},f.$$s=this,f.$$arity=1,f))},da.$$arity=-1);b.def(t,"$slice_after",Z=function(a){var c=Z.$$p,e=c||h,f,d;c&&(Z.$$p=null);c&&(Z.$$p=null);y(void 0===a&&e===h)&&this.$raise(l(T,"ArgumentError"),"both pattern and block are given");y(void 0!==a&&e!==h||1<arguments.length)&&this.$raise(l(T,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");y(void 0!==a)&&(e=m(this,"proc",[],(f=function(b){null==
b&&(b=h);return a["$==="](b)},f.$$s=this,f.$$arity=1,f)));return m(l(T,"Enumerator"),"new",[],(d=function(a){var c=d.$$s||this;null==a&&(a=h);var f;c.$each.$$p=function(){var c=l(T,"Opal").$destructure(arguments),d=b.yield1(e,c);null==f&&(f=[]);y(d)?(f.push(c),a.$yield(f),f=null):f.push(c)};c.$each();null!=f&&a.$yield(f)},d.$$s=this,d.$$arity=1,d))},Z.$$arity=-1);b.def(t,"$slice_when",Ea=function(){var a=Ea.$$p,c=a||h,e;a&&(Ea.$$p=null);a&&(Ea.$$p=null);c===h&&this.$raise(l(T,"ArgumentError"),"wrong number of arguments (0 for 1)");
return m(l(T,"Enumerator"),"new",[],(e=function(a){var f=e.$$s||this;null==a&&(a=h);var d=h,g=h;f.$each_cons.$$p=function(){var e=l(T,"Opal").$destructure(arguments),f=e[0];e=e[1];var n=b.yieldX(c,[f,e]);g=e;d===h&&(d=[]);y(n)?(d.push(f),a.$yield(d),d=[]):d.push(f)};f.$each_cons(2);d!==h&&(d.push(g),a.$yield(d))},e.$$s=this,e.$$arity=1,e))},Ea.$$arity=0);b.def(t,"$sort",ua=function(){var a=ua.$$p,b=a||h,c,e=h;a&&(ua.$$p=null);a&&(ua.$$p=null);e=this.$to_a();b===h&&(b=J((c=function(a,b){null==a&&(a=
h);null==b&&(b=h);return a["$<=>"](b)},c.$$s=this,c.$$arity=2,c)));return m(e,"sort",[],b.$to_proc())},ua.$$arity=0);b.def(t,"$sort_by",Va=function(){var a=Va.$$p,c=a||h,e,f,d,g,n=h;a&&(Va.$$p=null);a&&(Va.$$p=null);if(c===h)return m(this,"enum_for",["sort_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));n=m(this,"map",[],(f=function(){var a=l(T,"Opal").$destructure(arguments);return[b.yield1(c,a),a]},f.$$s=this,f.$$arity=0,f));m(n,"sort!",[],(d=function(a,b){null==
a&&(a=h);null==b&&(b=h);return a[0]["$<=>"](b[0])},d.$$s=this,d.$$arity=2,d));return m(n,"map!",[],(g=function(a){null==a&&(a=h);return a[1]},g.$$s=this,g.$$arity=1,g))},Va.$$arity=0);b.def(t,"$sum",Ta=function(a){var c,e=Ta.$$p,f=e||h,d=h;e&&(Ta.$$p=null);null==a&&(a=0);d=a;m(this,"each",[],(c=function(a){var c=b.slice.call(arguments,0,arguments.length);c=f!==h?b.yieldX(f,b.to_a(c)):l(T,"Opal").$destructure(c);return d=B(d,c)},c.$$s=this,c.$$arity=-1,c));return d},Ta.$$arity=-1);b.def(t,"$take",
oa=function(a){return this.$first(a)},oa.$$arity=1);b.def(t,"$take_while",Y=function(){try{var a=Y.$$p,c=a||h,e,f=h;a&&(Y.$$p=null);a&&(Y.$$p=null);if(!y(c))return this.$enum_for("take_while");f=[];return m(this,"each",[],(e=function(a){var e=b.slice.call(arguments,0,arguments.length);e=l(T,"Opal").$destructure(e);y(b.yield1(c,e))||b.ret(f);return f.push(e)},e.$$s=this,e.$$arity=-1,e))}catch(ea){if(ea===b.returner)return ea.$v;throw ea;}},Y.$$arity=0);b.def(t,"$uniq",wa=function(){var a=wa.$$p,c=
a||h,e,f=h;a&&(wa.$$p=null);a&&(wa.$$p=null);f=P([],{});m(this,"each",[],(e=function(a){var e=b.slice.call(arguments,0,arguments.length);e=l(T,"Opal").$destructure(e);var d=c!==h?b.yield1(c,e):e;if(y(f["$key?"](d)))return h;e=[d,e];m(f,"[]=",b.to_a(e));return e[C(e.length,1)]},e.$$s=this,e.$$arity=-1,e));return f.$values()},wa.$$arity=0);b.alias(t,"to_a","entries");b.def(t,"$zip",qa=function(a){var c=qa.$$p;c&&(qa.$$p=null);c&&(qa.$$p=null);c=b.slice.call(arguments,0,arguments.length);return m(this.$to_a(),
"zip",b.to_a(c))},qa.$$arity=-1)}(t[0],t)};
Opal.modules["corelib/enumerator"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b+h:b["$+"](h)}function B(b,h){return"number"===typeof b&&"number"===typeof h?b<h:b["$<"](h)}var C=b.top,w=[],t=b.nil,h=b.const_get_relative,v=b.breaker,l=b.slice,F=b.klass,y=b.truthy,m=b.send,O=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));C.$require("corelib/enumerable");
return function(w,$super,C){w=F(w,$super,"Enumerator");var k=[w].concat(C),P,G,x,I,a,d;w.$$prototype.size=w.$$prototype.args=w.$$prototype.object=w.$$prototype.method=t;w.$include(h(k,"Enumerable"));w.$$prototype.$$is_enumerator=!0;b.defs(w,"$for",P=function(a,d,h){var k=P.$$p,g=k||t;k&&(P.$$p=null);k&&(P.$$p=null);k=b.slice.call(arguments,1,arguments.length);if(0<k.length){var c=k[0];k.splice(0,1)}null==c&&(c="each");var z=this.$allocate();z.object=a;z.size=g;z.method=c;z.args=k;return z},P.$$arity=
-2);b.def(w,"$initialize",G=function(a){var d=G.$$p,H=d||t;d&&(G.$$p=null);d&&(G.$$p=null);b.slice.call(arguments,0,arguments.length);if(y(H))return this.object=m(h(k,"Generator"),"new",[],H.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||t,y(this.size)?this.size=h(k,"Opal").$coerce_to(this.size,h(k,"Integer"),"to_int"):t;this.object=arguments[0];this.method=arguments[1]||"each";this.args=l.call(arguments,2);return this.size=t},G.$$arity=-1);b.def(w,"$each",x=function(a){var d=
x.$$p,h=d||t,k;d&&(x.$$p=null);d&&(x.$$p=null);d=b.slice.call(arguments,0,arguments.length);if(y(y(k=h["$nil?"]())?d["$empty?"]():k))return this;d=p(this.args,d);return y(h["$nil?"]())?m(this.$class(),"new",[this.object,this.method].concat(b.to_a(d))):m(this.object,"__send__",[this.method].concat(b.to_a(d)),h.$to_proc())},x.$$arity=-1);b.def(w,"$size",I=function(){return y(h(k,"Proc")["$==="](this.size))?m(this.size,"call",b.to_a(this.args)):this.size},I.$$arity=0);b.def(w,"$with_index",a=function(b){var d=
a.$$p,H=d||t,S;d&&(a.$$p=null);d&&(a.$$p=null);null==b&&(b=0);b=y(b)?h(k,"Opal").$coerce_to(b,h(k,"Integer"),"to_int"):0;if(!y(H))return m(this,"enum_for",["with_index",b],(S=function(){return(S.$$s||this).$size()},S.$$s=this,S.$$arity=0,S));var g=b;this.$each.$$p=function(){var a=h(k,"Opal").$destructure(arguments);a=H(a,g);g++;return a};return this.$each()},a.$$arity=-1);b.alias(w,"with_object","each_with_object");b.def(w,"$inspect",d=function(){var a="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;y(this.args["$any?"]())&&(a=p(a,"("+this.args.$inspect()["$[]"](h(k,"Range").$new(1,-2))+")"));return p(a,">")},d.$$arity=0);(function(a,$super,d){a=F(a,$super,"Generator");var k=[a].concat(d),g,c;a.$$prototype.block=t;a.$include(h(k,"Enumerable"));b.def(a,"$initialize",g=function(){var a=g.$$p,b=a||t;a&&(g.$$p=null);a&&(g.$$p=null);y(b)||this.$raise(h(k,"LocalJumpError"),"no block given");return this.block=b},g.$$arity=0);return(b.def(a,"$each",c=function(a){var d=c.$$p,g=d||t;d&&
(c.$$p=null);d&&(c.$$p=null);d=b.slice.call(arguments,0,arguments.length);g=m(h(k,"Yielder"),"new",[],g.$to_proc());try{d.unshift(g),b.yieldX(this.block,d)}catch(D){if(D===v)return v.$v;throw D;}return this},c.$$arity=-1),t)&&"each"})(k[0],null,k);(function(a,$super,d){a=F(a,$super,"Yielder");[a].concat(d);var h,g,c;a.$$prototype.block=t;b.def(a,"$initialize",h=function(){var a=h.$$p,b=a||t;a&&(h.$$p=null);a&&(h.$$p=null);return this.block=b},h.$$arity=0);b.def(a,"$yield",g=function(a){var c=b.slice.call(arguments,
0,arguments.length);c=b.yieldX(this.block,c);if(c===v)throw v;return c},g.$$arity=-1);return(b.def(a,"$<<",c=function(a){var c=b.slice.call(arguments,0,arguments.length);m(this,"yield",b.to_a(c));return this},c.$$arity=-1),t)&&"<<"})(k[0],null,k);return function(a,$super,d){a=F(a,$super,"Lazy");var k=[a].concat(d),g,c,z,q,H,D,n,f,e,l,E,Q,L;a.$$prototype.enumerator=t;(function(a,$super,b){[F(a,$super,"StopLazyError")].concat(b);return t})(k[0],h(k,"Exception"),k);b.def(a,"$initialize",g=function(a,
c){var e=g.$$p,f=e||t,d;e&&(g.$$p=null);e&&(g.$$p=null);null==c&&(c=t);f===t&&this.$raise(h(k,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return m(this,b.find_super_dispatcher(this,"initialize",g,!1),[c],(d=function(c,e){var g=d.$$s||this,n;null==c&&(c=t);var q=b.slice.call(arguments,1,arguments.length);try{return m(a,"each",b.to_a(q),(n=function(a){var e=b.slice.call(arguments,0,arguments.length);e.unshift(c);b.yieldX(f,e)},n.$$s=g,n.$$arity=-1,n))}catch(za){if(b.rescue(za,
[h(k,"Exception")]))try{return t}finally{b.pop_exception()}else throw za;}},d.$$s=this,d.$$arity=-2,d))},g.$$arity=-2);b.alias(a,"force","to_a");b.def(a,"$lazy",c=function(){return this},c.$$arity=0);b.def(a,"$collect",z=function(){var a=z.$$p,c=a||t,e;a&&(z.$$p=null);a&&(z.$$p=null);y(c)||this.$raise(h(k,"ArgumentError"),"tried to call lazy map without a block");return m(h(k,"Lazy"),"new",[this,this.$enumerator_size()],(e=function(a,e){null==a&&(a=t);var f=b.slice.call(arguments,1,arguments.length);
f=b.yieldX(c,f);a.$yield(f)},e.$$s=this,e.$$arity=-2,e))},z.$$arity=0);b.def(a,"$collect_concat",q=function(){var a=q.$$p,c=a||t,e;a&&(q.$$p=null);a&&(q.$$p=null);y(c)||this.$raise(h(k,"ArgumentError"),"tried to call lazy map without a block");return m(h(k,"Lazy"),"new",[this,t],(e=function(a,f){var d=e.$$s||this,g,n;null==a&&(a=t);var q=b.slice.call(arguments,1,arguments.length);q=b.yieldX(c,q);q["$respond_to?"]("force")&&q["$respond_to?"]("each")?m(q,"each",[],(g=function(b){null==b&&(b=t);return a.$yield(b)},
g.$$s=d,g.$$arity=1,g)):h(k,"Opal").$try_convert(q,h(k,"Array"),"to_ary")===t?a.$yield(q):m(q,"each",[],(n=function(b){null==b&&(b=t);return a.$yield(b)},n.$$s=d,n.$$arity=1,n))},e.$$s=this,e.$$arity=-2,e))},q.$$arity=0);b.def(a,"$drop",H=function(a){var c,e=t,f=e=t;a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");y(B(a,0))&&this.$raise(h(k,"ArgumentError"),"attempt to drop negative size");e=this.$enumerator_size();e=y(h(k,"Integer")["$==="](e))?y(B(a,e))?a:e:e;f=0;return m(h(k,"Lazy"),"new",[this,
e],(c=function(c,e){null==c&&(c=t);var d=b.slice.call(arguments,1,arguments.length);return y(B(f,a))?f=p(f,1):m(c,"yield",b.to_a(d))},c.$$s=this,c.$$arity=-2,c))},H.$$arity=1);b.def(a,"$drop_while",D=function(){var a=D.$$p,c=a||t,e,f=t;a&&(D.$$p=null);a&&(D.$$p=null);y(c)||this.$raise(h(k,"ArgumentError"),"tried to call lazy drop_while without a block");f=!0;return m(h(k,"Lazy"),"new",[this,t],(e=function(a,e){null==a&&(a=t);var d=b.slice.call(arguments,1,arguments.length);if(y(f)){var g=b.yieldX(c,
d);O(g)&&(f=!1,m(a,"yield",b.to_a(d)))}else return m(a,"yield",b.to_a(d))},e.$$s=this,e.$$arity=-2,e))},D.$$arity=0);b.def(a,"$enum_for",n=function(a,c){var e=n.$$p,f=e||t;e&&(n.$$p=null);e&&(n.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(0<e.length){var d=e[0];e.splice(0,1)}null==d&&(d="each");return m(this.$class(),"for",[this,d].concat(b.to_a(e)),f.$to_proc())},n.$$arity=-1);b.def(a,"$find_all",f=function(){var a=f.$$p,c=a||t,e;a&&(f.$$p=null);a&&(f.$$p=null);y(c)||this.$raise(h(k,
"ArgumentError"),"tried to call lazy select without a block");return m(h(k,"Lazy"),"new",[this,t],(e=function(a,e){null==a&&(a=t);var f=b.slice.call(arguments,1,arguments.length);var d=b.yieldX(c,f);y(d)&&m(a,"yield",b.to_a(f))},e.$$s=this,e.$$arity=-2,e))},f.$$arity=0);b.alias(a,"flat_map","collect_concat");b.def(a,"$grep",e=function(a){var c=e.$$p,f=c||t,d,g;c&&(e.$$p=null);c&&(e.$$p=null);return y(f)?m(h(k,"Lazy"),"new",[this,t],(d=function(c,e){null==c&&(c=t);var d=b.slice.call(arguments,1,arguments.length);
d=h(k,"Opal").$destructure(d);var g=a["$==="](d);y(g)&&(b.yield1(f,d),c.$yield(b.yield1(f,d)))},d.$$s=this,d.$$arity=-2,d)):m(h(k,"Lazy"),"new",[this,t],(g=function(c,e){null==c&&(c=t);var f=b.slice.call(arguments,1,arguments.length);f=h(k,"Opal").$destructure(f);var d=a["$==="](f);y(d)&&c.$yield(f)},g.$$s=this,g.$$arity=-2,g))},e.$$arity=1);b.alias(a,"map","collect");b.alias(a,"select","find_all");b.def(a,"$reject",l=function(){var a=l.$$p,c=a||t,e;a&&(l.$$p=null);a&&(l.$$p=null);y(c)||this.$raise(h(k,
"ArgumentError"),"tried to call lazy reject without a block");return m(h(k,"Lazy"),"new",[this,t],(e=function(a,e){null==a&&(a=t);var f=b.slice.call(arguments,1,arguments.length);var d=b.yieldX(c,f);O(d)&&m(a,"yield",b.to_a(f))},e.$$s=this,e.$$arity=-2,e))},l.$$arity=0);b.def(a,"$take",E=function(a){var c,e=t,f=e=t;a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");y(B(a,0))&&this.$raise(h(k,"ArgumentError"),"attempt to take negative size");e=this.$enumerator_size();e=y(h(k,"Integer")["$==="](e))?
y(B(a,e))?a:e:e;f=0;return m(h(k,"Lazy"),"new",[this,e],(c=function(e,d){var g=c.$$s||this;null==e&&(e=t);var n=b.slice.call(arguments,1,arguments.length);return y(B(f,a))?(m(e,"yield",b.to_a(n)),f=p(f,1)):g.$raise(h(k,"StopLazyError"))},c.$$s=this,c.$$arity=-2,c))},E.$$arity=1);b.def(a,"$take_while",Q=function(){var a=Q.$$p,c=a||t,e;a&&(Q.$$p=null);a&&(Q.$$p=null);y(c)||this.$raise(h(k,"ArgumentError"),"tried to call lazy take_while without a block");return m(h(k,"Lazy"),"new",[this,t],(e=function(a,
f){var d=e.$$s||this;null==a&&(a=t);var g=b.slice.call(arguments,1,arguments.length);var n=b.yieldX(c,g);y(n)?m(a,"yield",b.to_a(g)):d.$raise(h(k,"StopLazyError"))},e.$$s=this,e.$$arity=-2,e))},Q.$$arity=0);b.alias(a,"to_enum","enum_for");return(b.def(a,"$inspect",L=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},L.$$arity=0),t)&&"inspect"}(k[0],w,k)}(w[0],null,w)};
Opal.modules["corelib/numeric"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b-h:b["$-"](h)}function B(b,h){return"number"===typeof b&&"number"===typeof h?b*h:b["$*"](h)}function C(b,h){return"number"===typeof b&&"number"===typeof h?b<h:b["$<"](h)}function w(b,h){return"number"===typeof b&&"number"===typeof h?b/h:b["$/"](h)}var t=b.top,h=[],v=b.nil,l=b.const_get_qualified,F=b.const_get_relative,y=b.klass,m=b.truthy,O=b.hash2;b.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
t.$require("corelib/comparable");return function(h,$super,t){h=y(h,$super,"Numeric");var k=[h].concat(t),G,P,x,I,a,d,H,r,Q,S,g,c,z,q,V,D,n,f,e,X,E,ba,L,N,na,u,W,fa,ma,ja,U,ya,Ca,za,Ia,aa,xa;h.$include(F(k,"Comparable"));b.def(h,"$coerce",G=function(a){return m(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},G.$$arity=1);b.def(h,"$__coerced__",P=function(a,c){if(m(c["$respond_to?"]("coerce"))){c=c.$coerce(this);var e=b.to_ary(c);var f=null==e[0]?v:e[0];e=null==e[1]?
v:e[1];c;return f.$__send__(a,e)}return"+"["$==="](a)||"-"["$==="](a)||"*"["$==="](a)||"/"["$==="](a)||"%"["$==="](a)||"&"["$==="](a)||"|"["$==="](a)||"^"["$==="](a)||"**"["$==="](a)?this.$raise(F(k,"TypeError"),""+c.$class()+" can't be coerced into Numeric"):">"["$==="](a)||">="["$==="](a)||"<"["$==="](a)||"<="["$==="](a)||"<=>"["$==="](a)?this.$raise(F(k,"ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed"):v},P.$$arity=2);b.def(h,"$<=>",x=function(a){return m(this["$equal?"](a))?
0:v},x.$$arity=1);b.def(h,"$+@",I=function(){return this},I.$$arity=0);b.def(h,"$-@",a=function(){return p(0,this)},a.$$arity=0);b.def(h,"$%",d=function(a){return p(this,B(a,this.$div(a)))},d.$$arity=1);b.def(h,"$abs",H=function(){return C(this,0)?this["$-@"]():this},H.$$arity=0);b.def(h,"$abs2",r=function(){return B(this,this)},r.$$arity=0);b.def(h,"$angle",Q=function(){return C(this,0)?l(F(k,"Math"),"PI"):0},Q.$$arity=0);b.alias(h,"arg","angle");b.def(h,"$ceil",S=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},
S.$$arity=-1);b.def(h,"$conj",g=function(){return this},g.$$arity=0);b.alias(h,"conjugate","conj");b.def(h,"$denominator",c=function(){return this.$to_r().$denominator()},c.$$arity=0);b.def(h,"$div",z=function(a){a["$=="](0)&&this.$raise(F(k,"ZeroDivisionError"),"divided by o");return w(this,a).$floor()},z.$$arity=1);b.def(h,"$divmod",q=function(a){return[this.$div(a),this["$%"](a)]},q.$$arity=1);b.def(h,"$fdiv",V=function(a){return w(this.$to_f(),a)},V.$$arity=1);b.def(h,"$floor",D=function(a){null==
a&&(a=0);return this.$to_f().$floor(a)},D.$$arity=-1);b.def(h,"$i",n=function(){return this.$Complex(0,this)},n.$$arity=0);b.def(h,"$imag",f=function(){return 0},f.$$arity=0);b.alias(h,"imaginary","imag");b.def(h,"$integer?",e=function(){return!1},e.$$arity=0);b.alias(h,"magnitude","abs");b.alias(h,"modulo","%");b.def(h,"$nonzero?",X=function(){return m(this["$zero?"]())?v:this},X.$$arity=0);b.def(h,"$numerator",E=function(){return this.$to_r().$numerator()},E.$$arity=0);b.alias(h,"phase","arg");
b.def(h,"$polar",ba=function(){return[this.$abs(),this.$arg()]},ba.$$arity=0);b.def(h,"$quo",L=function(a){return w(F(k,"Opal")["$coerce_to!"](this,F(k,"Rational"),"to_r"),a)},L.$$arity=1);b.def(h,"$real",N=function(){return this},N.$$arity=0);b.def(h,"$real?",na=function(){return!0},na.$$arity=0);b.def(h,"$rect",u=function(){return[this,0]},u.$$arity=0);b.alias(h,"rectangular","rect");b.def(h,"$round",W=function(a){return this.$to_f().$round(a)},W.$$arity=-1);b.def(h,"$to_c",fa=function(){return this.$Complex(this,
0)},fa.$$arity=0);b.def(h,"$to_int",ma=function(){return this.$to_i()},ma.$$arity=0);b.def(h,"$truncate",ja=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},ja.$$arity=-1);b.def(h,"$zero?",U=function(){return this["$=="](0)},U.$$arity=0);b.def(h,"$positive?",ya=function(){return"number"===typeof this?0<this:this["$>"](0)},ya.$$arity=0);b.def(h,"$negative?",Ca=function(){return C(this,0)},Ca.$$arity=0);b.def(h,"$dup",za=function(){return this},za.$$arity=0);b.def(h,"$clone",Ia=function(a){if(null==
a)O([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},Ia.$$arity=-1);b.def(h,"$finite?",aa=function(){return!0},aa.$$arity=0);return(b.def(h,"$infinite?",xa=function(){return v},xa.$$arity=0),v)&&"infinite?"}(h[0],null,h)};
Opal.modules["corelib/array"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b>h:b["$>"](h)}var B=b.top,C=[],w=b.nil,t=b.const_get_qualified,h=b.const_get_relative,v=b.klass,l=b.truthy,F=b.hash2,y=b.send,m=b.gvars;b.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
B.$require("corelib/enumerable");B.$require("corelib/numeric");return function(C,$super,B){function G(a,c){return c.$$name===b.Array?a:c.$allocate().$replace(a.$to_a())}function k(a,c){var e=a.length;var f=c.excl;var d=b.Opal.$coerce_to(c.begin,b.Integer,"to_int");c=b.Opal.$coerce_to(c.end,b.Integer,"to_int");if(0>d&&(d+=e,0>d)||d>e)return w;if(0>c&&(c+=e,0>c))return[];f||(c+=1);e=a.slice(d,c);return G(e,a.$class())}function J(a,c,e){var f=a.length;c=b.Opal.$coerce_to(c,b.Integer,"to_int");if(0>c&&
(c+=f,0>c))return w;if(void 0===e)return c>=f||0>c?w:a[c];e=b.Opal.$coerce_to(e,b.Integer,"to_int");if(0>e||c>f||0>c)return w;c=a.slice(c,c+e);return G(c,a.$class())}function T(a,b){return a===b||0===b?1:0<b&&a>b?T(a-1,b-1)+T(a-1,b):0}var x=v(C,$super,"Array"),I=[x].concat(B),a,d,H,r,Q,S,g,c,z,q,V,D,n,f,e,X,E,ba,L,N,na,u,W,fa,ma,ja,U,ya,Ca,za,Ia,aa,xa,ca,ta,Aa,da,Z,Ea,ua,O,Ta,oa,Y,wa,qa,Ra,Ja,Fa,Ka,ea,ra,ha,va,Ba,la,Ma,Da,Na,La,Pa,Oa,Ga,Qa,Wa,Ua,Sa,A,K,ia,M,R,pa,sa,cb,Xa,Ha,eb,fb,gb,Za,Ya,lb,$a,mb,
ab,bb,db,ob,hb,pb,ib,qb;x.$include(h(I,"Enumerable"));b.defineProperty(x.$$prototype,"$$is_array",!0);b.defs(x,"$[]",a=function(a){var c=b.slice.call(arguments,0,arguments.length);return G(c,this)},a.$$arity=-1);b.def(x,"$initialize",d=function(a,b){var c=d.$$p,e=c||w;c&&(d.$$p=null);c&&(d.$$p=null);null==a&&(a=w);null==b&&(b=w);b!==w&&e!==w&&this.$warn("warning: block supersedes default value argument");a>t(h(I,"Integer"),"MAX")&&this.$raise(h(I,"ArgumentError"),"array size too big");2<arguments.length&&
this.$raise(h(I,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");0>a&&this.$raise(h(I,"ArgumentError"),"negative array size");this.splice(0,this.length);if(e===w)for(c=0;c<a;c++)this.push(b);else for(c=0,f;c<a;c++){var f=
e(c);this[c]=f}return this},d.$$arity=-1);b.defs(x,"$try_convert",H=function(a){return h(I,"Opal")["$coerce_to?"](a,h(I,"Array"),"to_ary")},H.$$arity=1);b.def(x,"$&",r=function(a){a=l(h(I,"Array")["$==="](a))?a.$to_a():h(I,"Opal").$coerce_to(a,h(I,"Array"),"to_ary").$to_a();var c=[],e=F([],{}),f;var d=0;for(f=a.length;d<f;d++)b.hash_put(e,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],void 0!==b.hash_delete(e,a)&&c.push(a);return c},r.$$arity=1);b.def(x,"$|",Q=function(a){a=l(h(I,"Array")["$==="](a))?
a.$to_a():h(I,"Opal").$coerce_to(a,h(I,"Array"),"to_ary").$to_a();var c=F([],{}),e;var f=0;for(e=this.length;f<e;f++)b.hash_put(c,this[f],!0);f=0;for(e=a.length;f<e;f++)b.hash_put(c,a[f],!0);return c.$keys()},Q.$$arity=1);b.def(x,"$*",S=function(a){if(l(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");l(0>a)&&this.$raise(h(I,"ArgumentError"),"negative argument");for(var b=[],c=this.$to_a(),e=0;e<a;e++)b=b.concat(c);return G(b,this.$class())},
S.$$arity=1);b.def(x,"$+",g=function(a){a=l(h(I,"Array")["$==="](a))?a.$to_a():h(I,"Opal").$coerce_to(a,h(I,"Array"),"to_ary").$to_a();return this.concat(a)},g.$$arity=1);b.def(x,"$-",c=function(a){a=l(h(I,"Array")["$==="](a))?a.$to_a():h(I,"Opal").$coerce_to(a,h(I,"Array"),"to_ary").$to_a();if(l(0===this.length))return[];if(l(0===a.length))return this.slice();var c=[],e=F([],{}),f;var d=0;for(f=a.length;d<f;d++)b.hash_put(e,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],void 0===b.hash_get(e,a)&&
c.push(a);return c},c.$$arity=1);b.def(x,"$<<",z=function(a){this.push(a);return this},z.$$arity=1);b.def(x,"$<=>",q=function(a){if(l(h(I,"Array")["$==="](a)))a=a.$to_a();else if(l(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return w;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),c=0;c<b;c++){var e=this[c]["$<=>"](a[c]);if(0!==e)return e}return this.length["$<=>"](a.length)},q.$$arity=1);b.def(x,"$==",V=function(a){function b(a,e){var f;if(a===e)return!0;
if(!e.$$is_array)return h(I,"Opal")["$respond_to?"](e,"to_ary")?e["$=="](a):!1;a.$$constructor!==Array&&(a=a.$to_a());e.$$constructor!==Array&&(e=e.$to_a());if(a.length!==e.length)return!1;c[a.$object_id()]=!0;var d=0;for(f=a.length;d<f;d++){var g=a[d];var n=e[d];if(g.$$is_array){if(n.$$is_array&&n.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,n))return!1}else if(!g["$=="](n))return!1}return!0}var c={};return b(this,a)},V.$$arity=1);b.def(x,"$[]",D=function(a,b){return a.$$is_range?k(this,
a):J(this,a,b)},D.$$arity=-2);b.def(x,"$[]=",n=function(a,b,c){var e=w;var f=this.length;if(l(h(I,"Range")["$==="](a))){e=l(h(I,"Array")["$==="](b))?b.$to_a():l(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b];var d=a.excl;c=h(I,"Opal").$coerce_to(a.begin,h(I,"Integer"),"to_int");var g=h(I,"Opal").$coerce_to(a.end,h(I,"Integer"),"to_int");0>c&&(c+=f,0>c&&this.$raise(h(I,"RangeError"),""+a.$inspect()+" out of range"));0>g&&(g+=f);d||(g+=1);if(c>f)for(;f<c;f++)this[f]=w;0>g?this.splice.apply(this,
[c,0].concat(e)):this.splice.apply(this,[c,g-c].concat(e))}else{l(void 0===c)?g=1:(g=b,b=c,e=l(h(I,"Array")["$==="](b))?b.$to_a():l(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");g=h(I,"Opal").$coerce_to(g,h(I,"Integer"),"to_int");0>a&&(d=a,a+=f,0>a&&this.$raise(h(I,"IndexError"),"index "+d+" too small for array; minimum "+-this.length));0>g&&this.$raise(h(I,"IndexError"),"negative length ("+g+")");if(a>f)for(;f<a;f++)this[f]=w;void 0===c?
this[a]=b:this.splice.apply(this,[a,g].concat(e))}return b},n.$$arity=-3);b.def(x,"$any?",f=function(a){var c=f.$$p,e;c&&(f.$$p=null);var d=0;var g=arguments.length;for(e=Array(g);d<g;d++)e[d]=arguments[d];c&&(f.$$p=null);return 0===this.length?!1:y(this,b.find_super_dispatcher(this,"any?",f,!1),e,c)},f.$$arity=-1);b.def(x,"$assoc",e=function(a){for(var b=0,c=this.length,e;b<c;b++)if(e=this[b],e.length&&e[0]["$=="](a))return e;return w},e.$$arity=1);b.def(x,"$at",X=function(a){a=h(I,"Opal").$coerce_to(a,
h(I,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?w:this[a]},X.$$arity=1);b.def(x,"$bsearch_index",E=function(){var a=E.$$p,c=a||w;a&&(E.$$p=null);a&&(E.$$p=null);if(c===w)return this.$enum_for("bsearch_index");a=0;for(var e=this.length,f,d,g=!1,n=w;a<e;){f=a+Math.floor((e-a)/2);d=this[f];d=b.yield1(c,d);if(!0===d)n=f,g=!0;else if(!1===d||d===w)g=!1;else if(d.$$is_number){if(0===d)return f;g=0>d}else this.$raise(h(I,"TypeError"),"wrong argument type "+d.$class()+" (must be numeric, true, false or nil)");
g?e=f:a=f+1}return n},E.$$arity=0);b.def(x,"$bsearch",ba=function(){var a=ba.$$p,b=a||w;a&&(ba.$$p=null);a&&(ba.$$p=null);if(b===w)return this.$enum_for("bsearch");a=y(this,"bsearch_index",[],b.$to_proc());return null!=a&&a.$$is_number?this[a]:a},ba.$$arity=0);b.def(x,"$cycle",L=function(a){var c=L.$$p,e=c||w,f,d;c&&(L.$$p=null);c&&(L.$$p=null);null==a&&(a=w);if(e===w)return y(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(l(a["$nil?"]()))return t(h(I,"Float"),"INFINITY");a=h(I,"Opal")["$coerce_to!"](a,
h(I,"Integer"),"to_int");return l(p(a,0))?(b=b.$enumerator_size(),"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(l(l(d=this["$empty?"]())?d:a["$=="](0)))return w;if(a===w)for(;;)for(c=0,d=this.length;c<d;c++)b.yield1(e,this[c]);else{a=h(I,"Opal")["$coerce_to!"](a,h(I,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){c=0;for(d=this.length;c<d;c++)b.yield1(e,this[c]);a--}}return this},L.$$arity=-1);b.def(x,"$clear",N=function(){this.splice(0,this.length);
return this},N.$$arity=0);b.def(x,"$count",na=function(a){var c=na.$$p,e=c||w,f,d;c&&(na.$$p=null);var g=0;var n=arguments.length;for(d=Array(n);g<n;g++)d[g]=arguments[g];c&&(na.$$p=null);null==a&&(a=w);return l(l(f=a)?f:e)?y(this,b.find_super_dispatcher(this,"count",na,!1),d,c):this.$size()},na.$$arity=-1);b.def(x,"$initialize_copy",u=function(a){return this.$replace(a)},u.$$arity=1);b.def(x,"$collect",W=function(){var a=W.$$p,c=a||w,e;a&&(W.$$p=null);a&&(W.$$p=null);if(c===w)return y(this,"enum_for",
["collect"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=[];for(var f=0,d=this.length;f<d;f++){var g=b.yield1(c,this[f]);a.push(g)}return a},W.$$arity=0);b.def(x,"$collect!",fa=function(){var a=fa.$$p,c=a||w,e;a&&(fa.$$p=null);a&&(fa.$$p=null);if(c===w)return y(this,"enum_for",["collect!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++){var d=b.yield1(c,this[a]);this[a]=d}return this},fa.$$arity=0);b.def(x,"$combination",
ma=function(a){var c,e=ma.$$p,f=e||w,d=w;e&&(ma.$$p=null);d=h(I,"Opal")["$coerce_to!"](a,h(I,"Integer"),"to_int");if(f===w)return y(this,"enum_for",["combination",d],(c=function(){return T((c.$$s||this).length,d)},c.$$s=this,c.$$arity=0,c));if(0===d)b.yield1(f,[]);else if(1===d)for(e=0,a=this.length;e<a;e++)b.yield1(f,[this[e]]);else if(d===this.length)b.yield1(f,this.slice());else if(0<=d&&d<this.length){a=[];for(e=0;e<=d+1;e++)a.push(0);e=[];var g=0;var n=!1;for(a[0]=-1;!n;){for(e[g]=this[a[g+1]];g<
d-1;)g++,n=a[g+1]=a[g]+1,e[g]=this[n];b.yield1(f,e.slice());g++;do n=0===g,a[g]++,g--;while(a[g+1]+d===this.length+g+1)}}return this},ma.$$arity=1);b.def(x,"$repeated_combination",ja=function(a){function c(a,e,f,g){if(f.length==a)a=f.slice(),b.yield1(d,a);else for(;e<g.length;e++)f.push(g[e]),c(a,e,f,g),f.pop()}var e,f=ja.$$p,d=f||w,g=w;f&&(ja.$$p=null);g=h(I,"Opal")["$coerce_to!"](a,h(I,"Integer"),"to_int");if(d===w)return y(this,"enum_for",["repeated_combination",g],(e=function(){return T((e.$$s||
this).length+g-1,g)},e.$$s=this,e.$$arity=0,e));0<=g&&c(g,0,[],this);return this},ja.$$arity=1);b.def(x,"$compact",U=function(){for(var a=[],b=0,c=this.length,e;b<c;b++)(e=this[b])!==w&&a.push(e);return a},U.$$arity=0);b.def(x,"$compact!",ya=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===w&&(this.splice(b,1),c--,b--);return this.length===a?w:this},ya.$$arity=0);b.def(x,"$concat",Ca=function(a){var c,e;var f=b.slice.call(arguments,0,arguments.length);f=y(f,"map",[],(c=function(a){var b=
c.$$s||this;null==a&&(a=w);a=l(h(I,"Array")["$==="](a))?a.$to_a():h(I,"Opal").$coerce_to(a,h(I,"Array"),"to_ary").$to_a();l(a["$equal?"](b))&&(a=a.$dup());return a},c.$$s=this,c.$$arity=1,c));y(f,"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=w);for(var c=0,f=a.length;c<f;c++)b.push(a[c])},e.$$s=this,e.$$arity=1,e));return this},Ca.$$arity=-1);b.def(x,"$delete",za=function(a){var c=za.$$p,e=c||w;c&&(za.$$p=null);c=this.length;for(var f=0,d=c;f<d;f++)this[f]["$=="](a)&&(this.splice(f,1),d--,
f--);return this.length===c?e!==w?b.yieldX(e,[]):w:a},za.$$arity=1);b.def(x,"$delete_at",Ia=function(a){a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return w;var b=this[a];this.splice(a,1);return b},Ia.$$arity=1);b.def(x,"$delete_if",aa=function(){var a=aa.$$p,b=a||w,c;a&&(aa.$$p=null);a&&(aa.$$p=null);if(b===w)return y(this,"enum_for",["delete_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var e=this.length,f;a<
e;a++)f=b(this[a]),!1!==f&&f!==w&&(this.splice(a,1),e--,a--);return this},aa.$$arity=0);b.def(x,"$dig",xa=function(a,c){var e=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===w||0===e.length)return f;l(f["$respond_to?"]("dig"))||this.$raise(h(I,"TypeError"),""+f.$class()+" does not have #dig method");return y(f,"dig",b.to_a(e))},xa.$$arity=-2);b.def(x,"$drop",ca=function(a){0>a&&this.$raise(h(I,"ArgumentError"));return this.slice(a)},ca.$$arity=1);b.def(x,"$dup",ta=function(){var a=
ta.$$p,c;a&&(ta.$$p=null);var e=0;var f=arguments.length;for(c=Array(f);e<f;e++)c[e]=arguments[e];return this.$$class===b.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):y(this,b.find_super_dispatcher(this,"dup",ta,!1),c,a)},ta.$$arity=0);b.def(x,"$each",Aa=function(){var a=Aa.$$p,c=a||w,e;a&&(Aa.$$p=null);a&&(Aa.$$p=null);if(c===w)return y(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,
e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(c,this[a]);return this},Aa.$$arity=0);b.def(x,"$each_index",da=function(){var a=da.$$p,c=a||w,e;a&&(da.$$p=null);a&&(da.$$p=null);if(c===w)return y(this,"enum_for",["each_index"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(c,a);return this},da.$$arity=0);b.def(x,"$empty?",Z=function(){return 0===this.length},Z.$$arity=0);b.def(x,"$eql?",Ea=function(a){function b(a,e){var f;
if(!e.$$is_array)return!1;e=e.$to_a();if(a.length!==e.length)return!1;c[a.$object_id()]=!0;var d=0;for(f=a.length;d<f;d++){var g=a[d];var n=e[d];if(g.$$is_array){if(n.$$is_array&&n.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,n))return!1}else if(!g["$eql?"](n))return!1}return!0}var c={};return b(this,a)},Ea.$$arity=1);b.def(x,"$fetch",ua=function(a,b){var c=ua.$$p,e=c||w;c&&(ua.$$p=null);c&&(ua.$$p=null);c=a;a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=
a&&a<this.length)return this[a];e!==w&&null!=b&&this.$warn("warning: block supersedes default value argument");if(e!==w)return e(c);if(null!=b)return b;0===this.length?this.$raise(h(I,"IndexError"),"index "+c+" outside of array bounds: 0...0"):this.$raise(h(I,"IndexError"),"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)},ua.$$arity=-2);b.def(x,"$fill",O=function(a){var c=O.$$p,e=c||w,f=w;c&&(O.$$p=null);c&&(O.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(l(e)){l(2<
c.length)&&this.$raise(h(I,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 0..2)");var d=c;var g=b.to_ary(d);c=null==g[0]?w:g[0];g=null==g[1]?w:g[1]}else l(0==c.length)?this.$raise(h(I,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):l(3<c.length)&&this.$raise(h(I,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 1..3)"),d=c,g=b.to_ary(d),f=null==g[0]?w:g[0],c=null==g[1]?w:g[1],g=null==g[2]?w:g[2];d;if(l(h(I,"Range")["$==="](c))){if(l(g)&&this.$raise(h(I,
"TypeError"),"length invalid with range"),d=h(I,"Opal").$coerce_to(c.$begin(),h(I,"Integer"),"to_int"),l(0>d)&&(d+=this.length),l(0>d)&&this.$raise(h(I,"RangeError"),""+c.$inspect()+" out of range"),g=h(I,"Opal").$coerce_to(c.$end(),h(I,"Integer"),"to_int"),l(0>g)&&(g+=this.length),l(c["$exclude_end?"]())||(g+=1),l(g<=d))return this}else if(l(c))if(d=h(I,"Opal").$coerce_to(c,h(I,"Integer"),"to_int"),l(0>d)&&(d+=this.length),l(0>d)&&(d=0),l(g)){g=h(I,"Opal").$coerce_to(g,h(I,"Integer"),"to_int");if(l(0==
g))return this;g+=d}else g=this.length;else d=0,g=this.length;if(l(d>this.length))for(c=this.length;c<g;c++)this[c]=w;l(g>this.length)&&(this.length=g);if(l(e))for(;d<g;d++)f=e(d),this[d]=f;else for(;d<g;d++)this[d]=f;return this},O.$$arity=-1);b.def(x,"$first",Ta=function(a){if(null==a)return 0===this.length?w:this[0];a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");0>a&&this.$raise(h(I,"ArgumentError"),"negative array size");return this.slice(0,a)},Ta.$$arity=-1);b.def(x,"$flatten",oa=function(a){function b(a,
e){var f=[],d;a=a.$to_a();var g=0;for(d=a.length;g<d;g++){var n=a[g];if(h(I,"Opal")["$respond_to?"](n,"to_ary",!0)){var q=n.$to_ary();if(q===w)f.push(n);else switch(q.$$is_array||c.$raise(h(I,"TypeError")),q===c&&c.$raise(h(I,"ArgumentError")),e){case void 0:f=f.concat(b(q));break;case 0:f.push(q);break;default:f.push.apply(f,b(q,e-1))}}else f.push(n)}return f}var c=this;void 0!==a&&(a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int"));return G(b(c,a),c.$class())},oa.$$arity=-1);b.def(x,"$flatten!",
Y=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return w}this.$replace(a);return this},Y.$$arity=-1);b.def(x,"$hash",wa=function(){var a=void 0===b.hash_ids,c=["A"],e=this.$object_id(),f,d;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[e])return"self";for(d in b.hash_ids){var g=b.hash_ids[d];if(this["$eql?"](g))return"self"}b.hash_ids[e]=this;for(f=0;f<this.length;f++)g=this[f],c.push(g.$hash());return c.join(",")}finally{a&&
(b.hash_ids=void 0)}},wa.$$arity=0);b.def(x,"$include?",qa=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},qa.$$arity=1);b.def(x,"$index",Ra=function(a){var b=Ra.$$p,c=b||w;b&&(Ra.$$p=null);b&&(Ra.$$p=null);var e;null!=a&&c!==w&&this.$warn("warning: given block not used");if(null!=a)for(b=0,e=this.length;b<e;b++){if(this[b]["$=="](a))return b}else if(c!==w)for(b=0,e=this.length;b<e;b++){if(a=c(this[b]),!1!==a&&a!==w)return b}else return this.$enum_for("index");
return w},Ra.$$arity=-1);b.def(x,"$insert",Ja=function(a,c){var e=b.slice.call(arguments,1,arguments.length);a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");if(0<e.length){0>a&&(a+=this.length+1,0>a&&this.$raise(h(I,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(var f=this.length;f<a;f++)this.push(w);this.splice.apply(this,[a,0].concat(e))}return this},Ja.$$arity=-2);b.def(x,"$inspect",Fa=function(){for(var a=[],b=this.$__id__(),c=0,e=this.length;c<e;c++){var f=this["$[]"](c);f.$__id__()===
b?a.push("[...]"):a.push(f.$inspect())}return"["+a.join(", ")+"]"},Fa.$$arity=0);b.def(x,"$join",Ka=function(a){null==m[","]&&(m[","]=w);null==a&&(a=w);if(l(0===this.length))return"";l(a===w)&&(a=m[","]);var c=[],e;var f=0;for(e=this.length;f<e;f++){var d=this[f];if(h(I,"Opal")["$respond_to?"](d,"to_str")){var g=d.$to_str();if(g!==w){c.push(g.$to_s());continue}}if(h(I,"Opal")["$respond_to?"](d,"to_ary")&&(g=d.$to_ary(),g===this&&this.$raise(h(I,"ArgumentError")),g!==w)){c.push(g.$join(a));continue}if(h(I,
"Opal")["$respond_to?"](d,"to_s")&&(g=d.$to_s(),g!==w)){c.push(g);continue}this.$raise(h(I,"NoMethodError").$new(""+b.inspect(d)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===w?c.join(""):c.join(h(I,"Opal")["$coerce_to!"](a,h(I,"String"),"to_str").$to_s())},Ka.$$arity=-1);b.def(x,"$keep_if",ea=function(){var a=ea.$$p,b=a||w,c;a&&(ea.$$p=null);a&&(ea.$$p=null);if(b===w)return y(this,"enum_for",["keep_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));
a=0;for(var e=this.length,f;a<e;a++)if(f=b(this[a]),!1===f||f===w)this.splice(a,1),e--,a--;return this},ea.$$arity=0);b.def(x,"$last",ra=function(a){if(null==a)return 0===this.length?w:this[this.length-1];a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");0>a&&this.$raise(h(I,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},ra.$$arity=-1);b.def(x,"$length",ha=function(){return this.length},ha.$$arity=0);b.alias(x,"map","collect");
b.alias(x,"map!","collect!");b.def(x,"$max",va=function(a){var b=va.$$p,c=b||w;b&&(va.$$p=null);b&&(va.$$p=null);return y(this.$each(),"max",[a],c.$to_proc())},va.$$arity=-1);b.def(x,"$min",Ba=function(){var a=Ba.$$p,b=a||w;a&&(Ba.$$p=null);a&&(Ba.$$p=null);return y(this.$each(),"min",[],b.$to_proc())},Ba.$$arity=0);b.def(x,"$permutation",la=function(a){var c=la.$$p,e=c||w,f,d=this,g=w,n=w;c&&(la.$$p=null);c&&(la.$$p=null);if(e===w)return y(d,"enum_for",["permutation",a],(f=function(){var b=f.$$s||
this,c=b.length;b=void 0===a?b.length:a;for(var e=0<=b?1:0;b;)e*=c,c--,b--;return e},f.$$s=d,f.$$arity=0,f));var q;a=void 0===a?d.length:h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");if(!(0>a||d.length<a))if(0===a)b.yield1(e,[]);else if(1===a)for(g=0;g<d.length;g++)b.yield1(e,[d[g]]);else{g=h(I,"Array").$new(a);n=h(I,"Array").$new(d.length,!1);var u=function(a,c,e,f,g){d=this;for(var n=0;n<d.length;n++)if(f["$[]"](n)["$!"]())if(c[e]=n,e<a-1)f[n]=!0,u.call(d,a,c,e+1,f,g),f[n]=!1;else{q=[];for(var h=
0;h<c.length;h++)q.push(d[c[h]]);b.yield1(g,q)}};e!==w?(c=d.slice(),u.call(c,a,g,0,n,e)):u.call(d,a,g,0,n,e)}return d},la.$$arity=-1);b.def(x,"$repeated_permutation",Ma=function(a){function c(a,e,f){if(e.length==a)a=e.slice(),b.yield1(d,a);else for(var g=0;g<f.length;g++)e.push(f[g]),c(a,e,f),e.pop()}var e,f=Ma.$$p,d=f||w,g=w;f&&(Ma.$$p=null);g=h(I,"Opal")["$coerce_to!"](a,h(I,"Integer"),"to_int");if(d===w)return y(this,"enum_for",["repeated_permutation",g],(e=function(){var a=e.$$s||this;return l("number"===
typeof g?0<=g:g["$>="](0))?a.$size()["$**"](g):0},e.$$s=this,e.$$arity=0,e));c(g,[],this.slice());return this},Ma.$$arity=1);b.def(x,"$pop",Da=function(a){if(l(void 0===a))return l(0===this.length)?w:this.pop();a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");l(0>a)&&this.$raise(h(I,"ArgumentError"),"negative array size");return l(0===this.length)?[]:l(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},Da.$$arity=-1);b.def(x,"$product",Na=function(a){var c=Na.$$p,
e=c||w;c&&(Na.$$p=null);c&&(Na.$$p=null);var f=b.slice.call(arguments,0,arguments.length);c=e!==w?null:[];var d=f.length+1,g=Array(d),n=Array(d),q=Array(d),u;var Ha=1;q[0]=this;for(u=1;u<d;u++)q[u]=h(I,"Opal").$coerce_to(f[u-1],h(I,"Array"),"to_ary");for(u=0;u<d;u++){f=q[u].length;if(0===f)return c||this;Ha*=f;2147483647<Ha&&this.$raise(h(I,"RangeError"),"too big to product");n[u]=f;g[u]=0}a:for(;;){Ha=[];for(u=0;u<d;u++)Ha.push(q[u][g[u]]);c?c.push(Ha):b.yield1(e,Ha);u=d-1;for(g[u]++;g[u]===n[u];){g[u]=
0;if(0>--u)break a;g[u]++}}return c||this},Na.$$arity=-1);b.def(x,"$push",La=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++)this.push(c[e]);return this},La.$$arity=-1);b.alias(x,"append","push");b.def(x,"$rassoc",Pa=function(a){for(var b=0,c=this.length,e;b<c;b++)if(e=this[b],e.length&&void 0!==e[1]&&e[1]["$=="](a))return e;return w},Pa.$$arity=1);b.def(x,"$reject",Oa=function(){var a=Oa.$$p,b=a||w,c;a&&(Oa.$$p=null);a&&(Oa.$$p=null);if(b===w)return y(this,
"enum_for",["reject"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=[];for(var e=0,f=this.length,d;e<f;e++)d=b(this[e]),!1!==d&&d!==w||a.push(this[e]);return a},Oa.$$arity=0);b.def(x,"$reject!",Ga=function(){var a=Ga.$$p,b=a||w,c,e=w;a&&(Ga.$$p=null);a&&(Ga.$$p=null);if(b===w)return y(this,"enum_for",["reject!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));e=this.$length();y(this,"delete_if",[],b.$to_proc());return this.$length()["$=="](e)?w:this},
Ga.$$arity=0);b.def(x,"$replace",Qa=function(a){a=l(h(I,"Array")["$==="](a))?a.$to_a():h(I,"Opal").$coerce_to(a,h(I,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},Qa.$$arity=1);b.def(x,"$reverse",Wa=function(){return this.slice(0).reverse()},Wa.$$arity=0);b.def(x,"$reverse!",Ua=function(){return this.reverse()},Ua.$$arity=0);b.def(x,"$reverse_each",Sa=function(){var a=Sa.$$p,b=a||w,c;a&&(Sa.$$p=null);a&&(Sa.$$p=null);if(b===w)return y(this,"enum_for",["reverse_each"],
(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));y(this.$reverse(),"each",[],b.$to_proc());return this},Sa.$$arity=0);b.def(x,"$rindex",A=function(a){var b=A.$$p,c=b||w;b&&(A.$$p=null);b&&(A.$$p=null);null!=a&&c!==w&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==w)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==w)return b}else if(null==a)return this.$enum_for("rindex");
return w},A.$$arity=-1);b.def(x,"$rotate",K=function(a){null==a&&(a=1);a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var b=this.slice();var c=a%b.length;a=b.slice(c);b=b.slice(0,c);return a.concat(b)},K.$$arity=-1);b.def(x,"$rotate!",ia=function(a){null==a&&(a=1);if(0===this.length||1===this.length)return this;a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");a=this.$rotate(a);return this.$replace(a)},ia.$$arity=-1);(function(a,
$super,c){a=v(a,$super,"SampleRandom");var e=[a].concat(c),f,d;a.$$prototype.rng=w;b.def(a,"$initialize",f=function(a){return this.rng=a},f.$$arity=1);return(b.def(a,"$rand",d=function(a){var b=h(e,"Opal").$coerce_to(this.rng.$rand(a),h(e,"Integer"),"to_int");l(0>b)&&this.$raise(h(e,"RangeError"),"random value must be >= 0");l(b<a)||this.$raise(h(e,"RangeError"),"random value must be less than Array size");return b},d.$$arity=1),w)&&"rand"})(I[0],null,I);b.def(x,"$sample",M=function(a,b){var c,e=
w;if(l(void 0===a))return this.$at(h(I,"Kernel").$rand(this.length));l(void 0===b)?l(b=h(I,"Opal")["$coerce_to?"](a,h(I,"Hash"),"to_hash"))?a=w:(b=w,a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int")):(a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int"),b=h(I,"Opal").$coerce_to(b,h(I,"Hash"),"to_hash"));l(l(c=a)?0>a:c)&&this.$raise(h(I,"ArgumentError"),"count must be greater than 0");l(b)&&(e=b["$[]"]("random"));e=l(l(c=e)?e["$respond_to?"]("rand"):c)?h(I,"SampleRandom").$new(e):h(I,"Kernel");if(!l(a))return this[e.$rand(this.length)];
a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[e.$rand(this.length)]];case 2:var f=e.$rand(this.length);var d=e.$rand(this.length);f===d&&(d=0===f?f+1:f-1);return[this[f],this[d]];default:if(3<this.length/a){b=!1;var g=0;c=h(I,"Array").$new(a);f=1;for(c[0]=e.$rand(this.length);f<a;){var n=e.$rand(this.length);for(d=0;d<f;){for(;n===c[d];){g++;if(100<g){b=!0;break}n=e.$rand(this.length)}if(b)break;d++}if(b)break;c[f]=n;f++}if(!b){for(f=0;f<a;)c[f]=this[c[f]],f++;return c}}c=
this.slice();for(f=0;f<a;f++)b=e.$rand(this.length),g=c[f],c[f]=c[b],c[b]=g;return a===this.length?c:c["$[]"](0,a)}},M.$$arity=-1);b.def(x,"$select",R=function(){var a=R.$$p,c=a||w,e;a&&(R.$$p=null);a&&(R.$$p=null);if(c===w)return y(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=[];for(var f=0,d=this.length,g,n;f<d;f++)g=this[f],n=b.yield1(c,g),b.truthy(n)&&a.push(g);return a},R.$$arity=0);b.def(x,"$select!",pa=function(){var a=pa.$$p,b=a||w,c;a&&
(pa.$$p=null);a&&(pa.$$p=null);if(b===w)return y(this,"enum_for",["select!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=this.length;y(this,"keep_if",[],b.$to_proc());return this.length===a?w:this},pa.$$arity=0);b.def(x,"$shift",sa=function(a){if(l(void 0===a))return l(0===this.length)?w:this.shift();a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");l(0>a)&&this.$raise(h(I,"ArgumentError"),"negative array size");return l(0===this.length)?[]:this.splice(0,a)},sa.$$arity=
-1);b.alias(x,"size","length");b.def(x,"$shuffle",cb=function(a){return this.$dup().$to_a()["$shuffle!"](a)},cb.$$arity=-1);b.def(x,"$shuffle!",Xa=function(a){var b,c=this.length;void 0!==a&&(a=h(I,"Opal")["$coerce_to?"](a,h(I,"Hash"),"to_hash"),a!==w&&(a=a["$[]"]("random"),a!==w&&a["$respond_to?"]("rand")&&(b=a)));for(;c;){b?(a=b.$rand(c).$to_int(),0>a&&this.$raise(h(I,"RangeError"),"random number too small "+a),a>=c&&this.$raise(h(I,"RangeError"),"random number too big "+a)):a=this.$rand(c);var e=
this[--c];this[c]=this[a];this[a]=e}return this},Xa.$$arity=-1);b.alias(x,"slice","[]");b.def(x,"$slice!",Ha=function(a,b){if(l(void 0===b))if(l(h(I,"Range")["$==="](a))){var c=this["$[]"](a);b=h(I,"Opal").$coerce_to(a.$begin(),h(I,"Integer"),"to_int");var e=h(I,"Opal").$coerce_to(a.$end(),h(I,"Integer"),"to_int");0>b&&(b+=this.length);0>e?e+=this.length:e>=this.length&&(e=this.length-1,a.excl&&(e+=1));var f=e-b;a.excl?--e:f+=1;b<this.length&&0<=b&&e<this.length&&0<=e&&0<f&&this.splice(b,f)}else{a=
h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return w;c=this[a];0===a?this.shift():this.splice(a,1)}else{a=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");b=h(I,"Opal").$coerce_to(b,h(I,"Integer"),"to_int");if(0>b)return w;c=this["$[]"](a,b);0>a&&(a+=this.length);a+b>this.length&&(b=this.length-a);a<this.length&&0<=a&&this.splice(a,b)}return c},Ha.$$arity=-2);b.def(x,"$sort",eb=function(){var a=eb.$$p,b=a||w,c=this;a&&(eb.$$p=null);a&&(eb.$$p=null);
if(!l(1<c.length))return c;b===w&&(b=function(a,b){return a["$<=>"](b)});return c.slice().sort(function(a,e){var f=b(a,e);f===w&&c.$raise(h(I,"ArgumentError"),"comparison of "+a.$inspect()+" with "+e.$inspect()+" failed");return p(f,0)?1:("number"===typeof f?0>f:f["$<"](0))?-1:0})},eb.$$arity=0);b.def(x,"$sort!",fb=function(){var a=fb.$$p,b=a||w;a&&(fb.$$p=null);a&&(fb.$$p=null);a=b!==w?y(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort();b=this.length=0;for(var c=a.length;b<c;b++)this.push(a[b]);
return this},fb.$$arity=0);b.def(x,"$sort_by!",gb=function(){var a=gb.$$p,b=a||w,c;a&&(gb.$$p=null);a&&(gb.$$p=null);return b===w?y(this,"enum_for",["sort_by!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c)):this.$replace(y(this,"sort_by",[],b.$to_proc()))},gb.$$arity=0);b.def(x,"$take",Za=function(a){0>a&&this.$raise(h(I,"ArgumentError"));return this.slice(0,a)},Za.$$arity=1);b.def(x,"$take_while",Ya=function(){var a=Ya.$$p,b=a||w;a&&(Ya.$$p=null);a&&(Ya.$$p=null);a=[];for(var c=
0,e=this.length,f,d;c<e;c++){f=this[c];d=b(f);if(!1===d||d===w)break;a.push(f)}return a},Ya.$$arity=0);b.def(x,"$to_a",lb=function(){return this},lb.$$arity=0);b.alias(x,"to_ary","to_a");b.def(x,"$to_h",$a=function(){var a,c=this.length,e=F([],{});for(a=0;a<c;a++){var f=h(I,"Opal")["$coerce_to?"](this[a],h(I,"Array"),"to_ary");f.$$is_array||this.$raise(h(I,"TypeError"),"wrong element type "+f.$class()+" at "+a+" (expected array)");2!==f.length&&this.$raise(h(I,"ArgumentError"),"wrong array length at "+
a+" (expected 2, was "+f.$length()+")");var d=f[0];f=f[1];b.hash_put(e,d,f)}return e},$a.$$arity=0);b.alias(x,"to_s","inspect");b.def(x,"$transpose",mb=function(){var a,c=w,e=w;if(l(this["$empty?"]()))return[];c=[];e=w;y(this,"each",[],(a=function(f){var d=a.$$s||this,g,n;null==f&&(f=w);f=l(h(I,"Array")["$==="](f))?f.$to_a():h(I,"Opal").$coerce_to(f,h(I,"Array"),"to_ary").$to_a();e=l(g=e)?g:f.length;l(f.length["$!="](e))&&d.$raise(h(I,"IndexError"),"element size differs ("+f.length+" should be "+
e+")");return y(f.length,"times",[],(n=function(a){var e;null==a&&(a=w);if(!l(e=c["$[]"](a))){e=[a,[]];y(c,"[]=",b.to_a(e));var d=e.length;d="number"===typeof d?d-1:d["$-"](1);e=e[d]}return e["$<<"](f.$at(a))},n.$$s=d,n.$$arity=1,n))},a.$$s=this,a.$$arity=1,a));return c},mb.$$arity=0);b.def(x,"$uniq",ab=function(){var a=ab.$$p,c=a||w;a&&(ab.$$p=null);a&&(ab.$$p=null);a=F([],{});var e;if(c===w){var f=0;for(e=this.length;f<e;f++){var d=this[f];void 0===b.hash_get(a,d)&&b.hash_put(a,d,d)}}else for(f=
0,e=this.length;f<e;f++){d=this[f];var g=b.yield1(c,d);void 0===b.hash_get(a,g)&&b.hash_put(a,g,d)}return G(a.$values(),this.$class())},ab.$$arity=0);b.def(x,"$uniq!",bb=function(){var a=bb.$$p,c=a||w;a&&(bb.$$p=null);a&&(bb.$$p=null);a=this.length;var e=F([],{}),f;var d=0;for(f=a;d<f;d++){var g=this[d];var n=c===w?g:b.yield1(c,g);void 0===b.hash_get(e,n)?b.hash_put(e,n,g):(this.splice(d,1),f--,d--)}return this.length===a?w:this},bb.$$arity=0);b.def(x,"$unshift",db=function(a){var c=b.slice.call(arguments,
0,arguments.length);for(var e=c.length-1;0<=e;e--)this.unshift(c[e]);return this},db.$$arity=-1);b.alias(x,"prepend","unshift");b.def(x,"$values_at",ob=function(a){var c,e=w;var f=b.slice.call(arguments,0,arguments.length);e=[];y(f,"each",[],(c=function(a){var b=c.$$s||this,f,d=w,g=w;d=w;null==a&&(a=w);if(l(a["$is_a?"](h(I,"Range")))){d=h(I,"Opal").$coerce_to(a.$last(),h(I,"Integer"),"to_int");g=h(I,"Opal").$coerce_to(a.$first(),h(I,"Integer"),"to_int");if(0>g)return g+=b.length,w;0>d&&(d+=b.length);
a["$exclude_end?"]()&&d--;return d<g?w:y(g,"upto",[d],(f=function(a){var b=f.$$s||this;null==a&&(a=w);return e["$<<"](b.$at(a))},f.$$s=b,f.$$arity=1,f))}d=h(I,"Opal").$coerce_to(a,h(I,"Integer"),"to_int");return e["$<<"](b.$at(d))},c.$$s=this,c.$$arity=1,c));return e},ob.$$arity=-1);b.def(x,"$zip",hb=function(a){var c=hb.$$p,e=c||w,f;c&&(hb.$$p=null);c&&(hb.$$p=null);c=b.slice.call(arguments,0,arguments.length);var d=[],g=this.length,n,q;var u=0;for(q=c.length;u<q;u++){var Ha=c[u];Ha.$$is_array||
(Ha.$$is_enumerator?Infinity===Ha.$size()?c[u]=Ha.$take(g):c[u]=Ha.$to_a():c[u]=(l(f=h(I,"Opal")["$coerce_to?"](Ha,h(I,"Array"),"to_ary"))?f:h(I,"Opal")["$coerce_to!"](Ha,h(I,"Enumerator"),"each")).$to_a())}for(n=0;n<g;n++){f=[this[n]];u=0;for(q=c.length;u<q;u++)Ha=c[u][n],null==Ha&&(Ha=w),f[u+1]=Ha;d[n]=f}if(e!==w){for(n=0;n<g;n++)e(d[n]);return w}return d},hb.$$arity=-1);b.defs(x,"$inherited",pb=function(a){a.$$prototype.$to_a=function(){return this.slice(0,this.length)}},pb.$$arity=1);b.def(x,
"$instance_variables",ib=function(){var a,c=ib.$$p,e=w,f=w,d=w;c&&(ib.$$p=null);f=0;d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return y(y(this,b.find_super_dispatcher(this,"instance_variables",ib,!1),e,c),"reject",[],(a=function(a){var b;null==a&&(a=w);return l(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},ib.$$arity=0);h(I,"Opal").$pristine(x.$singleton_class(),"allocate");h(I,"Opal").$pristine(x,"copy_instance_variables","initialize_dup");return(b.def(x,
"$pack",qb=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},qb.$$arity=-1),w)&&"pack"}(C[0],Array,C)};
Opal.modules["corelib/hash"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b>=h:b["$>="](h)}var B=b.top,C=[],w=b.nil,t=b.const_get_relative,h=b.klass,v=b.send,l=b.hash2,F=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));B.$require("corelib/enumerable");
return function(y,$super,C){y=h(y,$super,"Hash");var B=[y].concat(C),J,G,k,O,T,x,I,a,d,H,r,Q,S,g,c,z,q,V,D,n,f,e,X,E,ba,L,N,na,u,W,fa,ma,ja,U,ya,Ca,za,Ia,aa,xa,ca,ta,Aa,da,Z,Ea,ua,Va,Ta,oa,Y,wa,qa,Ra,Ja,Fa,Ka,ea,ra,ha,va,Ba;y.$include(t(B,"Enumerable"));y.$$prototype.$$is_hash=!0;b.defs(y,"$[]",J=function(a){var c=b.slice.call(arguments,0,arguments.length);var e=c.length,f;if(1===e){var d=t(B,"Opal")["$coerce_to?"](c["$[]"](0),t(B,"Hash"),"to_hash");if(d!==w)return this.$allocate()["$merge!"](d);
c=t(B,"Opal")["$coerce_to?"](c["$[]"](0),t(B,"Array"),"to_ary");c===w&&this.$raise(t(B,"ArgumentError"),"odd number of arguments for Hash");e=c.length;d=this.$allocate();for(f=0;f<e;f++)if(c[f].$$is_array)switch(c[f].length){case 1:d.$store(c[f][0],w);break;case 2:d.$store(c[f][0],c[f][1]);break;default:this.$raise(t(B,"ArgumentError"),"invalid number of elements ("+c[f].length+" for 1..2)")}return d}0!==e%2&&this.$raise(t(B,"ArgumentError"),"odd number of arguments for Hash");d=this.$allocate();
for(f=0;f<e;f+=2)d.$store(c[f],c[f+1]);return d},J.$$arity=-1);b.defs(y,"$allocate",G=function(){var a=new this.$$constructor;b.hash_init(a);a.$$none=w;a.$$proc=w;return a},G.$$arity=0);b.defs(y,"$try_convert",k=function(a){return t(B,"Opal")["$coerce_to?"](a,t(B,"Hash"),"to_hash")},k.$$arity=1);b.def(y,"$initialize",O=function(a){var b=O.$$p,c=b||w;b&&(O.$$p=null);b&&(O.$$p=null);void 0!==a&&c!==w&&this.$raise(t(B,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?w:a;
this.$$proc=c;return this},O.$$arity=-1);b.def(y,"$==",T=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var c=0,e=this.$$keys,f=e.length,d,g;c<f;c++)if(d=e[c],d.$$is_string?(g=this.$$smap[d],d=a.$$smap[d]):(g=d.value,d=b.hash_get(a,d.key)),void 0===d||!g["$eql?"](d))return!1;return!0},T.$$arity=1);b.def(y,"$>=",x=function(a){var b,c=w;a=t(B,"Opal")["$coerce_to!"](a,t(B,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;c=!0;v(a,"each",
[],(b=function(a,e){var f=b.$$s||this;null==a&&(a=w);null==e&&(e=w);a=f.$fetch(a,null);if(null==a||a!==e)c=!1},b.$$s=this,b.$$arity=2,b));return c},x.$$arity=1);b.def(y,"$>",I=function(a){a=t(B,"Opal")["$coerce_to!"](a,t(B,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:p(this,a)},I.$$arity=1);b.def(y,"$<",a=function(a){a=t(B,"Opal")["$coerce_to!"](a,t(B,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},a.$$arity=1);b.def(y,"$<=",d=function(a){a=
t(B,"Opal")["$coerce_to!"](a,t(B,"Hash"),"to_hash");return p(a,this)},d.$$arity=1);b.def(y,"$[]",H=function(a){var c=b.hash_get(this,a);return void 0!==c?c:this.$default(a)},H.$$arity=1);b.def(y,"$[]=",r=function(a,c){b.hash_put(this,a,c);return c},r.$$arity=2);b.def(y,"$assoc",Q=function(a){for(var b=0,c=this.$$keys,e=c.length,f;b<e;b++)if(f=c[b],f.$$is_string){if(f["$=="](a))return[f,this.$$smap[f]]}else if(f.key["$=="](a))return[f.key,f.value];return w},Q.$$arity=1);b.def(y,"$clear",S=function(){b.hash_init(this);
return this},S.$$arity=0);b.def(y,"$clone",g=function(){var a=new this.$$class;b.hash_init(a);b.hash_clone(this,a);return a},g.$$arity=0);b.def(y,"$compact",c=function(){for(var a=b.hash(),c=0,e=this.$$keys,f=e.length,d,g;c<f;c++)d=e[c],d.$$is_string?g=this.$$smap[d]:(g=d.value,d=d.key),g!==w&&b.hash_put(a,d,g);return a},c.$$arity=0);b.def(y,"$compact!",z=function(){for(var a=!1,c=0,e=this.$$keys,f=e.length,d,g;c<f;c++)d=e[c],d.$$is_string?g=this.$$smap[d]:(g=d.value,d=d.key),g===w&&void 0!==b.hash_delete(this,
d)&&(a=!0,f--,c--);return a?this:w},z.$$arity=0);b.def(y,"$compare_by_identity",q=function(){var a,c=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var e=l([],{}).$compare_by_identity();var f=0;for(a=c.length;f<a;f++){var d=c[f];d.$$is_string||(d=d.key);b.hash_put(e,d,b.hash_get(this,d))}this.$$by_identity=!0;this.$$map=e.$$map;this.$$smap=e.$$smap;return this},q.$$arity=0);b.def(y,"$compare_by_identity?",V=function(){return!0===this.$$by_identity},
V.$$arity=0);b.def(y,"$default",D=function(a){return void 0!==a&&this.$$proc!==w&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?w:this.$$none},D.$$arity=-1);b.def(y,"$default=",n=function(a){this.$$proc=w;return this.$$none=a},n.$$arity=1);b.def(y,"$default_proc",f=function(){return void 0!==this.$$proc?this.$$proc:w},f.$$arity=0);b.def(y,"$default_proc=",e=function(a){var b=a;b!==w&&(b=t(B,"Opal")["$coerce_to!"](b,t(B,"Proc"),"to_proc"),b["$lambda?"]()&&2!==b.$arity().$abs()&&
this.$raise(t(B,"TypeError"),"default_proc takes two arguments"));this.$$none=w;this.$$proc=b;return a},e.$$arity=1);b.def(y,"$delete",X=function(a){var c=X.$$p,e=c||w;c&&(X.$$p=null);c&&(X.$$p=null);c=b.hash_delete(this,a);return void 0!==c?c:e!==w?b.yield1(e,a):w},X.$$arity=1);b.def(y,"$delete_if",E=function(){var a=E.$$p,c=a||w,e;a&&(E.$$p=null);a&&(E.$$p=null);if(!F(c))return v(this,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,
d=f.length,g,n;a<d;a++)g=f[a],g.$$is_string?n=this.$$smap[g]:(n=g.value,g=g.key),n=c(g,n),!1!==n&&n!==w&&void 0!==b.hash_delete(this,g)&&(d--,a--);return this},E.$$arity=0);b.alias(y,"dup","clone");b.def(y,"$dig",ba=function(a,c){var e=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===w||0===e.length)return f;F(f["$respond_to?"]("dig"))||this.$raise(t(B,"TypeError"),""+f.$class()+" does not have #dig method");return v(f,"dig",b.to_a(e))},ba.$$arity=-2);b.def(y,"$each",L=function(){var a=
L.$$p,c=a||w,e;a&&(L.$$p=null);a&&(L.$$p=null);if(!F(c))return v(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,d=f.length,g,n;a<d;a++)g=f[a],g.$$is_string?n=this.$$smap[g]:(n=g.value,g=g.key),b.yield1(c,[g,n]);return this},L.$$arity=0);b.def(y,"$each_key",N=function(){var a=N.$$p,b=a||w,c;a&&(N.$$p=null);a&&(N.$$p=null);if(!F(b))return v(this,"enum_for",["each_key"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=
0,c));a=0;for(var e=this.$$keys,f=e.length,d;a<f;a++)d=e[a],b(d.$$is_string?d:d.key);return this},N.$$arity=0);b.alias(y,"each_pair","each");b.def(y,"$each_value",na=function(){var a=na.$$p,b=a||w,c;a&&(na.$$p=null);a&&(na.$$p=null);if(!F(b))return v(this,"enum_for",["each_value"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var e=this.$$keys,f=e.length,d;a<f;a++)d=e[a],b(d.$$is_string?this.$$smap[d]:d.value);return this},na.$$arity=0);b.def(y,"$empty?",u=function(){return 0===
this.$$keys.length},u.$$arity=0);b.alias(y,"eql?","==");b.def(y,"$fetch",W=function(a,c){var e=W.$$p,f=e||w;e&&(W.$$p=null);e&&(W.$$p=null);e=b.hash_get(this,a);return void 0!==e?e:f!==w?f(a):void 0!==c?c:this.$raise(t(B,"KeyError").$new("key not found: "+a.$inspect(),l(["key","receiver"],{key:a,receiver:this})))},W.$$arity=-2);b.def(y,"$fetch_values",fa=function(a){var c=fa.$$p,e=c||w,f;c&&(fa.$$p=null);c&&(fa.$$p=null);c=b.slice.call(arguments,0,arguments.length);return v(c,"map",[],(f=function(a){var b=
f.$$s||this;null==a&&(a=w);return v(b,"fetch",[a],e.$to_proc())},f.$$s=this,f.$$arity=1,f))},fa.$$arity=-1);b.def(y,"$flatten",ma=function(a){null==a&&(a=1);a=t(B,"Opal")["$coerce_to!"](a,t(B,"Integer"),"to_int");for(var b=[],c=0,e=this.$$keys,f=e.length,d,g;c<f;c++)d=e[c],d.$$is_string?g=this.$$smap[d]:(g=d.value,d=d.key),b.push(d),g.$$is_array?1===a?b.push(g):b=b.concat(g.$flatten(a-2)):b.push(g);return b},ma.$$arity=-1);b.def(y,"$has_key?",ja=function(a){return void 0!==b.hash_get(this,a)},ja.$$arity=
1);b.def(y,"$has_value?",U=function(a){for(var b=0,c=this.$$keys,e=c.length,f;b<e;b++)if(f=c[b],(f.$$is_string?this.$$smap[f]:f.value)["$=="](a))return!0;return!1},U.$$arity=1);b.def(y,"$hash",ya=function(){var a=void 0===b.hash_ids,c=this.$object_id(),e=["Hash"];try{a&&(b.hash_ids=Object.create(null));if(b[c])return"self";for(n in b.hash_ids){var f=b.hash_ids[n];if(this["$eql?"](f))return"self"}b.hash_ids[c]=this;c=0;for(var d=this.$$keys,g=d.length;c<g;c++){var n=d[c];n.$$is_string?e.push([n,this.$$smap[n].$hash()]):
e.push([n.key_hash,n.value.$hash()])}return e.sort().join()}finally{a&&(b.hash_ids=void 0)}},ya.$$arity=0);b.alias(y,"include?","has_key?");b.def(y,"$index",Ca=function(a){for(var b=0,c=this.$$keys,e=c.length,f,d;b<e;b++)if(f=c[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),d["$=="](a))return f;return w},Ca.$$arity=1);b.def(y,"$indexes",za=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=[],f=0,d=c.length,g;f<d;f++)g=c[f],g=b.hash_get(this,g),void 0===g?e.push(this.$default()):
e.push(g);return e},za.$$arity=-1);b.alias(y,"indices","indexes");var la;b.def(y,"$inspect",Ia=function(){var a=void 0===la,b=this.$object_id(),c=[];try{a&&(la={});if(la.hasOwnProperty(b))return"{...}";la[b]=!0;b=0;for(var e=this.$$keys,f=e.length,d,g;b<f;b++)d=e[b],d.$$is_string?g=this.$$smap[d]:(g=d.value,d=d.key),c.push(d.$inspect()+"=>"+g.$inspect());return"{"+c.join(", ")+"}"}finally{a&&(la=void 0)}},Ia.$$arity=0);b.def(y,"$invert",aa=function(){for(var a=b.hash(),c=0,e=this.$$keys,f=e.length,
d,g;c<f;c++)d=e[c],d.$$is_string?g=this.$$smap[d]:(g=d.value,d=d.key),b.hash_put(a,g,d);return a},aa.$$arity=0);b.def(y,"$keep_if",xa=function(){var a=xa.$$p,c=a||w,e;a&&(xa.$$p=null);a&&(xa.$$p=null);if(!F(c))return v(this,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,d=f.length,g,n;a<d;a++)g=f[a],g.$$is_string?n=this.$$smap[g]:(n=g.value,g=g.key),n=c(g,n),!1!==n&&n!==w||void 0===b.hash_delete(this,g)||(d--,a--);return this},
xa.$$arity=0);b.alias(y,"key","index");b.alias(y,"key?","has_key?");b.def(y,"$keys",ca=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,f;b<e;b++)f=c[b],f.$$is_string?a.push(f):a.push(f.key);return a},ca.$$arity=0);b.def(y,"$length",ta=function(){return this.$$keys.length},ta.$$arity=0);b.alias(y,"member?","has_key?");b.def(y,"$merge",Aa=function(a){var b=Aa.$$p,c=b||w;b&&(Aa.$$p=null);b&&(Aa.$$p=null);return v(this.$dup(),"merge!",[a],c.$to_proc())},Aa.$$arity=1);b.def(y,"$merge!",da=function(a){var c=
da.$$p,e=c||w;c&&(da.$$p=null);c&&(da.$$p=null);a.$$is_hash||(a=t(B,"Opal")["$coerce_to!"](a,t(B,"Hash"),"to_hash"));var f=a.$$keys,d=f.length;if(e===w){for(c=0;c<d;c++){var g=f[c];if(g.$$is_string)var n=a.$$smap[g];else n=g.value,g=g.key;b.hash_put(this,g,n)}return this}for(c=0;c<d;c++){g=f[c];g.$$is_string?n=a.$$smap[g]:(n=g.value,g=g.key);var q=b.hash_get(this,g);void 0===q?b.hash_put(this,g,n):b.hash_put(this,g,e(g,q,n))}return this},da.$$arity=1);b.def(y,"$rassoc",Z=function(a){for(var b=0,c=
this.$$keys,e=c.length,f,d;b<e;b++)if(f=c[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),d["$=="](a))return[f,d];return w},Z.$$arity=1);b.def(y,"$rehash",Ea=function(){b.hash_rehash(this);return this},Ea.$$arity=0);b.def(y,"$reject",ua=function(){var a=ua.$$p,c=a||w,e;a&&(ua.$$p=null);a&&(ua.$$p=null);if(!F(c))return v(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,d=this.$$keys,g=d.length,n,q,h;f<g;f++)n=d[f],n.$$is_string?
q=this.$$smap[n]:(q=n.value,n=n.key),h=c(n,q),!1!==h&&h!==w||b.hash_put(a,n,q);return a},ua.$$arity=0);b.def(y,"$reject!",Va=function(){var a=Va.$$p,c=a||w,e;a&&(Va.$$p=null);a&&(Va.$$p=null);if(!F(c))return v(this,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=!1;for(var f=0,d=this.$$keys,g=d.length,n,q;f<g;f++)n=d[f],n.$$is_string?q=this.$$smap[n]:(q=n.value,n=n.key),q=c(n,q),!1!==q&&q!==w&&void 0!==b.hash_delete(this,n)&&(a=!0,g--,f--);return a?this:
w},Va.$$arity=0);b.def(y,"$replace",Ta=function(a){a=t(B,"Opal")["$coerce_to!"](a,t(B,"Hash"),"to_hash");b.hash_init(this);var c=0;for(var e=a.$$keys,f=e.length,d,g;c<f;c++)d=e[c],d.$$is_string?g=a.$$smap[d]:(g=d.value,d=d.key),b.hash_put(this,d,g);F(a.$default_proc())?(c=[a.$default_proc()],v(this,"default_proc=",b.to_a(c))):(c=[a.$default()],v(this,"default=",b.to_a(c)));a=c;c=c.length;c="number"===typeof c?c-1:c["$-"](1);a[c];return this},Ta.$$arity=1);b.def(y,"$select",oa=function(){var a=oa.$$p,
c=a||w,e;a&&(oa.$$p=null);a&&(oa.$$p=null);if(!F(c))return v(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,d=this.$$keys,g=d.length,n,q,h;f<g;f++)n=d[f],n.$$is_string?q=this.$$smap[n]:(q=n.value,n=n.key),h=c(n,q),!1!==h&&h!==w&&b.hash_put(a,n,q);return a},oa.$$arity=0);b.def(y,"$select!",Y=function(){var a=Y.$$p,c=a||w,e;a&&(Y.$$p=null);a&&(Y.$$p=null);if(!F(c))return v(this,"enum_for",["select!"],(e=function(){return(e.$$s||
this).$size()},e.$$s=this,e.$$arity=0,e));a=w;for(var f=0,d=this.$$keys,g=d.length,n,q;f<g;f++)if(n=d[f],n.$$is_string?q=this.$$smap[n]:(q=n.value,n=n.key),q=c(n,q),!1===q||q===w)void 0!==b.hash_delete(this,n)&&(g--,f--),a=this;return a},Y.$$arity=0);b.def(y,"$shift",wa=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,b.hash_delete(this,a)]):this.$default(w)},wa.$$arity=0);b.alias(y,"size","length");b.def(y,"$slice",qa=function(a){var c=b.slice.call(arguments,0,arguments.length);
for(var e=b.hash(),f=0,d=c.length;f<d;f++){var g=c[f],n=b.hash_get(this,g);void 0!==n&&b.hash_put(e,g,n)}return e},qa.$$arity=-1);b.alias(y,"store","[]=");b.def(y,"$to_a",Ra=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,f,d;b<e;b++)f=c[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),a.push([f,d]);return a},Ra.$$arity=0);b.def(y,"$to_h",Ja=function(){if(this.$$class===b.Hash)return this;var a=new b.Hash;b.hash_init(a);b.hash_clone(this,a);return a},Ja.$$arity=0);b.def(y,"$to_hash",Fa=
function(){return this},Fa.$$arity=0);b.def(y,"$to_proc",Ka=function(){var a;return v(this,"proc",[],(a=function(b){var c=a.$$s||this;null==b&&c.$raise(t(B,"ArgumentError"),"no key given");return c["$[]"](b)},a.$$s=this,a.$$arity=-1,a))},Ka.$$arity=0);b.alias(y,"to_s","inspect");b.def(y,"$transform_keys",ea=function(){var a=ea.$$p,c=a||w,e;a&&(ea.$$p=null);a&&(ea.$$p=null);if(!F(c))return v(this,"enum_for",["transform_keys"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=
b.hash();for(var f=0,d=this.$$keys,g=d.length,n,q;f<g;f++)n=d[f],n.$$is_string?q=this.$$smap[n]:(q=n.value,n=n.key),n=b.yield1(c,n),b.hash_put(a,n,q);return a},ea.$$arity=0);b.def(y,"$transform_keys!",ra=function(){var a=ra.$$p,c=a||w,e;a&&(ra.$$p=null);a&&(ra.$$p=null);if(!F(c))return v(this,"enum_for",["transform_keys!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.slice.call(this.$$keys);var f,d=a.length;for(f=0;f<d;f++){var g=a[f];if(g.$$is_string)var n=this.$$smap[g];
else n=g.value,g=g.key;var q=b.yield1(c,g);b.hash_delete(this,g);b.hash_put(this,q,n)}return this},ra.$$arity=0);b.def(y,"$transform_values",ha=function(){var a=ha.$$p,c=a||w,e;a&&(ha.$$p=null);a&&(ha.$$p=null);if(!F(c))return v(this,"enum_for",["transform_values"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,d=this.$$keys,g=d.length,n,q;f<g;f++)n=d[f],n.$$is_string?q=this.$$smap[n]:(q=n.value,n=n.key),q=b.yield1(c,q),b.hash_put(a,n,q);return a},ha.$$arity=
0);b.def(y,"$transform_values!",va=function(){var a=va.$$p,c=a||w,e;a&&(va.$$p=null);a&&(va.$$p=null);if(!F(c))return v(this,"enum_for",["transform_values!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,d=f.length,g,n;a<d;a++)g=f[a],g.$$is_string?n=this.$$smap[g]:(n=g.value,g=g.key),n=b.yield1(c,n),b.hash_put(this,g,n);return this},va.$$arity=0);b.alias(y,"update","merge!");b.alias(y,"value?","has_value?");b.alias(y,"values_at","indexes");return(b.def(y,
"$values",Ba=function(){for(var a=[],c=0,b=this.$$keys,e=b.length,f;c<e;c++)f=b[c],f.$$is_string?a.push(this.$$smap[f]):a.push(f.value);return a},Ba.$$arity=0),w)&&"values"}(C[0],null,C)};
Opal.modules["corelib/number"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b>h:b["$>"](h)}function B(b,h){return"number"===typeof b&&"number"===typeof h?b<h:b["$<"](h)}function C(b,h){return"number"===typeof b&&"number"===typeof h?b+h:b["$+"](h)}function w(b,h){return"number"===typeof b&&"number"===typeof h?b-h:b["$-"](h)}function t(b,h){return"number"===typeof b&&"number"===typeof h?b/h:b["$/"](h)}function h(b,h){return"number"===typeof b&&"number"===typeof h?b*h:b["$*"](h)}
var v=b.top,l=[],F=b.nil,y=b.const_get_qualified,m=b.const_get_relative,O=b.klass,P=b.truthy,J=b.send,G=b.hash2;b.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));v.$require("corelib/numeric");(function(k,$super,l){k=O(k,$super,"Number");var x=[k].concat(l),I,a,d,H,r,
Q,S,g,c,z,q,V,D,n,f,e,X,E,ba,L,N,na,u,W,fa,ma,ja,U,ya,Ca,za,Ia,aa,xa,ca,ta,Aa,da,Z,v,ua,T,Ta,oa,Y,wa,qa,Ra,Ja,Fa,Ka,ea,ra,ha,va,Ba,la,Ma,Da,Na,La,Pa,Oa,Ga,Qa,Wa,Ua,Sa,A,K,ia,M;m(x,"Opal").$bridge(Number,k);b.defineProperty(k.$$prototype,"$$is_number",!0);k.$$is_number_class=!0;(function(a,c){var e=[a].concat(c),f;b.def(a,"$allocate",f=function(){return this.$raise(m(e,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);b.udef(a,"$new");return F})(b.get_singleton_class(k),x);b.def(k,
"$coerce",I=function(a){if(a!==F){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[m(x,"Opal")["$coerce_to!"](a,m(x,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(m(x,"TypeError"),"can't convert "+a.$class()+" into Float")},I.$$arity=1);b.def(k,"$__id__",a=function(){return 2*this+1},a.$$arity=0);b.alias(k,"object_id","__id__");b.def(k,"$+",d=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},d.$$arity=1);b.def(k,"$-",H=function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)},H.$$arity=1);b.def(k,"$*",r=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},r.$$arity=1);b.def(k,"$/",Q=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},Q.$$arity=1);b.alias(k,"fdiv","/");b.def(k,"$%",S=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(m(x,"ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},S.$$arity=1);b.def(k,"$&",g=function(a){return a.$$is_number?
this&a:this.$__coerced__("&",a)},g.$$arity=1);b.def(k,"$|",c=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},c.$$arity=1);b.def(k,"$^",z=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},z.$$arity=1);b.def(k,"$<",q=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},q.$$arity=1);b.def(k,"$<=",V=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},V.$$arity=1);b.def(k,"$>",D=function(a){return a.$$is_number?this>a:this.$__coerced__(">",
a)},D.$$arity=1);b.def(k,"$>=",n=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},n.$$arity=1);b.def(k,"$<=>",f=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?F:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(pa){if(b.rescue(pa,[m(x,"ArgumentError")]))try{return F}finally{b.pop_exception()}else throw pa;}},f.$$arity=1);b.def(k,"$<<",e=function(a){a=m(x,"Opal")["$coerce_to!"](a,m(x,"Integer"),"to_int");return 0<a?this<<a:this>>-a},e.$$arity=1);b.def(k,"$>>",X=function(a){a=
m(x,"Opal")["$coerce_to!"](a,m(x,"Integer"),"to_int");return 0<a?this>>a:this<<-a},X.$$arity=1);b.def(k,"$[]",E=function(a){a=m(x,"Opal")["$coerce_to!"](a,m(x,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},E.$$arity=1);b.def(k,"$+@",ba=function(){return+this},ba.$$arity=0);b.def(k,"$-@",L=function(){return-this},L.$$arity=0);b.def(k,"$~",N=function(){return~this},N.$$arity=0);b.def(k,"$**",na=function(a){var b,c;return P(m(x,"Integer")["$==="](a))?P(P(b=m(x,"Integer")["$==="](this)["$!"]())?
b:p(a,0))?Math.pow(this,a):m(x,"Rational").$new(this,1)["$**"](a):P(B(this,0)?P(c=m(x,"Float")["$==="](a))?c:m(x,"Rational")["$==="](a):B(this,0))?m(x,"Complex").$new(this,0)["$**"](a.$to_f()):P(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},na.$$arity=1);b.def(k,"$===",u=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},u.$$arity=1);b.def(k,"$==",W=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?
a["$=="](this):!1},W.$$arity=1);b.def(k,"$abs",fa=function(){return Math.abs(this)},fa.$$arity=0);b.def(k,"$abs2",ma=function(){return Math.abs(this*this)},ma.$$arity=0);b.def(k,"$allbits?",ja=function(a){a=m(x,"Opal")["$coerce_to!"](a,m(x,"Integer"),"to_int");return(this&a)==a},ja.$$arity=1);b.def(k,"$anybits?",U=function(a){a=m(x,"Opal")["$coerce_to!"](a,m(x,"Integer"),"to_int");return 0!==(this&a)},U.$$arity=1);b.def(k,"$angle",ya=function(){return P(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:
0>this?Math.PI:0},ya.$$arity=0);b.alias(k,"arg","angle");b.alias(k,"phase","angle");b.def(k,"$bit_length",Ca=function(){P(m(x,"Integer")["$==="](this))||this.$raise(m(x,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,b=0>this?~this:this;0!=b;)a+=1,b>>>=1;return a},Ca.$$arity=0);b.def(k,"$ceil",za=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=
Math.round(a));return a},za.$$arity=-1);b.def(k,"$chr",Ia=function(a){return String.fromCharCode(this)},Ia.$$arity=-1);b.def(k,"$denominator",aa=function(){var a,c=aa.$$p,e;c&&(aa.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return P(P(a=this["$nan?"]())?a:this["$infinite?"]())?1:J(this,b.find_super_dispatcher(this,"denominator",aa,!1),e,c)},aa.$$arity=0);b.def(k,"$downto",xa=function(a){var b=xa.$$p,c=b||F,e;b&&(xa.$$p=null);b&&(xa.$$p=null);if(c===F)return J(this,
"enum_for",["downto",a],(e=function(){var b=e.$$s||this;P(m(x,"Numeric")["$==="](a))||b.$raise(m(x,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return P(p(a,b))?0:C(w(b,a),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(m(x,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b>=a;b--)c(b);return this},xa.$$arity=1);b.alias(k,"eql?","==");b.def(k,"$equal?",ca=function(a){var b;return P(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},
ca.$$arity=1);b.def(k,"$even?",ta=function(){return 0===this%2},ta.$$arity=0);b.def(k,"$floor",Aa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},Aa.$$arity=-1);b.def(k,"$gcd",da=function(a){P(m(x,"Integer")["$==="](a))||this.$raise(m(x,"TypeError"),"not an integer");var b=Math.abs(this);for(a=Math.abs(a);0<b;){var c=b;b=a%b;a=c}return a},da.$$arity=1);b.def(k,"$gcdlcm",Z=function(a){return[this.$gcd(),
this.$lcm()]},Z.$$arity=1);b.def(k,"$integer?",v=function(){return 0===this%1},v.$$arity=0);b.def(k,"$is_a?",ua=function(a){var c=ua.$$p,e;c&&(ua.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return P(a["$=="](m(x,"Integer"))?m(x,"Integer")["$==="](this):a["$=="](m(x,"Integer")))||P(a["$=="](m(x,"Integer"))?m(x,"Integer")["$==="](this):a["$=="](m(x,"Integer")))||P(a["$=="](m(x,"Float"))?m(x,"Float")["$==="](this):a["$=="](m(x,"Float")))?!0:J(this,b.find_super_dispatcher(this,
"is_a?",ua,!1),e,c)},ua.$$arity=1);b.alias(k,"kind_of?","is_a?");b.def(k,"$instance_of?",T=function(a){var c=T.$$p,e;c&&(T.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return P(a["$=="](m(x,"Integer"))?m(x,"Integer")["$==="](this):a["$=="](m(x,"Integer")))||P(a["$=="](m(x,"Integer"))?m(x,"Integer")["$==="](this):a["$=="](m(x,"Integer")))||P(a["$=="](m(x,"Float"))?m(x,"Float")["$==="](this):a["$=="](m(x,"Float")))?!0:J(this,b.find_super_dispatcher(this,"instance_of?",
T,!1),e,c)},T.$$arity=1);b.def(k,"$lcm",Ta=function(a){P(m(x,"Integer")["$==="](a))||this.$raise(m(x,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},Ta.$$arity=1);b.alias(k,"magnitude","abs");b.alias(k,"modulo","%");b.def(k,"$next",oa=function(){return this+1},oa.$$arity=0);b.def(k,"$nobits?",Y=function(a){a=m(x,"Opal")["$coerce_to!"](a,m(x,"Integer"),"to_int");return 0==(this&a)},Y.$$arity=1);b.def(k,"$nonzero?",wa=function(){return 0==this?F:this},wa.$$arity=
0);b.def(k,"$numerator",qa=function(){var a,c=qa.$$p,e;c&&(qa.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return P(P(a=this["$nan?"]())?a:this["$infinite?"]())?this:J(this,b.find_super_dispatcher(this,"numerator",qa,!1),e,c)},qa.$$arity=0);b.def(k,"$odd?",Ra=function(){return 0!==this%2},Ra.$$arity=0);b.def(k,"$ord",Ja=function(){return this},Ja.$$arity=0);b.def(k,"$pow",Fa=function(a,b){0==this&&this.$raise(m(x,"ZeroDivisionError"),"divided by 0");if(void 0===
b)return this["$**"](a);m(x,"Integer")["$==="](a)||this.$raise(m(x,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(m(x,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");m(x,"Integer")["$==="](b)||this.$raise(m(x,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");0===b&&this.$raise(m(x,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](b)},Fa.$$arity=
-2);b.def(k,"$pred",Ka=function(){return this-1},Ka.$$arity=0);b.def(k,"$quo",ea=function(a){var c=ea.$$p,e;c&&(ea.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return P(m(x,"Integer")["$==="](this))?J(this,b.find_super_dispatcher(this,"quo",ea,!1),e,c):t(this,a)},ea.$$arity=1);b.def(k,"$rationalize",ra=function(a){1<arguments.length&&this.$raise(m(x,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(P(m(x,"Integer")["$==="](this)))return m(x,
"Rational").$new(this,1);if(P(this["$infinite?"]()))return this.$raise(m(x,"FloatDomainError"),"Infinity");if(P(this["$nan?"]()))return this.$raise(m(x,"FloatDomainError"),"NaN");if(P(null==a)){var c=m(x,"Math").$frexp(this);var e=b.to_ary(c);var f=null==e[0]?F:e[0];e=null==e[1]?F:e[1];c;f=m(x,"Math").$ldexp(f,y(m(x,"Float"),"MANT_DIG")).$to_i();e=w(e,y(m(x,"Float"),"MANT_DIG"));return m(x,"Rational").$new(h(2,f),1["$<<"](w(1,e))).$rationalize(m(x,"Rational").$new(1,1["$<<"](w(1,e))))}return this.$to_r().$rationalize(a)},
ra.$$arity=-1);b.def(k,"$remainder",ha=function(a){return w(this,h(a,t(this,a).$truncate()))},ha.$$arity=1);b.def(k,"$round",va=function(a){var c;if(P(m(x,"Integer")["$==="](this))){if(P(null==a))return this;P(P(c=m(x,"Float")["$==="](a))?a["$infinite?"]():c)&&this.$raise(m(x,"RangeError"),"Infinity");a=m(x,"Opal")["$coerce_to!"](a,m(x,"Integer"),"to_int");P(B(a,y(m(x,"Integer"),"MIN")))&&this.$raise(m(x,"RangeError"),"out of bounds");if(P(0<=a))return this;a=a["$-@"]();if(.415241*a-.125>this.$size())return 0;
a=Math.pow(10,a);var e=Math.floor((Math.abs(e)+a/2)/a)*a;return 0>this?-e:e}P(P(c=this["$nan?"]())?null==a:c)&&this.$raise(m(x,"FloatDomainError"),"NaN");a=m(x,"Opal")["$coerce_to!"](a||0,m(x,"Integer"),"to_int");if(P("number"===typeof a?0>=a:a["$<="](0)))P(this["$nan?"]())?this.$raise(m(x,"RangeError"),"NaN"):P(this["$infinite?"]())&&this.$raise(m(x,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(P(P(c=this["$nan?"]())?c:this["$infinite?"]()))return this}e=m(x,"Math").$frexp(this);
c=b.to_ary(e);c=null==c[1]?F:c[1];e;e=w(C(y(m(x,"Float"),"DIG"),2),P(p(c,0))?t(c,4):w(t(c,3),1));e="number"===typeof a&&"number"===typeof e?a>=e:a["$>="](e);return P(e)?this:P(B(a,(P(p(c,0))?C(t(c,3),1):t(c,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},va.$$arity=-1);b.def(k,"$step",Ba=function(a,c,e){function f(){void 0!==E&&(K=E);void 0===K&&(K=F);N===F&&A.$raise(m(x,"TypeError"),"step must be numeric");0===N&&A.$raise(m(x,"ArgumentError"),"step can't be 0");void 0!==z&&(N=z);
if(N===F||null==N)N=1;var a=N["$<=>"](0);a===F&&A.$raise(m(x,"ArgumentError"),"0 can't be coerced into "+N.$class());if(K===F||null==K)K=0<a?y(m(x,"Float"),"INFINITY"):y(m(x,"Float"),"INFINITY")["$-@"]();m(x,"Opal").$compare(A,K)}function d(){if(0<N&&A>K||0>N&&A<K)return 0;if(Infinity===N||-Infinity===N)return 1;var a=Math.abs,b=Math.floor;a=(a(A)+a(K)+a(K-A))/a(N)*y(m(x,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return b((K-A)/N+a)+1}function g(){f();if(0===N)return Infinity;
if(0!==N%1)return d();if(0<N&&A>K||0>N&&A<K)return 0;var a=Math.ceil,b=Math.abs,c=b(A-K)+1;b=b(N);return a(c/b)}var n=Ba.$$p,q=n||F,h,u,A=this,k=h=F;n&&(Ba.$$p=null);n&&(Ba.$$p=null);n=b.slice.call(arguments,0,arguments.length);h=b.extract_kwargs(n);if(null==h)h=G([],{});else if(!h.$$is_hash)throw b.ArgumentError.$new("expected kwargs");if(0<n.length){var K=n[0];n.splice(0,1)}if(0<n.length){var N=n[0];n.splice(0,1)}var E=h.$$smap.to;var z=h.$$smap.by;void 0!==K&&void 0!==E&&A.$raise(m(x,"ArgumentError"),
"to is given twice");void 0!==N&&void 0!==z&&A.$raise(m(x,"ArgumentError"),"step is given twice");if(q===F)return h=[],k=G([],{}),void 0!==K&&h.push(K),void 0!==N&&h.push(N),void 0!==E&&b.hash_put(k,"to",E),void 0!==z&&b.hash_put(k,"by",z),k["$any?"]()&&h.push(k),J(A,"enum_for",["step"].concat(b.to_a(h)),(u=function(){return g()},u.$$s=A,u.$$arity=0,u));f();if(0===N)for(;;)q(A);if(0!==A%1||0!==K%1||0!==N%1){if(u=d(),0<u)if(Infinity===N||-Infinity===N)q(A);else if(n=0,0<N)for(;n<u;)h=n*N+A,K<h&&(h=
K),q(h),n+=1;else for(;n<u;)h=n*N+A,K>h&&(h=K),q(h),n+=1}else if(u=A,0<N)for(;u<=K;)q(u),u+=N;else for(;u>=K;)q(u),u+=N;return A},Ba.$$arity=-1);b.alias(k,"succ","next");b.def(k,"$times",la=function(){var a=la.$$p,b=a||F,c;a&&(la.$$p=null);a&&(la.$$p=null);if(!P(b))return J(this,"enum_for",["times"],(c=function(){return c.$$s||this},c.$$s=this,c.$$arity=0,c));for(a=0;a<this;a++)b(a);return this},la.$$arity=0);b.def(k,"$to_f",Ma=function(){return this},Ma.$$arity=0);b.def(k,"$to_i",Da=function(){return parseInt(this,
10)},Da.$$arity=0);b.alias(k,"to_int","to_i");b.def(k,"$to_r",Na=function(){if(P(m(x,"Integer")["$==="](this)))return m(x,"Rational").$new(this,1);var a=m(x,"Math").$frexp(this);var c=b.to_ary(a);var e=null==c[0]?F:c[0];c=null==c[1]?F:c[1];a;e=m(x,"Math").$ldexp(e,y(m(x,"Float"),"MANT_DIG")).$to_i();c=w(c,y(m(x,"Float"),"MANT_DIG"));return h(e,y(m(x,"Float"),"RADIX")["$**"](c)).$to_r()},Na.$$arity=0);b.def(k,"$to_s",La=function(a){var b;null==a&&(a=10);a=m(x,"Opal")["$coerce_to!"](a,m(x,"Integer"),
"to_int");P(P(b=B(a,2))?b:p(a,36))&&this.$raise(m(x,"ArgumentError"),"invalid radix "+a);return this.toString(a)},La.$$arity=-1);b.def(k,"$truncate",Pa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},Pa.$$arity=-1);b.alias(k,"inspect","to_s");b.def(k,"$digits",Oa=function(a){null==a&&(a=10);B(this,0)&&this.$raise(y(m(x,"Math"),"DomainError"),"out of domain");a=m(x,"Opal")["$coerce_to!"](a,m(x,"Integer"),
"to_int");P(B(a,2))&&this.$raise(m(x,"ArgumentError"),"invalid radix "+a);for(var b=this,c=[];0!==b;)c.push(b%a),b=parseInt(b/a,10);return c},Oa.$$arity=-1);b.def(k,"$divmod",Ga=function(a){var c,e=Ga.$$p,f;e&&(Ga.$$p=null);var d=0;var g=arguments.length;for(f=Array(g);d<g;d++)f[d]=arguments[d];return P(P(c=this["$nan?"]())?c:a["$nan?"]())?this.$raise(m(x,"FloatDomainError"),"NaN"):P(this["$infinite?"]())?this.$raise(m(x,"FloatDomainError"),"Infinity"):J(this,b.find_super_dispatcher(this,"divmod",
Ga,!1),f,e)},Ga.$$arity=1);b.def(k,"$upto",Qa=function(a){var b=Qa.$$p,c=b||F,e;b&&(Qa.$$p=null);b&&(Qa.$$p=null);if(c===F)return J(this,"enum_for",["upto",a],(e=function(){var b=e.$$s||this;P(m(x,"Numeric")["$==="](a))||b.$raise(m(x,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return P(B(a,b))?0:C(w(a,b),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(m(x,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b<=a;b++)c(b);
return this},Qa.$$arity=1);b.def(k,"$zero?",Wa=function(){return 0==this},Wa.$$arity=0);b.def(k,"$size",Ua=function(){return 4},Ua.$$arity=0);b.def(k,"$nan?",Sa=function(){return isNaN(this)},Sa.$$arity=0);b.def(k,"$finite?",A=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},A.$$arity=0);b.def(k,"$infinite?",K=function(){return Infinity==this?1:-Infinity==this?-1:F},K.$$arity=0);b.def(k,"$positive?",ia=function(){return 0!=this&&(Infinity==this||0<1/this)},ia.$$arity=0);return(b.def(k,
"$negative?",M=function(){return-Infinity==this||0>1/this},M.$$arity=0),F)&&"negative?"})(l[0],m(l,"Numeric"),l);b.const_set(l[0],"Fixnum",m(l,"Number"));(function(h,$super,l){h=O(h,$super,"Integer");l=[h].concat(l);h.$$is_number_class=!0;(function(h,k){var a=[h].concat(k),d,H,r;b.def(h,"$allocate",d=function(){return this.$raise(m(a,"TypeError"),"allocator undefined for "+this.$name())},d.$$arity=0);b.udef(h,"$new");b.def(h,"$===",H=function(a){return a.$$is_number?0===a%1:!1},H.$$arity=1);return(b.def(h,
"$sqrt",r=function(b){b=m(a,"Opal")["$coerce_to!"](b,m(a,"Integer"),"to_int");0>b&&this.$raise(y(m(a,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(b),10)},r.$$arity=1),F)&&"sqrt"})(b.get_singleton_class(h),l);b.const_set(l[0],"MAX",Math.pow(2,30)-1);return b.const_set(l[0],"MIN",-Math.pow(2,30))})(l[0],m(l,"Numeric"),l);return function(h,$super,l){h=O(h,$super,"Float");l=[h].concat(l);h.$$is_number_class=!0;(function(h,k){var a=[h].concat(k),d,H;
b.def(h,"$allocate",d=function(){return this.$raise(m(a,"TypeError"),"allocator undefined for "+this.$name())},d.$$arity=0);b.udef(h,"$new");return(b.def(h,"$===",H=function(a){return!!a.$$is_number},H.$$arity=1),F)&&"==="})(b.get_singleton_class(h),l);b.const_set(l[0],"INFINITY",Infinity);b.const_set(l[0],"MAX",Number.MAX_VALUE);b.const_set(l[0],"MIN",Number.MIN_VALUE);b.const_set(l[0],"NAN",NaN);b.const_set(l[0],"DIG",15);b.const_set(l[0],"MANT_DIG",53);b.const_set(l[0],"RADIX",2);return b.const_set(l[0],
"EPSILON",Number.EPSILON||2.220446049250313E-16)}(l[0],m(l,"Numeric"),l)};
Opal.modules["corelib/range"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b<=h:b["$<="](h)}function B(b,h){return"number"===typeof b&&"number"===typeof h?b<h:b["$<"](h)}function C(b,h){return"number"===typeof b&&"number"===typeof h?b>h:b["$>"](h)}function w(b,h){return"number"===typeof b&&"number"===typeof h?b+h:b["$+"](h)}var t=b.top,h=[],v=b.nil,l=b.const_get_qualified,F=b.const_get_relative,y=b.klass,m=b.truthy,O=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
t.$require("corelib/enumerable");return function(h,$super,t){h=y(h,$super,"Range");var k=[h].concat(t),G,T,x,I,a,d,H,r,Q,S,g,c,z,q,V,D,n,f;h.$$prototype.begin=h.$$prototype.end=h.$$prototype.excl=v;h.$include(F(k,"Enumerable"));h.$$prototype.$$is_range=!0;h.$attr_reader("begin","end");b.def(h,"$initialize",G=function(a,b,c){null==c&&(c=!1);m(this.begin)&&this.$raise(F(k,"NameError"),"'initialize' called twice");m(a["$<=>"](b))||this.$raise(F(k,"ArgumentError"),"bad value for range");this.begin=a;
this.end=b;return this.excl=c},G.$$arity=-3);b.def(h,"$==",T=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&this.end==a.end:!1},T.$$arity=1);b.def(h,"$===",x=function(a){return this["$include?"](a)},x.$$arity=1);b.def(h,"$cover?",I=function(a){var b;var c=this.begin["$<=>"](a);if(!m(m(b=c)?p(c,0):b))return!1;a=a["$<=>"](this.end);return m(this.excl)?m(b=a)?B(a,0):b:m(b=a)?p(a,0):b},I.$$arity=1);b.def(h,"$each",a=function(){var c=a.$$p,f=c||v;c&&(a.$$p=null);c&&(a.$$p=null);
if(f===v)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(F(k,"TypeError"),"can't iterate from Float");var d=this.begin;for(c=this.end+(m(this.excl)?0:1);d<c;d++)f(d);return this}if(this.begin.$$is_string&&this.end.$$is_string)return O(this.begin,"upto",[this.end,this.excl],f.$to_proc()),this;c=this.begin;var g=this.end;for(m(c["$respond_to?"]("succ"))||this.$raise(F(k,"TypeError"),"can't iterate from "+c.$class());m(B(c["$<=>"](g),
0));)b.yield1(f,c),c=c.$succ();m(m(d=this.excl["$!"]())?c["$=="](g):d)&&b.yield1(f,c);return this},a.$$arity=0);b.def(h,"$eql?",d=function(a){var b,c;return m(F(k,"Range")["$==="](a))?m(b=m(c=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):c)?this.end["$eql?"](a.$end()):b:!1},d.$$arity=1);b.def(h,"$exclude_end?",H=function(){return this.excl},H.$$arity=0);b.def(h,"$first",r=function(a){var c=r.$$p,e;c&&(r.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=
arguments[f];return m(null==a)?this.begin:O(this,b.find_super_dispatcher(this,"first",r,!1),e,c)},r.$$arity=-1);b.alias(h,"include?","cover?");b.def(h,"$last",Q=function(a){return m(null==a)?this.end:this.$to_a().$last(a)},Q.$$arity=-1);b.def(h,"$max",S=function(){var a,c=S.$$p,f=c||v,d;c&&(S.$$p=null);var g=0;var n=arguments.length;for(d=Array(n);g<n;g++)d[g]=arguments[g];return f!==v?O(this,b.find_super_dispatcher(this,"max",S,!1),d,c):m(C(this.begin,this.end))?v:m(m(a=this.excl)?this.begin["$=="](this.end):
a)?v:this.excl?this.end-1:this.end},S.$$arity=0);b.alias(h,"member?","cover?");b.def(h,"$min",g=function(){var a,c=g.$$p,f=c||v,d;c&&(g.$$p=null);var n=0;var q=arguments.length;for(d=Array(q);n<q;n++)d[n]=arguments[n];return f!==v?O(this,b.find_super_dispatcher(this,"min",g,!1),d,c):m(C(this.begin,this.end))?v:m(m(a=this.excl)?this.begin["$=="](this.end):a)?v:this.begin},g.$$arity=0);b.def(h,"$size",c=function(){var a;var b=this.begin;var c=this.end;m(this.excl)&&(c="number"===typeof c?c-1:c["$-"](1));
if(!m(m(a=F(k,"Numeric")["$==="](b))?F(k,"Numeric")["$==="](c):a))return v;if(m(B(c,b)))return 0;a=l(F(k,"Float"),"INFINITY");return m([b.$abs(),c.$abs()]["$include?"](a))?a:(Math.abs(c-b)+1).$to_i()},c.$$arity=0);b.def(h,"$step",z=function(a){function c(){a.$$is_number||(a=F(k,"Opal")["$coerce_to!"](a,F(k,"Integer"),"to_int"));0>a?h.$raise(F(k,"ArgumentError"),"step can't be negative"):0===a&&h.$raise(F(k,"ArgumentError"),"step can't be 0")}function e(){if(!h.begin["$respond_to?"]("succ")||h.begin.$$is_string&&
h.end.$$is_string)return v;if(0===a%1){var b=h.$size();return("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()}b=h.begin;var c=h.end,e=Math.abs,f=Math.floor;e=(e(b)+e(c)+e(c-b))/e(a)*l(F(k,"Float"),"EPSILON");.5<e&&(e=.5);h.excl?(f=f((c-b)/a-e),f*a+b<c&&f++):f=f((c-b)/a+e)+1;return f}var f,d,g,n=z.$$p,q=n||v,h=this,D=v;n&&(z.$$p=null);null==a&&(a=1);if(q===v)return O(h,"enum_for",["step",a],(f=function(){c();return e()},f.$$s=h,f.$$arity=0,f));c();m(h.begin.$$is_number&&h.end.$$is_number)?
(D=0,function(){var c=b.new_brk();try{return O(h,"loop",[],(d=function(){var e=d.$$s||this;null==e.begin&&(e.begin=v);null==e.excl&&(e.excl=v);null==e.end&&(e.end=v);var f=w(e.begin,"number"===typeof D&&"number"===typeof a?D*a:D["$*"](a));m(e.excl)?(e=e.end,e="number"===typeof f&&"number"===typeof e?f>=e:f["$>="](e),m(e)&&b.brk(v,c)):m(C(f,e.end))&&b.brk(v,c);b.yield1(q,f);return D=w(D,1)},d.$$s=h,d.$$brk=c,d.$$arity=0,d))}catch(ja){if(ja===c)return ja.$v;throw ja;}}()):(h.begin.$$is_string&&h.end.$$is_string&&
0!==a%1&&h.$raise(F(k,"TypeError"),"no implicit conversion to float from string"),O(h,"each_with_index",[],(g=function(c,e){null==c&&(c=v);null==e&&(e=v);return e["$%"](a)["$=="](0)?b.yield1(q,c):v},g.$$s=h,g.$$arity=2,g)));return h},z.$$arity=-1);b.def(h,"$bsearch",q=function(){var a=q.$$p,b=a||v;a&&(q.$$p=null);a&&(q.$$p=null);if(b===v)return this.$enum_for("bsearch");m(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(F(k,"TypeError"),"can't do binary search for "+this.begin.$class());
return O(this.$to_a(),"bsearch",[],b.$to_proc())},q.$$arity=0);b.def(h,"$to_s",V=function(){return""+this.begin+(m(this.excl)?"...":"..")+this.end},V.$$arity=0);b.def(h,"$inspect",D=function(){return""+this.begin.$inspect()+(m(this.excl)?"...":"..")+this.end.$inspect()},D.$$arity=0);b.def(h,"$marshal_load",n=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},n.$$arity=1);return(b.def(h,"$hash",f=function(){return[this.begin,this.end,this.excl].$hash()},
f.$$arity=0),v)&&"hash"}(h[0],null,h)};
Opal.modules["corelib/proc"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.slice,t=b.klass,h=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);return function(p,$super,F){p=t(p,$super,"Proc");var y=[p].concat(F),m,v,P,J,G,k,ka,T,x,I;b.defineProperty(p.$$prototype,"$$is_proc",!0);b.defineProperty(p.$$prototype,"$$is_lambda",!1);b.defs(p,"$new",m=function(){var a=m.$$p,b=a||B;a&&(m.$$p=null);a&&(m.$$p=null);h(b)||this.$raise(C(y,"ArgumentError"),"tried to create a Proc object without a block");return b},
m.$$arity=0);b.def(p,"$call",v=function(a){var d=v.$$p,h=d||B;d&&(v.$$p=null);d&&(v.$$p=null);d=b.slice.call(arguments,0,arguments.length);h!==B&&(this.$$p=h);if(h=this.$$brk)try{var k=this.$$is_lambda?this.apply(null,d):b.yieldX(this,d)}catch(Q){if(Q===h)return h.$v;throw Q;}else k=this.$$is_lambda?this.apply(null,d):b.yieldX(this,d);return k},v.$$arity=-1);b.alias(p,"[]","call");b.alias(p,"===","call");b.alias(p,"yield","call");b.def(p,"$to_proc",P=function(){return this},P.$$arity=0);b.def(p,"$lambda?",
J=function(){return!!this.$$is_lambda},J.$$arity=0);b.def(p,"$arity",G=function(){return this.$$is_curried?-1:this.$$arity},G.$$arity=0);b.def(p,"$source_location",k=function(){return B},k.$$arity=0);b.def(p,"$binding",ka=function(){this.$$is_curried&&this.$raise(C(y,"ArgumentError"),"Can't create Binding");return B},ka.$$arity=0);b.def(p,"$parameters",T=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],b;var h=0;for(b=this.$$parameters.length;h<
b;h++){var k=this.$$parameters[h];"req"===k[0]&&(k=["opt",k[1]]);a.push(k)}return a}return[]},T.$$arity=0);b.def(p,"$curry",x=function(a){function b(){var d=w.call(arguments),k=d.length;k>a&&h.$$is_lambda&&!h.$$is_curried&&h.$raise(C(y,"ArgumentError"),"wrong number of arguments ("+k+" for "+a+")");if(k>=a)return h.$call.apply(h,d);k=function(){return b.apply(null,d.concat(w.call(arguments)))};k.$$is_lambda=h.$$is_lambda;k.$$is_curried=!0;return k}var h=this;void 0===a?a=h.length:(a=C(y,"Opal")["$coerce_to!"](a,
C(y,"Integer"),"to_int"),h.$$is_lambda&&a!==h.length&&h.$raise(C(y,"ArgumentError"),"wrong number of arguments ("+a+" for "+h.length+")"));b.$$is_lambda=h.$$is_lambda;b.$$is_curried=!0;return b},x.$$arity=-1);b.def(p,"$dup",I=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},h;for(h in this)this.hasOwnProperty(h)&&(b[h]=this[h]);return b},I.$$arity=0);return b.alias(p,"clone","dup")}(p[0],Function,p)};
Opal.modules["corelib/method"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.klass,t=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(h,$super,l){h=w(h,$super,"Method");var p=[h].concat(l),y,m,O,P,J,G,k,ka,T;h.$$prototype.method=h.$$prototype.receiver=h.$$prototype.owner=h.$$prototype.name=B;h.$attr_reader("owner","receiver","name");b.def(h,"$initialize",y=function(b,h,a,d){this.receiver=b;this.owner=h;this.name=d;return this.method=
a},y.$$arity=4);b.def(h,"$arity",m=function(){return this.method.$arity()},m.$$arity=0);b.def(h,"$parameters",O=function(){return this.method.$$parameters},O.$$arity=0);b.def(h,"$source_location",P=function(){var b;return t(b=this.method.$$source_location)?b:["(eval)",0]},P.$$arity=0);b.def(h,"$comments",J=function(){var b;return t(b=this.method.$$comments)?b:[]},J.$$arity=0);b.def(h,"$call",G=function(h){var k=G.$$p,a=k||B;k&&(G.$$p=null);k&&(G.$$p=null);k=b.slice.call(arguments,0,arguments.length);
this.method.$$p=a;return this.method.apply(this.receiver,k)},G.$$arity=-1);b.alias(h,"[]","call");b.def(h,"$unbind",k=function(){return C(p,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},k.$$arity=0);b.def(h,"$to_proc",ka=function(){var b=this.$call.bind(this);b.$$unbound=this.method;b.$$is_lambda=!0;b.$$arity=this.method.$$arity;b.$$parameters=this.method.$$parameters;return b},ka.$$arity=0);return(b.def(h,"$inspect",T=function(){return"#<"+this.$class()+": "+this.receiver.$class()+
"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},T.$$arity=0),B)&&"inspect"})(p[0],null,p);return function(h,$super,l){h=w(h,$super,"UnboundMethod");var p=[h].concat(l),y,m,O,P,J,G,k;h.$$prototype.method=h.$$prototype.owner=h.$$prototype.name=h.$$prototype.source=B;h.$attr_reader("source","owner","name");b.def(h,"$initialize",y=function(b,h,k,l){this.source=b;this.owner=h;this.method=k;return this.name=l},y.$$arity=4);b.def(h,"$arity",m=function(){return this.method.$arity()},
m.$$arity=0);b.def(h,"$parameters",O=function(){return this.method.$$parameters},O.$$arity=0);b.def(h,"$source_location",P=function(){var b;return t(b=this.method.$$source_location)?b:["(eval)",0]},P.$$arity=0);b.def(h,"$comments",J=function(){var b;return t(b=this.method.$$comments)?b:[]},J.$$arity=0);b.def(h,"$bind",G=function(h){if(this.owner.$$is_module||b.is_a(h,this.owner))return C(p,"Method").$new(h,this.owner,this.method,this.name);this.$raise(C(p,"TypeError"),"can't bind singleton method to a different class (expected "+
h+".kind_of?("+this.owner+" to be true)")},G.$$arity=1);return(b.def(h,"$inspect",k=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},k.$$arity=0),B)&&"inspect"}(p[0],null,p)};
Opal.modules["corelib/variables"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.gvars,t=b.hash2;b.add_stubs(["$new"]);w["&"]=w["~"]=w["`"]=w["'"]=B;w.LOADED_FEATURES=w['"']=b.loaded_features;w.LOAD_PATH=w[":"]=[];w["/"]="\n";w[","]=B;b.const_set(p[0],"ARGV",[]);b.const_set(p[0],"ARGF",C(p,"Object").$new());b.const_set(p[0],"ENV",t([],{}));w.VERBOSE=!1;w.DEBUG=!1;return w.SAFE=0};
Opal.modules["opal/regexp_anchors"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.module;b.add_stubs(["$==","$new"]);p=[w(p[0],"Opal")].concat(p);b.const_set(p[0],"REGEXP_START",C(p,"RUBY_ENGINE")["$=="]("opal")?"^":B);b.const_set(p[0],"REGEXP_END",C(p,"RUBY_ENGINE")["$=="]("opal")?"$":B);b.const_set(p[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(p[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(p[0],"INLINE_IDENTIFIER_REGEXP",C(p,"Regexp").$new("[^"+C(p,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+C(p,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(p[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(p[0],"CONST_NAME_REGEXP",C(p,"Regexp").$new(""+C(p,"REGEXP_START")+"(::)?[A-Z][^"+C(p,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+C(p,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(b){var p=b.top;b.add_stubs(["$require"]);p.$require("opal/base");p.$require("corelib/nil");p.$require("corelib/boolean");p.$require("corelib/string");p.$require("corelib/comparable");p.$require("corelib/enumerable");p.$require("corelib/enumerator");p.$require("corelib/array");p.$require("corelib/hash");p.$require("corelib/number");p.$require("corelib/range");p.$require("corelib/proc");p.$require("corelib/method");p.$require("corelib/regexp");p.$require("corelib/variables");
return p.$require("opal/regexp_anchors")};
Opal.modules["corelib/string/encoding"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b+h:b["$+"](h)}var B,C,w,t,h,v=b.top,l=[],F=b.nil,y=b.const_get_qualified,m=b.const_get_relative,O=b.klass,P=b.hash2,J=b.truthy,G=b.send;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $getbyte".split(" "));v.$require("corelib/string");
(function(h,$super,l){h=O(h,$super,"Encoding");var k=[h].concat(l),t,a,d,H,r,Q,S,g,c,z;h.$$prototype.ascii=h.$$prototype.dummy=h.$$prototype.name=F;b.defineProperty(h,"$$register",{});b.defs(h,"$register",t=function(a,b){var c=t.$$p,d=c||F,f,e,g=F,q=F,h=F;c&&(t.$$p=null);c&&(t.$$p=null);null==b&&(b=P([],{}));g=p([a],J(f=b["$[]"]("aliases"))?f:[]);q=G(m(k,"Class"),"new",[this],d.$to_proc()).$new(a,g,J(f=b["$[]"]("ascii"))?f:!1,J(f=b["$[]"]("dummy"))?f:!1);h=this.$$register;return G(g,"each",[],(e=
function(a){var b=e.$$s||this;null==a&&(a=F);b.$const_set(a.$sub("-","_"),q);return h["$$"+a]=q},e.$$s=this,e.$$arity=1,e))},t.$$arity=-2);b.defs(h,"$find",a=function(a){var b;if(a["$=="]("default_external"))return this.$default_external();var c=this.$$register;c=J(b=c["$$"+a])?b:c["$$"+a.$upcase()];J(c)||this.$raise(m(k,"ArgumentError"),"unknown encoding name - "+a);return c},a.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(b.get_singleton_class(h),k);h.$attr_reader("name",
"names");b.def(h,"$initialize",d=function(a,b,c,d){this.name=a;this.names=b;this.ascii=c;return this.dummy=d},d.$$arity=4);b.def(h,"$ascii_compatible?",H=function(){return this.ascii},H.$$arity=0);b.def(h,"$dummy?",r=function(){return this.dummy},r.$$arity=0);b.def(h,"$to_s",Q=function(){return this.name},Q.$$arity=0);b.def(h,"$inspect",S=function(){return"#<Encoding:"+this.name+(J(this.dummy)?" (dummy)":F)+">"},S.$$arity=0);b.def(h,"$each_byte",g=function(a){b.slice.call(arguments,0,arguments.length);
return this.$raise(m(k,"NotImplementedError"))},g.$$arity=-1);b.def(h,"$getbyte",c=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(m(k,"NotImplementedError"))},c.$$arity=-1);b.def(h,"$bytesize",z=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(m(k,"NotImplementedError"))},z.$$arity=-1);(function(a,$super,b){[O(a,$super,"EncodingError")].concat(b);return F})(k[0],m(k,"StandardError"),k);return function(a,$super,b){[O(a,$super,"CompatibilityError")].concat(b);
return F}(k[0],m(k,"EncodingError"),k)})(l[0],null,l);G(m(l,"Encoding"),"register",["UTF-8",P(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(B=function(){var h=B.$$s||this,l,m;b.def(h,"$each_byte",l=function(h){var k=l.$$p,a=k||F;k&&(l.$$p=null);k&&(l.$$p=null);k=0;for(var d=h.length;k<d;k++){var H=h.charCodeAt(k);if(127>=H)b.yield1(a,H);else{H=encodeURIComponent(h.charAt(k)).substr(1).split("%");for(var r=0,m=H.length;r<m;r++)b.yield1(a,parseInt(H[r],16))}}},l.$$arity=1);return(b.def(h,"$bytesize",
m=function(b){return b.$bytes().$length()},m.$$arity=1),F)&&"bytesize"},B.$$s=v,B.$$arity=0,B));G(m(l,"Encoding"),"register",["UTF-16LE"],(C=function(){var h=C.$$s||this,l,m;b.def(h,"$each_byte",l=function(h){var k=l.$$p,a=k||F;k&&(l.$$p=null);k&&(l.$$p=null);k=0;for(var d=h.length;k<d;k++){var H=h.charCodeAt(k);b.yield1(a,H&255);b.yield1(a,H>>8)}},l.$$arity=1);return(b.def(h,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),F)&&"bytesize"},C.$$s=v,C.$$arity=0,C));G(m(l,"Encoding"),
"register",["UTF-16BE"],(w=function(){var h=w.$$s||this,l,m;b.def(h,"$each_byte",l=function(h){var k=l.$$p,a=k||F;k&&(l.$$p=null);k&&(l.$$p=null);k=0;for(var d=h.length;k<d;k++){var H=h.charCodeAt(k);b.yield1(a,H>>8);b.yield1(a,H&255)}},l.$$arity=1);return(b.def(h,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),F)&&"bytesize"},w.$$s=v,w.$$arity=0,w));G(m(l,"Encoding"),"register",["UTF-32LE"],(t=function(){var h=t.$$s||this,l,m;b.def(h,"$each_byte",l=function(h){var k=l.$$p,a=k||
F;k&&(l.$$p=null);k&&(l.$$p=null);k=0;for(var d=h.length;k<d;k++){var H=h.charCodeAt(k);b.yield1(a,H&255);b.yield1(a,H>>8)}},l.$$arity=1);return(b.def(h,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),F)&&"bytesize"},t.$$s=v,t.$$arity=0,t));G(m(l,"Encoding"),"register",["ASCII-8BIT",P(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(h=function(){var k=h.$$s||this,l,m;b.def(k,"$each_byte",l=function(h){var k=l.$$p,a=k||F;k&&(l.$$p=null);k&&
(l.$$p=null);k=0;for(var d=h.length;k<d;k++){var H=h.charCodeAt(k);b.yield1(a,H&255);b.yield1(a,H>>8)}},l.$$arity=1);return(b.def(k,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),F)&&"bytesize"},h.$$s=v,h.$$arity=0,h));return function(h,$super,l){h=O(h,$super,"String");var k=[h].concat(l),t,a,d,H,r,Q,S;h.$$prototype.encoding=F;h.$attr_reader("encoding");b.defineProperty(String.prototype,"encoding",y(m(k,"Encoding"),"UTF_16LE"));b.def(h,"$bytes",t=function(){return this.$each_byte().$to_a()},
t.$$arity=0);b.def(h,"$bytesize",a=function(){return this.encoding.$bytesize(this)},a.$$arity=0);b.def(h,"$each_byte",d=function(){var a=d.$$p,b=a||F;a&&(d.$$p=null);a&&(d.$$p=null);if(b===F)return this.$enum_for("each_byte");G(this.encoding,"each_byte",[this],b.$to_proc());return this},d.$$arity=0);b.def(h,"$encode",H=function(a){return this.$dup().$force_encoding(a)},H.$$arity=1);b.def(h,"$force_encoding",r=function(a){if(a===this.encoding)return this;a=m(k,"Opal")["$coerce_to!"](a,m(k,"String"),
"to_s");a=m(k,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},r.$$arity=1);b.def(h,"$getbyte",Q=function(a){return this.encoding.$getbyte(this,a)},Q.$$arity=1);return(b.def(h,"$valid_encoding?",S=function(){return!0},S.$$arity=0),F)&&"valid_encoding?"}(l[0],null,l)};
Opal.modules["corelib/struct"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b>h:b["$>"](h)}function B(b,h){return"number"===typeof b&&"number"===typeof h?b-h:b["$-"](h)}function C(b,h){return"number"===typeof b&&"number"===typeof h?b<h:b["$<"](h)}function w(b,h){return"number"===typeof b&&"number"===typeof h?b>=h:b["$>="](h)}function t(b,h){return"number"===typeof b&&"number"===typeof h?b+h:b["$+"](h)}var h=b.top,v=[],l=b.nil,F=b.const_get_relative,y=b.klass,m=b.hash2,
O=b.truthy,P=b.send;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));h.$require("corelib/enumerable");
return function(h,$super,k){h=y(h,$super,"Struct");var v=[h].concat(k),J,x,I,a,d,H,r,Q,S,g,c,z,q,V,D,n,f,e,X;h.$include(F(v,"Enumerable"));b.defs(h,"$new",J=function(a,c,e){var f=J.$$p,d=f||l,g,n;var h=l;f&&(J.$$p=null);f&&(J.$$p=null);var q=b.slice.call(arguments,1,arguments.length);h=b.extract_kwargs(q);if(null==h)h=m([],{});else if(!h.$$is_hash)throw b.ArgumentError.$new("expected kwargs");f=h.$$smap.keyword_init;null==f&&(f=!1);if(O(a))try{a=F(v,"Opal")["$const_name!"](a)}catch(ja){if(b.rescue(ja,
[F(v,"TypeError"),F(v,"NameError")]))try{q.$unshift(a),a=l}finally{b.pop_exception()}else throw ja;}P(q,"map",[],(g=function(a){null==a&&(a=l);return F(v,"Opal")["$coerce_to!"](a,F(v,"String"),"to_str")},g.$$s=this,g.$$arity=1,g));h=P(F(v,"Class"),"new",[this],(n=function(){var a=n.$$s||this,c;P(q,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=l);return b.$define_struct_attribute(a)},c.$$s=a,c.$$arity=1,c));return function(a,c){[a].concat(c);var e;b.def(a,"$new",e=function(a){var c=b.slice.call(arguments,
0,arguments.length);var e=this.$allocate();e.$$data={};P(e,"initialize",b.to_a(c));return e},e.$$arity=-1);return a.$alias_method("[]","new")}(b.get_singleton_class(a),v)},n.$$s=this,n.$$arity=0,n));O(d)&&P(h,"module_eval",[],d.$to_proc());h.$$keyword_init=f;O(a)&&F(v,"Struct").$const_set(a,h);return h},J.$$arity=-2);b.defs(h,"$define_struct_attribute",x=function(a){var b,c;this["$=="](F(v,"Struct"))&&this.$raise(F(v,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);
P(this,"define_method",[a],(b=function(){return(b.$$s||this).$$data[a]},b.$$s=this,b.$$arity=0,b));return P(this,"define_method",[""+a+"="],(c=function(b){var e=c.$$s||this;null==b&&(b=l);return e.$$data[a]=b},c.$$s=this,c.$$arity=1,c))},x.$$arity=1);b.defs(h,"$members",I=function(){var a;null==this.members&&(this.members=l);this["$=="](F(v,"Struct"))&&this.$raise(F(v,"ArgumentError"),"the Struct class has no members");return this.members=O(a=this.members)?a:[]},I.$$arity=0);b.defs(h,"$inherited",
a=function(a){var b,c=l;null==this.members&&(this.members=l);c=this.members;return P(a,"instance_eval",[],(b=function(){return(b.$$s||this).members=c},b.$$s=this,b.$$arity=0,b))},a.$$arity=1);b.def(h,"$initialize",d=function(a){var c,e,f,d=l,g=l;var n=b.slice.call(arguments,0,arguments.length);if(O(this.$class().$$keyword_init))return d=O(c=n.$last())?c:m([],{}),O(O(c=p(n.$length(),1))?c:1===n.length&&!d.$$is_hash)&&this.$raise(F(v,"ArgumentError"),"wrong number of arguments (given "+n.$length()+
", expected 0)"),g=B(d.$keys(),this.$class().$members()),O(g["$any?"]())&&this.$raise(F(v,"ArgumentError"),"unknown keywords: "+g.$join(", ")),P(this.$class().$members(),"each",[],(e=function(a){var c=e.$$s||this;null==a&&(a=l);a=[a,d["$[]"](a)];P(c,"[]=",b.to_a(a));return a[B(a.length,1)]},e.$$s=this,e.$$arity=1,e));O(p(n.$length(),this.$class().$members().$length()))&&this.$raise(F(v,"ArgumentError"),"struct size differs");return P(this.$class().$members(),"each_with_index",[],(f=function(a,c){var e=
f.$$s||this;null==a&&(a=l);null==c&&(c=l);a=[a,n["$[]"](c)];P(e,"[]=",b.to_a(a));return a[B(a.length,1)]},f.$$s=this,f.$$arity=2,f))},d.$$arity=-1);b.def(h,"$members",H=function(){return this.$class().$members()},H.$$arity=0);b.def(h,"$hash",r=function(){return F(v,"Hash").$new(this.$$data).$hash()},r.$$arity=0);b.def(h,"$[]",Q=function(a){O(F(v,"Integer")["$==="](a))?(O(C(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(F(v,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+
")"),O(w(a,this.$class().$members().$size()))&&this.$raise(F(v,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):O(F(v,"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(F(v,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(F(v,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=F(v,"Opal")["$coerce_to!"](a,F(v,"String"),"to_str");return this.$$data[a]},Q.$$arity=1);b.def(h,
"$[]=",S=function(a,b){O(F(v,"Integer")["$==="](a))?(O(C(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(F(v,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),O(w(a,this.$class().$members().$size()))&&this.$raise(F(v,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):O(F(v,"String")["$==="](a))?O(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(F(v,
"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(F(v,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=F(v,"Opal")["$coerce_to!"](a,F(v,"String"),"to_str");return this.$$data[a]=b},S.$$arity=2);b.def(h,"$==",g=function(a){function b(a,f){var d;c[a.$__id__()]=!0;e[f.$__id__()]=!0;for(d in a.$$data){var g=a.$$data[d];var n=f.$$data[d];if(F(v,"Struct")["$==="](g)){if(!(c.hasOwnProperty(g.$__id__())&&e.hasOwnProperty(n.$__id__())||b(g,n)))return!1}else if(!g["$=="](n))return!1}return!0}
if(!O(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},g.$$arity=1);b.def(h,"$eql?",c=function(a){function b(a,f){var d;c[a.$__id__()]=!0;e[f.$__id__()]=!0;for(d in a.$$data){var g=a.$$data[d];var n=f.$$data[d];if(F(v,"Struct")["$==="](g)){if(!(c.hasOwnProperty(g.$__id__())&&e.hasOwnProperty(n.$__id__())||b(g,n)))return!1}else if(!g["$eql?"](n))return!1}return!0}if(!O(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},c.$$arity=1);b.def(h,"$each",
z=function(){var a,c,e=z.$$p,f=e||l;e&&(z.$$p=null);if(f===l)return P(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));P(this.$class().$members(),"each",[],(c=function(a){var e=c.$$s||this;null==a&&(a=l);return b.yield1(f,e["$[]"](a))},c.$$s=this,c.$$arity=1,c));return this},z.$$arity=0);b.def(h,"$each_pair",q=function(){var a,c,e=q.$$p,f=e||l;e&&(q.$$p=null);if(f===l)return P(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=
this,a.$$arity=0,a));P(this.$class().$members(),"each",[],(c=function(a){var e=c.$$s||this;null==a&&(a=l);return b.yield1(f,[a,e["$[]"](a)])},c.$$s=this,c.$$arity=1,c));return this},q.$$arity=0);b.def(h,"$length",V=function(){return this.$class().$members().$length()},V.$$arity=0);b.alias(h,"size","length");b.def(h,"$to_a",D=function(){var a;return P(this.$class().$members(),"map",[],(a=function(b){var c=a.$$s||this;null==b&&(b=l);return c["$[]"](b)},a.$$s=this,a.$$arity=1,a))},D.$$arity=0);b.alias(h,
"values","to_a");b.def(h,"$inspect",n=function(){var a,b,c=l;c="#<struct ";O(O(a=F(v,"Struct")["$==="](this))?this.$class().$name():a)&&(c=t(c,""+this.$class()+" "));c=t(c,P(this.$each_pair(),"map",[],(b=function(a,b){null==a&&(a=l);null==b&&(b=l);return""+a+"="+b.$inspect()},b.$$s=this,b.$$arity=2,b)).$join(", "));return c=t(c,">")},n.$$arity=0);b.alias(h,"to_s","inspect");b.def(h,"$to_h",f=function(){var a;return P(this.$class().$members(),"each_with_object",[m([],{})],(a=function(c,e){var f=a.$$s||
this;null==c&&(c=l);null==e&&(e=l);c=[c,f["$[]"](c)];P(e,"[]=",b.to_a(c));return c[B(c.length,1)]},a.$$s=this,a.$$arity=2,a))},f.$$arity=0);b.def(h,"$values_at",e=function(a){var c;var e=b.slice.call(arguments,0,arguments.length);e=P(e,"map",[],(c=function(a){null==a&&(a=l);return a.$$is_range?a.$to_a():a},c.$$s=this,c.$$arity=1,c)).$flatten();c=[];for(var f=0,d=e.length;f<d;f++)e[f].$$is_number||this.$raise(F(v,"TypeError"),"no implicit conversion of "+e[f].$class()+" into Integer"),c.push(this["$[]"](e[f]));
return c},e.$$arity=-1);return(b.def(h,"$dig",X=function(a,c){var e=b.slice.call(arguments,1,arguments.length);var f=O(a.$$is_string&&this.$$data.hasOwnProperty(a))?this.$$data[a]||l:l;if(f===l||0===e.length)return f;O(f["$respond_to?"]("dig"))||this.$raise(F(v,"TypeError"),""+f.$class()+" does not have #dig method");return P(f,"dig",b.to_a(e))},X.$$arity=-2),l)&&"dig"}(v[0],null,v)};
Opal.modules["corelib/io"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b-h:b["$-"](h)}var B=[],C=b.nil,w=b.const_get_qualified,t=b.const_get_relative,h=b.klass,v=b.module,l=b.send,F=b.gvars,y=b.truthy,m=C;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(m,$super,p){m=h(m,$super,"IO");p=[m].concat(p);var k,w,B,x;m.$$prototype.tty=m.$$prototype.closed=C;b.const_set(p[0],
"SEEK_SET",0);b.const_set(p[0],"SEEK_CUR",1);b.const_set(p[0],"SEEK_END",2);b.def(m,"$tty?",k=function(){return this.tty},k.$$arity=0);b.def(m,"$closed?",w=function(){return this.closed},w.$$arity=0);m.$attr_accessor("write_proc");b.def(m,"$write",B=function(b){this.write_proc(b);return b.$size()},B.$$arity=1);m.$attr_accessor("sync","tty");b.def(m,"$flush",x=function(){return C},x.$$arity=0);(function(h,a){h=v(h,"Writable");[h].concat(a);var d,k,r;b.def(h,"$<<",d=function(a){this.$write(a);return this},
d.$$arity=1);b.def(h,"$print",k=function(a){var d;null==F[","]&&(F[","]=C);var g=b.slice.call(arguments,0,arguments.length);this.$write(l(g,"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=C);return b.$String(a)},d.$$s=this,d.$$arity=1,d)).$join(F[","]));return C},k.$$arity=-1);b.def(h,"$puts",r=function(a){var d,g=C;null==F["/"]&&(F["/"]=C);var c=b.slice.call(arguments,0,arguments.length);g=F["/"];y(c["$empty?"]())?this.$write(F["/"]):this.$write(l(c,"map",[],(d=function(a){var b=d.$$s||this;
null==a&&(a=C);return b.$String(a).$chomp()},d.$$s=this,d.$$arity=1,d)).$concat([C]).$join(g));return C},r.$$arity=-1)})(p[0],p);return function(h,a){h=v(h,"Readable");var d=[h].concat(a),k,l,m,S;b.def(h,"$readbyte",k=function(){return this.$getbyte()},k.$$arity=0);b.def(h,"$readchar",l=function(){return this.$getc()},l.$$arity=0);b.def(h,"$readline",m=function(a){null==F["/"]&&(F["/"]=C);return this.$raise(t(d,"NotImplementedError"))},m.$$arity=-1);b.def(h,"$readpartial",S=function(a,b){return this.$raise(t(d,
"NotImplementedError"))},S.$$arity=-2)}(p[0],p)})(B[0],null,B);b.const_set(B[0],"STDERR",F.stderr=t(B,"IO").$new());b.const_set(B[0],"STDIN",F.stdin=t(B,"IO").$new());b.const_set(B[0],"STDOUT",F.stdout=t(B,"IO").$new());var O=b.global.console;m=["object"===typeof process&&"object"===typeof process.stdout?function(b){process.stdout.write(b)}:function(b){O.log(b)}];l(t(B,"STDOUT"),"write_proc=",b.to_a(m));m[p(m.length,1)];m=["object"===typeof process&&"object"===typeof process.stderr?function(b){process.stderr.write(b)}:
function(b){O.warn(b)}];l(t(B,"STDERR"),"write_proc=",b.to_a(m));m[p(m.length,1)];t(B,"STDOUT").$extend(w(t(B,"IO"),"Writable"));return t(B,"STDERR").$extend(w(t(B,"IO"),"Writable"))};Opal.modules["corelib/main"]=function(b){var p,B,C=b.top,w=[],t=b.nil,h=b.const_get_relative;b.add_stubs(["$include"]);b.defs(C,"$to_s",p=function(){return"main"},p.$$arity=0);return(b.defs(C,"$include",B=function(b){return h(w,"Object").$include(b)},B.$$arity=1),t)&&"include"};
Opal.modules["corelib/dir"]=function(b){var p=[],B=b.nil,C=b.const_get_relative,w=b.klass,t=b.truthy;b.add_stubs(["$[]"]);return function(h,$super,l){h=w(h,$super,"Dir");l=[h].concat(l);return function(h,l){var m=[h].concat(l),p,w,y;b.def(h,"$chdir",p=function(h){var k=p.$$p,l=k||B,m=B;k&&(p.$$p=null);a:{try{m=b.current_dir;b.current_dir=h;var t=b.yieldX(l,[]);break a}finally{b.current_dir=m}t=void 0}return t},p.$$arity=1);b.def(h,"$pwd",w=function(){return b.current_dir||"."},w.$$arity=0);b.alias(h,
"getwd","pwd");return(b.def(h,"$home",y=function(){var b;return t(b=C(m,"ENV")["$[]"]("HOME"))?b:"."},y.$$arity=0),B)&&"home"}(b.get_singleton_class(h),l)}(p[0],null,p)};
Opal.modules["corelib/file"]=function(b){function p(b,h){return"number"===typeof b&&"number"===typeof h?b+h:b["$+"](h)}function B(b,h){return"number"===typeof b&&"number"===typeof h?b-h:b["$-"](h)}var C=[],w=b.nil,t=b.const_get_relative,h=b.klass,v=b.truthy,l=b.range,F=b.send;b.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(y,
$super,C){y=h(y,$super,"File");C=[y].concat(C);var P=w;b.const_set(C[0],"Separator",b.const_set(C[0],"SEPARATOR","/"));b.const_set(C[0],"ALT_SEPARATOR",w);b.const_set(C[0],"PATH_SEPARATOR",":");b.const_set(C[0],"FNM_SYSCASE",0);P=/^[a-zA-Z]:(?:\\|\/)/;return function(h,y){function k(a){v(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=t(G,"Opal")["$coerce_to!"](a,t(G,"String"),"to_str")}function C(){return t(G,"ALT_SEPARATOR")===w?b.escape_regexp(t(G,"SEPARATOR")):b.escape_regexp(p(t(G,"SEPARATOR"),
t(G,"ALT_SEPARATOR")))}var G=[h].concat(y),x,I,a,d,H,r,Q,S,g;b.def(h,"$absolute_path",x=function(a,b){var c;null==b&&(b=w);var d=t(G,"SEPARATOR");var g=C();var n=[];a=v(a["$respond_to?"]("to_path"))?a.$to_path():a;b=v(c=b)?c:t(G,"Dir").$pwd();c=a.substr(0,d.length)===d||P.test(a);var f=b.substr(0,d.length)===d||P.test(b);v(c)?(c=a.$split(new RegExp("["+g+"]")),a=P.test(a)?"":a.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"),b=!0):(c=p(b.$split(new RegExp("["+g+"]")),a.$split(new RegExp("["+g+"]"))),a=P.test(b)?
"":b.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"),b=f);f=0;for(var e=c.length;f<e;f++)g=c[f],g===w||""===g&&(0===n.length||b)||"."===g&&(0===n.length||b)||(".."===g?n.pop():n.push(g));b||"."===c[0]||n.$unshift(".");d=n.$join(d);v(b)&&(d=p(a,d));return d},x.$$arity=-2);b.def(h,"$expand_path",I=function(a,b){null==b&&(b=w);var c=t(G,"SEPARATOR");var d=C();if(v("~"===a[0]||b&&"~"===b[0])){var g=t(G,"Dir").$home();v(g)||this.$raise(t(G,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");d=
P.test(g)?"":g.$sub(new RegExp("^(["+d+"]+).*$"),"\\1");v(g["$start_with?"](d))||this.$raise(t(G,"ArgumentError"),"non-absolute home");g=p(g,c);c=new RegExp("^\\~(?:"+c+"|$)");a=a.$sub(c,g);v(b)&&(b=b.$sub(c,g))}return this.$absolute_path(a,b)},I.$$arity=-2);b.alias(h,"realpath","expand_path");b.def(h,"$dirname",a=function(a){var b=C();a=k(a);var c=a.match(new RegExp("^["+b+"]"));a=a.replace(new RegExp("["+b+"]+$"),"");a=a.replace(new RegExp("[^"+b+"]+$"),"");a=a.replace(new RegExp("["+b+"]+$"),"");
return""===a?c?"/":".":a},a.$$arity=1);b.def(h,"$basename",d=function(a,d){null==d&&(d=w);var c=C();a=k(a);if(0==a.length)return a;d=d!==w?t(G,"Opal")["$coerce_to!"](d,t(G,"String"),"to_str"):null;a=a.replace(new RegExp("(.)["+c+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+c+"])?([^"+c+"]+)$"),"$1");".*"===d?a=a.replace(/\.[^\.]+$/,""):null!==d&&(d=b.escape_regexp(d),a=a.replace(new RegExp(""+d+"$"),""));return a},d.$$arity=-2);b.def(h,"$extname",H=function(a){var c;a=k(a);a=this.$basename(a);if(v(a["$empty?"]()))return"";
var d=a["$[]"](l(1,-1,!1)).$rindex(".");return v(v(c=d["$nil?"]())?c:p(d,1)["$=="](B(a.$length(),1)))?"":a["$[]"](b.Range.$new(p(d,1),-1,!1))},H.$$arity=1);b.def(h,"$exist?",r=function(a){return null!=b.modules[a]},r.$$arity=1);b.alias(h,"exists?","exist?");b.def(h,"$directory?",Q=function(a){var c,d=w;d=w;d=[];for(var g in b.modules)d.push(g);a=a.$gsub(new RegExp("(^."+t(G,"SEPARATOR")+"+|"+t(G,"SEPARATOR")+"+$)"));return d=F(d,"find",[],(c=function(b){null==b&&(b=w);return b["$=~"](new RegExp("^"+
a))},c.$$s=this,c.$$arity=1,c))},Q.$$arity=1);b.def(h,"$join",S=function(a){var c,d,g=w;var h=b.slice.call(arguments,0,arguments.length);if(v(h["$empty?"]()))return"";g="";h=F(h.$flatten().$each_with_index(),"map",[],(c=function(a,b){null==a&&(a=w);null==b&&(b=w);return v(b["$=="](0)?a["$empty?"]():b["$=="](0))?t(G,"SEPARATOR"):v(h.$length()["$=="](p(b,1))?a["$empty?"]():h.$length()["$=="](p(b,1)))?t(G,"SEPARATOR"):a},c.$$s=this,c.$$arity=2,c));h=F(h,"reject",[],"empty?".$to_proc());F(h,"each_with_index",
[],(d=function(a,b){var c;null==a&&(a=w);null==b&&(b=w);b=h["$[]"](p(b,1));if(v(b["$nil?"]()))return g=""+g+a;v(v(c=a["$end_with?"](t(G,"SEPARATOR")))?b["$start_with?"](t(G,"SEPARATOR")):c)&&(a=a.$sub(new RegExp(""+t(G,"SEPARATOR")+"+$"),""));return g=v(v(c=a["$end_with?"](t(G,"SEPARATOR")))?c:b["$start_with?"](t(G,"SEPARATOR")))?""+g+a:""+g+a+t(G,"SEPARATOR")},d.$$s=this,d.$$arity=2,d));return g},S.$$arity=-1);return(b.def(h,"$split",g=function(a){return a.$split(t(G,"SEPARATOR"))},g.$$arity=1),
w)&&"split"}(b.get_singleton_class(y),C)}(C[0],t(C,"IO"),C)};
Opal.modules["corelib/process"]=function(b){var p=[],B=b.nil,C=b.const_get_qualified,w=b.const_get_relative,t=b.klass,h=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(p,$super,F){p=t(p,$super,"Process");var y=[p].concat(F),m,v,P,J;F=B;p.__clocks__=[];b.defs(p,"$__register_clock__",m=function(b,h){null==this.__clocks__&&(this.__clocks__=B);this.$const_set(b,this.__clocks__.$size());return this.__clocks__["$<<"](h)},m.$$arity=2);p.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});F=!1;if(b.global.performance)F=function(){return performance.now()};else if(b.global.process&&process.hrtime){var G=process.hrtime();F=function(){var b=process.hrtime(G);return 1E3*b[0]+(b[1]/1E3|0)/1E3}}h(F)&&p.$__register_clock__("CLOCK_MONOTONIC",F);b.defs(p,"$pid",v=function(){return 0},v.$$arity=0);b.defs(p,"$times",P=function(){var b=w(y,"Time").$now().$to_f();return C(w(y,"Benchmark"),"Tms").$new(b,b,b,b,b)},P.$$arity=0);return(b.defs(p,"$clock_gettime",J=function(b,
m){var k,p;null==this.__clocks__&&(this.__clocks__=B);null==m&&(m="float_second");h(k=p=this.__clocks__["$[]"](b))?k:this.$raise(C(w(y,"Errno"),"EINVAL"),"clock_gettime("+b+") "+this.__clocks__["$[]"](b));b=p();switch(m){case "float_second":return b/1E3;case "float_millisecond":return b/1;case "float_microsecond":return 1E3*b;case "second":return b/1E3|0;case "millisecond":return b/1|0;case "microsecond":return 1E3*b|0;case "nanosecond":return 1E6*b|0;default:this.$raise(w(y,"ArgumentError"),"unexpected unit: "+
m)}},J.$$arity=-2),B)&&"clock_gettime"})(p[0],null,p);(function(h,$super,p){h=t(h,$super,"Signal");[h].concat(p);var w;return(b.defs(h,"$trap",w=function(h){b.slice.call(arguments,0,arguments.length);return B},w.$$arity=-1),B)&&"trap"})(p[0],null,p);return function(h,$super,p){h=t(h,$super,"GC");[h].concat(p);var w;return(b.defs(h,"$start",w=function(){return B},w.$$arity=0),B)&&"start"}(p[0],null,p)};
Opal.modules["corelib/unsupported"]=function(b){function p(h){switch(b.config.unsupported_features_severity){case "error":v(t,"Kernel").$raise(v(t,"NotImplementedError"),h);break;case "warning":y[h]||(y[h]=!0,w.$warn(h))}}var B,C,w=b.top,t=[],h=b.nil,v=b.const_get_relative,l=b.klass,F=b.module;b.add_stubs(["$raise","$warn","$%"]);var y={};(function(m,$super,p){m=l(m,$super,"String");var t=[m].concat(p),w,k,y,B,x,C,a,d,H,r,Q,S,g,c,z,q,V,D,n,f,e,X,E;b.def(m,"$<<",w=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},w.$$arity=-1);b.def(m,"$capitalize!",k=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},k.$$arity=-1);b.def(m,"$chomp!",y=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},y.$$arity=-1);b.def(m,"$chop!",B=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},B.$$arity=-1);b.def(m,"$downcase!",x=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
x.$$arity=-1);b.def(m,"$gsub!",C=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},C.$$arity=-1);b.def(m,"$lstrip!",a=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},a.$$arity=-1);b.def(m,"$next!",d=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},d.$$arity=-1);b.def(m,"$reverse!",H=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},H.$$arity=-1);b.def(m,"$slice!",r=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},r.$$arity=-1);b.def(m,"$squeeze!",Q=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},Q.$$arity=-1);b.def(m,"$strip!",S=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
S.$$arity=-1);b.def(m,"$sub!",g=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},g.$$arity=-1);b.def(m,"$succ!",c=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},c.$$arity=-1);b.def(m,"$swapcase!",z=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},z.$$arity=-1);b.def(m,"$tr!",q=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},q.$$arity=-1);b.def(m,"$tr_s!",V=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},V.$$arity=-1);b.def(m,"$upcase!",D=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},D.$$arity=-1);b.def(m,"$prepend",n=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
n.$$arity=-1);b.def(m,"$[]=",f=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},f.$$arity=-1);b.def(m,"$clear",e=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},e.$$arity=-1);b.def(m,"$encode!",X=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},X.$$arity=-1);return(b.def(m,"$unicode_normalize!",E=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(v(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},E.$$arity=-1),h)&&"unicode_normalize!"})(t[0],null,t);(function(h,l){h=F(h,"Kernel");
[h].concat(l);var m,t;b.def(h,"$freeze",m=function(){p("Object freezing is not supported by Opal");return this},m.$$arity=0);b.def(h,"$frozen?",t=function(){p("Object freezing is not supported by Opal");return!1},t.$$arity=0)})(t[0],t);(function(h,l){h=F(h,"Kernel");[h].concat(l);var m,t,w;b.def(h,"$taint",m=function(){p("Object tainting is not supported by Opal");return this},m.$$arity=0);b.def(h,"$untaint",t=function(){p("Object tainting is not supported by Opal");return this},t.$$arity=0);b.def(h,
"$tainted?",w=function(){p("Object tainting is not supported by Opal");return!1},w.$$arity=0)})(t[0],t);(function(m,$super,t){m=l(m,$super,"Module");[m].concat(t);var p,w,k,y;b.def(m,"$public",p=function(k){0===b.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return h},p.$$arity=-1);b.alias(m,"private","public");b.alias(m,"protected","public");b.alias(m,"nesting","public");b.def(m,"$private_class_method",w=function(h){b.slice.call(arguments,0,arguments.length);return this},
w.$$arity=-1);b.alias(m,"public_class_method","private_class_method");b.def(m,"$private_method_defined?",k=function(b){return!1},k.$$arity=1);b.def(m,"$private_constant",y=function(k){b.slice.call(arguments,0,arguments.length);return h},y.$$arity=-1);b.alias(m,"protected_method_defined?","private_method_defined?");b.alias(m,"public_instance_methods","instance_methods");b.alias(m,"public_instance_method","instance_method");return b.alias(m,"public_method_defined?","method_defined?")})(t[0],null,t);
(function(h,l){h=F(h,"Kernel");[h].concat(l);var m;b.def(h,"$private_methods",m=function(h){b.slice.call(arguments,0,arguments.length);return[]},m.$$arity=-1);b.alias(h,"private_instance_methods","private_methods")})(t[0],t);(function(h,l){h=F(h,"Kernel");var m=[h].concat(l),t;b.def(h,"$eval",t=function(h){b.slice.call(arguments,0,arguments.length);return this.$raise(v(m,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+v(m,
"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},t.$$arity=-1)})(t[0],t);b.defs(w,"$public",B=function(l){b.slice.call(arguments,0,arguments.length);return h},B.$$arity=-1);return(b.defs(w,"$private",C=function(l){b.slice.call(arguments,0,arguments.length);return h},C.$$arity=-1),h)&&"private"};
(function(b){var p=b.top;b.add_stubs(["$require"]);p.$require("opal/base");p.$require("opal/mini");p.$require("corelib/string/encoding");p.$require("corelib/struct");p.$require("corelib/io");p.$require("corelib/main");p.$require("corelib/dir");p.$require("corelib/file");p.$require("corelib/process");return p.$require("corelib/unsupported")})(Opal);
(function(b,p){"object"===typeof module&&module.exports?module.exports=p:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return p(b.config())}):b.Asciidoctor=p})(this,function(b){function p(a,b,k,l,m){var d=Opal.klass(Opal.Object,a,b,function(){}),g,c,z,q={},r;for(r in k)k.hasOwnProperty(r)&&function(a){var b=k[a];"postConstruct"===a?g=b:"initialize"===a?c=b:"constructor"===a?z=b:(l&&l.hasOwnProperty(a)&&(q[a]=!0),Opal.def(d,"$"+a,function(){var c=m&&m.hasOwnProperty(a)?
m[a](arguments):arguments;return b.apply(this,c)}))}(r);var D="function"===typeof z?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=h(a[b]));a.unshift(null);a=new (Function.prototype.bind.apply(z,a));Object.assign(this,a);"function"===typeof g&&g.bind(this)()}:"function"===typeof c?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=h(a[b]));c.apply(this,a);"function"===typeof g&&
g.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",D));"function"===typeof g&&g.bind(this)()};Opal.def(d,"$initialize",D);Opal.def(d,"super",function(a){if("function"===typeof a)Opal.send(this,Opal.find_super_dispatcher(this,a.name,a));else{for(var b=Array.from(arguments),c=0;c<b.length;c++)"object"===typeof b[c]&&(b[c]=t(b[c]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",D),b)}});if(l)for(var n in l)l.hasOwnProperty(n)&&!q.hasOwnProperty(n)&&function(a){var b=
l[a];Opal.def(d,"$"+a,function(){return b.apply(this,arguments)})}(n);return d}function B(a,b){var d=Opal.const_get_qualified(Opal.Logger,"Formatter");return p(d,a,b,{},{call:function(a){for(var b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=h(a[b]));return a}})}function C(a,b){var d=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return p(d,a,b,{},{add:function(a){if(2<=a.length&&"object"===typeof a[2]&&"$$smap"in a[2]){var b=h(a[2]);b.getText=function(){return this.text};
b.getSourceLocation=function(){return this.source_location};b.$inspect=function(){var a=this.getSourceLocation();return a?a.getPath()+": line "+a.getLineNumber()+": "+this.getText():this.getText()};a[2]=b}1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a}})}function w(a,b,h){a=Opal.const_get_qualified(x,a);return p(a,b,h,{"handles?":function(){return!0}})}Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.klass;a.add_stubs(["$new"]);
return function(b,$super,c){b=l(b,$super,"File");var d=[b].concat(c),q;return(a.defs(b,"$read",q=function(a){var b="",c=-1;try{var f=new XMLHttpRequest;f.open("GET",a,!1);f.addEventListener("load",function(){c=this.status;if(0===c||200===c)b=this.responseText});f.overrideMimeType("text/plain");f.send()}catch(e){throw k(d,"IOError").$new("Error reading file or directory: "+a+"; reason: "+e.message);}if(404===c||0===c&&!b)throw k(d,"IOError").$new("No such file or directory: "+a);return b},q.$$arity=
1),h)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/browser"]=function(a){var d=a.top,h=[];a.add_stubs(["$require"]);if("object"===typeof b&&"object"===typeof b.runtime){var k=b.runtime;var l=k.platform;var m=k.engine;var g=k.framework;k=k.ioModule}l=l||"browser";m=m||"";g=g||"";a.const_set(h[0],"JAVASCRIPT_IO_MODULE",k||"xmlhttprequest");a.const_set(h[0],"JAVASCRIPT_PLATFORM",l);a.const_set(h[0],"JAVASCRIPT_ENGINE",m);a.const_set(h[0],"JAVASCRIPT_FRAMEWORK",g);return d.$require("asciidoctor/js/opal_ext/browser/file")};
Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(a){var b=[],h=a.nil,k=a.const_get_qualified,l=a.const_get_relative,m=a.module,g=a.klass,c=a.hash2,z=a.truthy;a.add_stubs("$uriish? $[] $web_path $path_resolver $descends_from? $base_dir $attr? $join $prepare_source_string $read $fetch $warn $logger $normalize_system_path $read_asset".split(" "));return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,f){b=g(b,$super,"AbstractNode");var e=[b].concat(f),d,
q;b.$$prototype.document=h;a.def(b,"$read_contents",d=function(b,f){var d,g,q,m=h;null==f&&(f=c([],{}));var D=this.document;if(z(z(d=l(e,"Helpers")["$uriish?"](b))?d:z(g=z(q=m=f["$[]"]("start"))?l(e,"Helpers")["$uriish?"](m):q)?b=D.$path_resolver().$web_path(b,m):g))if(z(z(d=D.$path_resolver()["$descends_from?"](b,D.$base_dir()))?d:D["$attr?"]("allow-uri-read")))try{return z(f["$[]"]("normalize"))?l(e,"Helpers").$prepare_source_string(k("::","File").$read(b)).$join(l(e,"LF")):k("::","File").$read(b)}catch(ma){if(a.rescue(ma,
[l(e,"StandardError")]))try{return z(f.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(z(d=f["$[]"]("label"))?d:"asset")+" at URI: "+b),h}finally{a.pop_exception()}else throw ma;}else return z(f.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(z(d=f["$[]"]("label"))?d:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),h;else return b=this.$normalize_system_path(b,f["$[]"]("start"),h,c(["target_name"],{target_name:z(d=
f["$[]"]("label"))?d:"asset"})),this.$read_asset(b,c(["normalize","warn_on_failure","label"],{normalize:f["$[]"]("normalize"),warn_on_failure:f.$fetch("warn_on_failure",!0),label:f["$[]"]("label")}))},d.$$arity=-2);return(a.def(b,"$generate_data_uri_from_uri",q=function(a,b){null==b&&(b=!1);var c="",e="",f=-1;try{var d=new XMLHttpRequest;d.open("GET",a,!1);d.overrideMimeType("text/plain; charset=x-user-defined");d.addEventListener("load",function(){f=this.status;if(0===f||200===f){for(var a="",b=
this.responseText,d=0,g=b.length;d<g;++d){var h=b.charCodeAt(d)&255;a+=String.fromCharCode(h)}e=btoa(a);c=this.getResponseHeader("content-type")}});d.send(null);if(!c)if(a.endsWith(".jpeg")||a.endsWith(".jpg")||a.endsWith(".jpe"))c="image/jpg";else if(a.endsWith(".png"))c="image/png";else if(a.endsWith(".svg"))c="image/svg+xml";else if(a.endsWith(".bmp"))c="image/bmp";else if(a.endsWith(".tif")||a.endsWith(".tiff"))c="image/tiff"}catch(fa){f=0}return 404!==f&&(0!==f||e&&c)?"data:"+c+";base64,"+e:
(this.$logger().$warn("could not retrieve image data from URI: "+a),a)},q.$$arity=-2),h)&&"generate_data_uri_from_uri"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.module,m=a.send;a.add_stubs(["$new","$path"]);return function(b,c){var d=[l(b,"OpenURI")].concat(c),g;a.defs(k(d,"OpenURI"),"$open_uri",g=function(b,c){var n,f=(n=g.$$p)||h;n&&(g.$$p=null);n=a.slice.call(arguments,1,arguments.length);n=m(k(d,
"File"),"new",[this.$path()].concat(a.to_a(n)));return f!==h?a.yield1(f,n):n},g.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.module,m=a.klass,g=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,c){b=m(b,
$super,"PreprocessorReader");var d=[b].concat(c),f;b.$$prototype.path_resolver=b.$$prototype.document=b.$$prototype.include_stack=b.$$prototype.dir=h;return(a.def(b,"$resolve_include_path",f=function(a,b,c){var e,f,n;c=h;var q=(this.path_resolver=g(e=this.path_resolver)?e:k(d,"PathResolver").$new("\\")).$posixify(a);e=["file",this.document.$base_dir()];var u=e[1];e;if(g(q["$start_with?"]("file://")))a=b=q;else if(g(k(d,"Helpers")["$uriish?"](q))){if(!g(g(e=this.path_resolver["$descends_from?"](q,
u))?e:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");a=b=q}else if(g(this.path_resolver["$absolute_path?"](q)))a=b="file://"+(g(q["$start_with?"]("/"))?"":"/")+q;else if((f=g(n=this.include_stack["$empty?"]())?u:this.dir)["$=="]("."))a=b=q;else if(g(g(e=f["$start_with?"]("file://"))?e:k(d,"Helpers")["$uriish?"](f)["$!"]()))a=""+f+"/"+q,b=g(n)?q:g(g(e=u["$=="]("."))?e:(c=this.path_resolver["$descends_from?"](a,u))["$!"]())?a:a.$slice(c,a.$length());
else if(g(n))a=""+f+"/"+(b=q);else if(g(g(e=c=this.path_resolver["$descends_from?"](f,u))?e:this.document.$attributes()["$key?"]("allow-uri-read")))a=""+f+"/"+q,b=g(c)?a.$slice(c,a.$length()):q;else return this.$replace_next_line("link:"+a+"["+b+"]");return[a,"file",b]},f.$$arity=3),h)&&"resolve_include_path"})(b[0],k(b,"Reader"),b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(a){var b=a.top,h=a.nil,k=a.const_get_relative;a.add_stubs(["$==","$require"]);return k([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?
(b.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),b.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),b.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):h};Opal.modules.set=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var l=[],m=a.nil,g=a.const_get_relative,c=
a.klass,z=a.hash2,q=a.truthy,t=a.send,D=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(d,$super,e){d=c(d,$super,"Set");var n=[d].concat(e),l,D,r,N,H,u,p,S,Q,V,w,y,x,B,C,aa,F,ca,ta,Aa,da,Z,v,G,I,J,oa,Y;d.$$prototype.hash=
m;d.$include(g(n,"Enumerable"));a.defs(d,"$[]",l=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$new(c)},l.$$arity=-1);a.def(d,"$initialize",D=function(b){var c=D.$$p,e=c||m,d;c&&(D.$$p=null);c&&(D.$$p=null);null==b&&(b=m);this.hash=z([],{});if(q(b["$nil?"]()))return m;q(g(n,"Enumerable")["$==="](b))||this.$raise(g(n,"ArgumentError"),"value must be enumerable");return q(e)?t(b,"each",[],(d=function(b){var c=d.$$s||this;null==b&&(b=m);return c.$add(a.yield1(e,b))},d.$$s=this,
d.$$arity=1,d)):this.$merge(b)},D.$$arity=-1);a.def(d,"$dup",r=function(){return this.$class().$new().$merge(this)},r.$$arity=0);a.def(d,"$-",N=function(a){q(a["$respond_to?"]("each"))||this.$raise(g(n,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},N.$$arity=1);a.alias(d,"difference","-");a.def(d,"$inspect",H=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},H.$$arity=0);a.def(d,"$==",u=function(a){var b,c;return q(this["$equal?"](a))?!0:q(a["$instance_of?"](this.$class()))?
this.hash["$=="](a.$instance_variable_get("@hash")):q(q(b=a["$is_a?"](g(n,"Set")))?this.$size()["$=="](a.$size()):b)?t(a,"all?",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=m);null==a&&(a=m);return b.hash["$include?"](a)},c.$$s=this,c.$$arity=1,c)):!1},u.$$arity=1);a.def(d,"$add",p=function(c){c=[c,!0];t(this.hash,"[]=",a.to_a(c));c[b(c.length,1)];return this},p.$$arity=1);a.alias(d,"<<","add");a.def(d,"$classify",S=function(){var c=S.$$p,e=c||m,d,h,q=m;c&&(S.$$p=null);c&&(S.$$p=null);
if(e===m)return this.$enum_for("classify");q=t(g(n,"Hash"),"new",[],(d=function(c,e){var g=d.$$s||this;null==c&&(c=m);null==e&&(e=m);e=[e,g.$class().$new()];t(c,"[]=",a.to_a(e));return e[b(e.length,1)]},d.$$s=this,d.$$arity=2,d));t(this,"each",[],(h=function(b){null==b&&(b=m);return q["$[]"](a.yield1(e,b)).$add(b)},h.$$s=this,h.$$arity=1,h));return q},S.$$arity=0);a.def(d,"$collect!",Q=function(){var b=Q.$$p,c=b||m,e,d=m;b&&(Q.$$p=null);b&&(Q.$$p=null);if(c===m)return this.$enum_for("collect!");d=
this.$class().$new();t(this,"each",[],(e=function(b){null==b&&(b=m);return d["$<<"](a.yield1(c,b))},e.$$s=this,e.$$arity=1,e));return this.$replace(d)},Q.$$arity=0);a.alias(d,"map!","collect!");a.def(d,"$delete",V=function(a){this.hash.$delete(a);return this},V.$$arity=1);a.def(d,"$delete?",w=function(a){return q(this["$include?"](a))?(this.$delete(a),this):m},w.$$arity=1);a.def(d,"$delete_if",y=function(){var b,c,e=y.$$p,d=e||m;e&&(y.$$p=null);if(d===m)return this.$enum_for("delete_if");t(t(this,
"select",[],(b=function(b){null==b&&(b=m);return a.yield1(d,b)},b.$$s=this,b.$$arity=1,b)),"each",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=m);null==a&&(a=m);return b.hash.$delete(a)},c.$$s=this,c.$$arity=1,c));return this},y.$$arity=0);a.def(d,"$add?",x=function(a){return q(this["$include?"](a))?m:this.$add(a)},x.$$arity=1);a.def(d,"$each",B=function(){var a=B.$$p,b=a||m;a&&(B.$$p=null);a&&(B.$$p=null);if(b===m)return this.$enum_for("each");t(this.hash,"each_key",[],b.$to_proc());
return this},B.$$arity=0);a.def(d,"$empty?",C=function(){return this.hash["$empty?"]()},C.$$arity=0);a.def(d,"$eql?",aa=function(a){var b;return this.hash["$eql?"](t(a,"instance_eval",[],(b=function(){var a=b.$$s||this;null==a.hash&&(a.hash=m);return a.hash},b.$$s=this,b.$$arity=0,b)))},aa.$$arity=1);a.def(d,"$clear",F=function(){this.hash.$clear();return this},F.$$arity=0);a.def(d,"$include?",ca=function(a){return this.hash["$include?"](a)},ca.$$arity=1);a.alias(d,"member?","include?");a.def(d,"$merge",
ta=function(a){var b;t(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=m);return c.$add(a)},b.$$s=this,b.$$arity=1,b));return this},ta.$$arity=1);a.def(d,"$replace",Aa=function(a){this.$clear();this.$merge(a);return this},Aa.$$arity=1);a.def(d,"$size",da=function(){return this.hash.$size()},da.$$arity=0);a.alias(d,"length","size");a.def(d,"$subtract",Z=function(a){var b;t(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=m);return c.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},
Z.$$arity=1);a.def(d,"$|",v=function(a){q(a["$respond_to?"]("each"))||this.$raise(g(n,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},v.$$arity=1);a.def(d,"$superset?",G=function(a){var b,c;q(b=a["$is_a?"](g(n,"Set")))?b:this.$raise(g(n,"ArgumentError"),"value must be a set");return q(h(this.$size(),a.$size()))?!1:t(a,"all?",[],(c=function(a){var b=c.$$s||this;null==a&&(a=m);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},G.$$arity=1);a.alias(d,">=","superset?");a.def(d,
"$proper_superset?",I=function(a){var b,c;q(b=a["$is_a?"](g(n,"Set")))?b:this.$raise(g(n,"ArgumentError"),"value must be a set");return q(k(this.$size(),a.$size()))?!1:t(a,"all?",[],(c=function(a){var b=c.$$s||this;null==a&&(a=m);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},I.$$arity=1);a.alias(d,">","proper_superset?");a.def(d,"$subset?",J=function(a){var b,c;q(b=a["$is_a?"](g(n,"Set")))?b:this.$raise(g(n,"ArgumentError"),"value must be a set");return q(h(a.$size(),this.$size()))?!1:t(this,
"all?",[],(c=function(b){null==b&&(b=m);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c))},J.$$arity=1);a.alias(d,"<=","subset?");a.def(d,"$proper_subset?",oa=function(a){var b,c;q(b=a["$is_a?"](g(n,"Set")))?b:this.$raise(g(n,"ArgumentError"),"value must be a set");return q(k(a.$size(),this.$size()))?!1:t(this,"all?",[],(c=function(b){null==b&&(b=m);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c))},oa.$$arity=1);a.alias(d,"<","proper_subset?");a.alias(d,"+","|");a.alias(d,"union","|");return(a.def(d,
"$to_a",Y=function(){return this.hash.$keys()},Y.$$arity=0),m)&&"to_a"})(l[0],null,l);return function(b,c){b=D(b,"Enumerable");var e=[b].concat(c),f;a.def(b,"$to_set",f=function(b,c){var d=f.$$p,h=d||m;d&&(f.$$p=null);d&&(f.$$p=null);d=a.slice.call(arguments,0,arguments.length);if(0<d.length){var n=d[0];d.splice(0,1)}null==n&&(n=g(e,"Set"));return t(n,"new",[this].concat(a.to_a(d)),h.$to_proc())},f.$$arity=-1)}(l[0],l)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],h=a.nil,k=
a.const_get_relative,l=a.module,m=a.send;a.add_stubs(["$new"]);return function(b,c){b=l(b,"Kernel");var d=[b].concat(c),g,r;a.def(b,"$open",g=function(b,c){var f,e=(f=g.$$p)||h;f&&(g.$$p=null);f=a.slice.call(arguments,1,arguments.length);f=m(k(d,"File"),"new",[b].concat(a.to_a(f)));return e!==h?a.yield1(e,f):f},g.$$arity=-2);a.def(b,"$__dir__",r=function(){return""},r.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.klass,m=
a.truthy,g=a.gvars;a.add_stubs("$attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(b,$super,d){b=l(b,$super,"File");var c=[b].concat(d),q,n,f,e;b.$$prototype.eof=b.$$prototype.path=h;b.$attr_reader("eof");b.$attr_reader("lineno");b.$attr_reader("path");a.def(b,"$initialize",q=function(a,b){null==b&&(b="r");this.path=a;this.contents=h;this.eof=!1;this.lineno=0;b=b.$delete("b");return this.flags=b=b.$gsub(/:(.*)/,"")},q.$$arity=-2);a.def(b,"$read",
n=function(){if(m(this.eof))return"";var a=k(c,"File").$read(this.path);this.eof=!0;this.lineno=a.$size();return a},n.$$arity=0);a.def(b,"$each_line",f=function(b){var e=f.$$p,d=e||h;null==g["/"]&&(g["/"]=h);e&&(f.$$p=null);e&&(f.$$p=null);null==b&&(b=g["/"]);if(m(this.eof))return d!==h?this:[].$to_enum();if(d!==h){e=k(c,"File").$read(this.path);this.eof=!1;this.lineno=0;var n=e.$chomp();e=e.length!=n.length;n=n.split(b);for(var q=0,l=n.length;q<l;q++)this.lineno+=1,q<l-1||e?a.yield1(d,n[q]+b):a.yield1(d,
n[q]);this.eof=!0;return this}return this.$read().$each_line()},f.$$arity=-1);a.def(b,"$readlines",e=function(){return k(c,"File").$readlines(this.path)},e.$$arity=0);return function(b,c){var e=[b].concat(c),f,d,n,q;a.def(b,"$readlines",f=function(a,b){null==g["/"]&&(g["/"]=h);null==b&&(b=g["/"]);return k(e,"File").$read(a).$split(b)},f.$$arity=-2);a.def(b,"$file?",d=function(a){return!0},d.$$arity=1);a.def(b,"$readable?",n=function(a){return!0},n.$$arity=1);return(a.def(b,"$read",q=function(a){return""},
q.$$arity=1),h)&&"read"}(a.get_singleton_class(b),c)})(b[0],null,b);return function(b,$super,d){b=l(b,$super,"IO");var c=[b].concat(d),g;return(a.defs(b,"$read",g=function(a){return k(c,"File").$read(a)},g.$$arity=1),h)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],h=a.nil,k=a.klass,l=a.send;a.add_stubs(["$[]=","$-"]);return function(b,$super,c){b=k(b,$super,"MatchData");[b].concat(c);var d;b.$$prototype.matches=h;return(a.def(b,"$[]=",d=function(b,
c){b=[b,c];l(this.matches,"[]=",a.to_a(b));c=b.length;c="number"===typeof c?c-1:c["$-"](1);return b[c]},d.$$arity=2),h)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],h=a.nil,k=a.klass,l=a.truthy,m=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));return function(b,$super,d){b=k(b,$super,"String");[b].concat(d);var g,z;l(b["$method_defined?"]("limit_bytesize"))||a.def(b,
"$limit_bytesize",g=function(a){var b=this.$bytes().$length();b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);return l(b)?this.$byteslice(0,a).$to_s():this.$to_s()},g.$$arity=1);l(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_unpack","unpack");return(a.def(b,"$unpack",z=function(a){var b;return a["$=="]("C3")?m(this["$[]"](0,3).$bytes().$select(),"with_index",[],(b=function(a,b){null==b&&(b=h);return b["$even?"]()},b.$$s=this,b.$$arity=2,b)):this.$_original_unpack(a)},
z.$$arity=1),h)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var b=[],h=a.const_get_relative,k=a.module;a.add_stubs(["$extend"]);return function(b,d){b=k(b,"URI");var g=[b].concat(d),c,l;a.defs(b,"$parse",c=function(a){return a.$extend(h(g,"URI"))},c.$$arity=1);a.def(b,"$path",l=function(){return this},l.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/base64"]=function(a){var b=[],h=a.module,k=a.hash2,l=a.truthy;a.add_stubs(["$delete"]);return function(b,
d){b=h(b,"Base64");[b].concat(d);var c,g,q,m,D,n;var f=a.global.btoa||function(a){return(a instanceof Buffer?a:Buffer.from(a.toString(),"binary")).toString("base64")};var e=a.global.atob||function(a){return Buffer.from(a,"base64").toString("binary")};a.defs(b,"$decode64",c=function(a){return e(a.replace(/\r?\n/g,""))},c.$$arity=1);a.defs(b,"$encode64",g=function(a){return f(a).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},g.$$arity=1);a.defs(b,"$strict_decode64",q=function(a){return e(a)},
q.$$arity=1);a.defs(b,"$strict_encode64",m=function(a){return f(a)},m.$$arity=1);a.defs(b,"$urlsafe_decode64",D=function(a){return e(a.replace(/\-/g,"+").replace(/_/g,"/"))},D.$$arity=1);a.defs(b,"$urlsafe_encode64",n=function(b,c){if(null==c)c=k([],{});else if(!c.$$is_hash)throw a.ArgumentError.$new("expected kwargs");c=c.$$smap.padding;null==c&&(c=!0);b=f(b).replace(/\+/g,"-").replace(/\//g,"_");l(c)||(b=b.$delete("="));return b},n.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/number"]=
function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.klass,m=a.truthy;a.add_stubs(["$coerce_to!","$>"]);return function(b,$super,d){b=l(b,$super,"Number");var g=[b].concat(d),z;return(a.def(b,"$round",z=function(a){a=k(g,"Opal")["$coerce_to!"](a,k(g,"Integer"),"to_int");return m("number"===typeof a?0<a:a["$>"](0))?Number(this.toFixed(a)):Math.round(this)},z.$$arity=-1),h)&&"round"}(b[0],k(b,"Numeric"),b)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);
b.$require("asciidoctor/js/opal_ext/kernel");b.$require("asciidoctor/js/opal_ext/file");b.$require("asciidoctor/js/opal_ext/match_data");b.$require("asciidoctor/js/opal_ext/string");b.$require("asciidoctor/js/opal_ext/uri");b.$require("asciidoctor/js/opal_ext/base64");b.$require("asciidoctor/js/opal_ext/number");a.config.unsupported_features_severity="ignore";b.$require("asciidoctor/js/opal_ext/browser")};Opal.modules["asciidoctor/js/rx"]=function(a){function b(a,b){return"number"===typeof a&&"number"===
typeof b?a+b:a["$+"](b)}var h=[],k=a.nil,l=a.const_get_relative,m=a.module,g=a.send,c=a.gvars,z=a.truthy;a.add_stubs(["$gsub","$+","$unpack_hex_range"]);return function(d,h){d=m(d,"Asciidoctor");var q=[d].concat(h),n;a.const_set(q[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(d,"$unpack_hex_range",n=function(a){var b;return g(a,"gsub",[l(q,"HEX_RANGE_RX")],(b=function(){var a,b;return"\\u"+((a=c["~"])===k?k:a["$[]"](1))+(z(a=(b=c["~"])===k?k:b["$[]"](2))?"-\\u"+((b=c["~"])===k?k:b["$[]"](2)):
a)},b.$$s=this,b.$$arity=0,b))},n.$$arity=1);a.const_set(q[0],"P_L",b("A-Za-z",d.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(q[0],"P_Nl",d.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(q[0],"P_Nd",b("0-9",d.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(q[0],
"P_Pc",d.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(q[0],"CC_ALPHA",""+l(q,"P_L")+l(q,"P_Nl"));a.const_set(q[0],"CG_ALPHA","["+l(q,"CC_ALPHA")+"]");a.const_set(q[0],"CC_ALNUM",""+l(q,"CC_ALPHA")+l(q,"P_Nd"));a.const_set(q[0],"CG_ALNUM","["+l(q,"CC_ALNUM")+"]");a.const_set(q[0],"CC_WORD",""+l(q,"CC_ALNUM")+l(q,"P_Pc"));a.const_set(q[0],"CG_WORD","["+l(q,"CC_WORD")+"]");a.const_set(q[0],"CG_BLANK","[ \\t]");a.const_set(q[0],"CC_EOL","(?=\\n|$)");a.const_set(q[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(q[0],"CC_ALL","[\\s\\S]");a.const_set(q[0],"CC_ANY","[^\\n]")}(h[0],h)};Opal.modules.strscan=function(a){var b=[],h=a.nil,k=a.klass,l=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,c){b=k(b,$super,"StringScanner");[b].concat(c);var d,q,m,t,n,f,e,r,E,p,L,N,H,u,Q,S,w,y,U,x,B,C,F,aa,xa;b.$$prototype.pos=b.$$prototype.string=b.$$prototype.working=b.$$prototype.matched=b.$$prototype.prev_pos=
b.$$prototype.match=h;b.$attr_reader("pos");b.$attr_reader("matched");a.def(b,"$initialize",d=function(a){this.string=a;this.pos=0;this.matched=h;this.working=a;return this.match=[]},d.$$arity=1);b.$attr_reader("string");a.def(b,"$beginning_of_line?",q=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},q.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.def(b,"$scan",m=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:"object"===typeof a?(this.prev_pos=
this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):h},m.$$arity=1);a.def(b,"$scan_until",t=function(a){a=this.$anchor(a);for(var b=this.pos,c=this.working,e;;)if(e=a.exec(c),b+=1,c=c.substr(1),null==e){if(0===c.length)return this.matched=h}else return this.matched=this.string.substr(this.pos,b-this.pos-1+e[0].length),this.prev_pos=b-1,this.pos=
b,this.working=c.substr(e[0].length),this.matched},t.$$arity=1);a.def(b,"$[]",n=function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?h:b[a]},n.$$arity=1);a.def(b,"$check",f=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:this.matched=a[0]},f.$$arity=1);a.def(b,"$check_until",e=function(a){var b=this.prev_pos,c=this.pos;a=this.$scan_until(a);a!==h&&(this.matched=a.substr(-1),this.working=this.string.substr(c));this.prev_pos=b;this.pos=
c;return a},e.$$arity=1);a.def(b,"$peek",r=function(a){return this.working.substring(0,a)},r.$$arity=1);a.def(b,"$eos?",E=function(){return 0===this.working.length},E.$$arity=0);a.def(b,"$exist?",p=function(a){a=a.exec(this.working);return null==a?h:0==a.index?0:a.index+1},p.$$arity=1);a.def(b,"$skip",L=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=h;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);
return b},L.$$arity=1);a.def(b,"$skip_until",N=function(a){a=this.$scan_until(a);if(a===h)return h;this.matched=a.substr(-1);return a.length},N.$$arity=1);a.def(b,"$get_byte",H=function(){var a=h;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=h;return a},H.$$arity=0);a.alias(b,"getch","get_byte");a.def(b,"$match?",u=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return h;
this.prev_pos=this.pos;return a[0].length},u.$$arity=1);a.def(b,"$pos=",Q=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},Q.$$arity=1);a.def(b,"$matched_size",S=function(){return this.matched===h?h:this.matched.length},S.$$arity=0);a.def(b,"$post_match",w=function(){return this.matched===h?h:this.string.substr(this.pos)},w.$$arity=0);a.def(b,"$pre_match",y=function(){return this.matched===h?h:this.string.substr(0,this.prev_pos)},y.$$arity=0);a.def(b,
"$reset",U=function(){this.working=this.string;this.matched=h;return this.pos=0},U.$$arity=0);a.def(b,"$rest",x=function(){return this.working},x.$$arity=0);a.def(b,"$rest?",B=function(){return 0!==this.working.length},B.$$arity=0);a.def(b,"$rest_size",C=function(){return this.$rest().$size()},C.$$arity=0);a.def(b,"$terminate",F=function(){this.match=h;var b=[this.string.$length()];l(this,"pos=",a.to_a(b));var c=b.length;c="number"===typeof c?c-1:c["$-"](1);return b[c]},F.$$arity=0);a.def(b,"$unscan",
aa=function(){this.pos=this.prev_pos;this.match=this.prev_pos=h;return this},aa.$$arity=0);b.$private();return(a.def(b,"$anchor",xa=function(a){var b=a.toString().match(/\/([^\/]+)$/);b=b?b[1]:void 0;return new RegExp("^(?:"+a.source+")",b)},xa.$$arity=1),h)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");b.$require("asciidoctor/js/rx");return b.$require("strscan")};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=
function(a){var b=[],h=a.nil,k=a.klass,l=a.truthy;a.add_stubs(["$method_defined?"]);(function(b,$super,c){b=k(b,$super,"NilClass");[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","nil?")})(b[0],null,b);(function(b,$super,c){b=k(b,$super,"String");[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){b=k(b,$super,"Array");[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?
h:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){b=k(b,$super,"Hash");[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,c){b=k(b,$super,"Numeric");[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/hash/merge"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?
a<b:a["$<"](b)}var h,k=a.top,l=[],m=a.nil,g=a.const_get_relative,c=a.send,z=a.truthy,q=a.hash2;a.add_stubs("$== $arity $instance_method $send $new $< $length $> $inject $merge $[]".split(" "));return g(l,"Hash").$instance_method("merge").$arity()["$=="](1)?g(l,"Hash").$send("prepend",c(g(l,"Module"),"new",[],(h=function(){var d;return(a.def(h.$$s||this,"$merge",d=function(g){var h,f=m;d.$$p&&(d.$$p=null);var e=a.slice.call(arguments,0,arguments.length);return z(b(f=e.$length(),1))?c(this,a.find_super_dispatcher(this,
"merge",d,!1),[q([],{})],null):z("number"===typeof f?1<f:f["$>"](1))?c(e,"inject",[this],(h=function(a,b){null==a&&(a=m);null==b&&(b=m);return a.$merge(b)},h.$$s=this,h.$$arity=2,h)):c(this,a.find_super_dispatcher(this,"merge",d,!1),[e["$[]"](0)],null)},d.$$arity=-1),m)&&"merge"},h.$$s=k,h.$$arity=0,h))):m};Opal.modules["asciidoctor/core_ext/match_data/names"]=function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.truthy,m=a.klass;a.add_stubs(["$method_defined?"]);return l(k(b,"MatchData")["$method_defined?"]("names"))?
h:function(b,$super,d){b=m(b,$super,"MatchData");[b].concat(d);var g;return(a.def(b,"$names",g=function(){return[]},g.$$arity=0),h)&&"names"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,h=a.nil,k=a.const_get_relative;a.add_stubs(["$=="]);b.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty");b.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge");return k([],"RUBY_ENGINE")["$=="]("opal")?b.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):
h};Opal.modules["asciidoctor/helpers"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,m=a.const_get_qualified,g=a.const_get_relative,c=a.module,z=a.truthy,q=a.gvars,t=a.send,D=a.hash2;a.add_stubs("$require $include? $include $== $=== $path $message $raise $warn $logger $chomp $empty? $slice $unpack $[] $byteslice $bytesize $[]= $- $map $rstrip $encode $encoding $nil_or_empty? $!= $tap $each_line $<< $match? $=~ $gsub $rindex $index $basename $extname $! $length $directory? $dirname $mkdir_p $mkdir $join $divmod $* $+ $to_i $to_s $chr $ord $class_for_name $const_get".split(" "));
return function(d,f){d=[c(d,"Asciidoctor")].concat(f);(function(e,f){e=c(e,"Helpers");var d=[e].concat(f),n,k,N,r,u,p,H,w,X,Q,y,S,V,x,B,C,F;a.defs(e,"$require_library",n=function(b,c,e){var f=l,h=l;null==q["!"]&&(q["!"]=l);null==c&&(c=!0);null==e&&(e="abort");try{return this.$require(b)}catch(ua){if(a.rescue(ua,[m("::","LoadError")]))try{return z(this["$include?"](g(d,"Logging")))||this.$include(g(d,"Logging")),z(c)?(c["$=="](!0)&&(c=b),f=e,"abort"["$==="](f)?(h=q["!"].$path()["$=="](c)?"":" (reason: "+
(z(q["!"].$path())?"cannot load '"+q["!"].$path()+"'":q["!"].$message())+")",this.$raise(m("::","LoadError"),"asciidoctor: FAILED: required gem '"+c+"' is not available"+h+". Processing aborted.")):"warn"["$==="](f)&&(h=q["!"].$path()["$=="](c)?"":" (reason: "+(z(q["!"].$path())?"cannot load '"+q["!"].$path()+"'":q["!"].$message())+")",this.$logger().$warn("optional gem '"+c+"' is not available"+h+". Functionality disabled."))):(f=e,"abort"["$==="](f)?this.$raise(m("::","LoadError"),"asciidoctor: FAILED: "+
q["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](f)&&this.$logger().$warn(""+q["!"].$message().$chomp(".")+". Functionality disabled.")),l}finally{a.pop_exception()}else throw ua;}},n.$$arity=-2);a.defs(e,"$prepare_source_array",k=function(c){var e,f,h,n,q=l,u=l,k=l;q=l;if(z(c["$empty?"]()))return[];if((q=(u=(k=c["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="](g(d,"BOM_BYTES_UTF_16LE")))return q=[0,k.$byteslice(2,k.$bytesize())],t(c,"[]=",a.to_a(q)),q[b(q.length,1)],t(c,"map",[],
(e=function(a){null==a&&(a=l);return a.$encode(g(d,"UTF_8"),m(m("::","Encoding"),"UTF_16LE")).$rstrip()},e.$$s=this,e.$$arity=1,e));if(q["$=="](g(d,"BOM_BYTES_UTF_16BE")))return q=[0,k.$byteslice(2,k.$bytesize())],t(c,"[]=",a.to_a(q)),q[b(q.length,1)],t(c,"map",[],(f=function(a){null==a&&(a=l);return a.$encode(g(d,"UTF_8"),m(m("::","Encoding"),"UTF_16BE")).$rstrip()},f.$$s=this,f.$$arity=1,f));u["$=="](g(d,"BOM_BYTES_UTF_8"))&&(q=[0,k.$byteslice(3,k.$bytesize())],t(c,"[]=",a.to_a(q)),q[b(q.length,
1)]);return k.$encoding()["$=="](g(d,"UTF_8"))?t(c,"map",[],(h=function(a){null==a&&(a=l);return a.$rstrip()},h.$$s=this,h.$$arity=1,h)):t(c,"map",[],(n=function(a){null==a&&(a=l);return a.$encode(g(d,"UTF_8")).$rstrip()},n.$$s=this,n.$$arity=1,n))},k.$$arity=1);a.defs(e,"$prepare_source_string",N=function(a){var b,c=l,e=l;if(z(a["$nil_or_empty?"]()))return[];(c=(e=a.$unpack("C3")).$slice(0,2))["$=="](g(d,"BOM_BYTES_UTF_16LE"))?a=a.$byteslice(2,a.$bytesize()).$encode(g(d,"UTF_8"),m(m("::","Encoding"),
"UTF_16LE")):c["$=="](g(d,"BOM_BYTES_UTF_16BE"))?a=a.$byteslice(2,a.$bytesize()).$encode(g(d,"UTF_8"),m(m("::","Encoding"),"UTF_16BE")):e["$=="](g(d,"BOM_BYTES_UTF_8"))?(a=a.$byteslice(3,a.$bytesize()),a.$encoding()["$=="](g(d,"UTF_8"))||(a=a.$encode(g(d,"UTF_8")))):z(a.$encoding()["$!="](g(d,"UTF_8")))&&(a=a.$encode(g(d,"UTF_8")));return t([],"tap",[],(b=function(c){var e=b.$$s||this,f;null==c&&(c=l);return t(a,"each_line",[],(f=function(a){null==a&&(a=l);return c["$<<"](a.$rstrip())},f.$$s=e,f.$$arity=
1,f))},b.$$s=this,b.$$arity=1,b))},N.$$arity=1);a.defs(e,"$uriish?",r=function(a){var b;return z(b=a["$include?"](":"))?g(d,"UriSniffRx")["$match?"](a):b},r.$$arity=1);a.defs(e,"$uri_prefix",u=function(a){var b;return z(z(b=a["$include?"](":"))?g(d,"UriSniffRx")["$=~"](a):b)?(b=q["~"])===l?l:b["$[]"](0):l},u.$$arity=1);g(d,"RUBY_ENGINE")["$=="]("opal")?a.defs(e,"$encode_uri_component",p=function(a){return encodeURIComponent(a).replace(/%20|[!'()*]/g,function(a){return"%20"===a?"+":"%"+a.charCodeAt(0).toString(16)})},
p.$$arity=1):l;a.defs(e,"$encode_uri",H=function(a){return z(a["$include?"](" "))?a.$gsub(" ","%20"):a},H.$$arity=1);a.defs(e,"$rootname",w=function(a){var b;return z(b=a.$rindex("."))?z(a.$index("/",b))?a:a.$slice(0,b):a},w.$$arity=1);a.defs(e,"$basename",X=function(a,b){null==b&&(b=l);return z(b)?m("::","File").$basename(a,b["$=="](!0)?this.$extname(a):b):m("::","File").$basename(a)},X.$$arity=-2);a.defs(e,"$extname?",Q=function(a){var b,c=l;return z(b=c=a.$rindex("."))?a.$index("/",c)["$!"]():
b},Q.$$arity=1);z(m(m("::","File"),"ALT_SEPARATOR"))?a.defs(e,"$extname",y=function(a,b){var c,e;null==b&&(b="");return z(e=a.$rindex("."))?z(z(c=a.$index("/",e))?c:a.$index(m(m("::","File"),"ALT_SEPARATOR"),e))?b:a.$slice(e,a.$length()):b},y.$$arity=-2):a.defs(e,"$extname",S=function(a,b){var c;null==b&&(b="");return z(c=a.$rindex("."))?z(a.$index("/",c))?b:a.$slice(c,a.$length()):b},S.$$arity=-2);a.defs(e,"$mkdir_p",V=function(b){var c;if(z(m("::","File")["$directory?"](b)))return l;(c=m("::","File").$dirname(b))["$=="](".")||
this.$mkdir_p(c);try{return m("::","Dir").$mkdir(b)}catch(da){if(a.rescue(da,[m("::","SystemCallError")]))try{return z(m("::","File")["$directory?"](b))?l:this.$raise()}finally{a.pop_exception()}else throw da;}},V.$$arity=1);a.const_set(d[0],"ROMAN_NUMERALS",D("M CM D CD C XC L XL X IX V IV I".split(" "),{M:1E3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}));a.defs(e,"$int_to_roman",x=function(b){var c;return t(g(d,"ROMAN_NUMERALS"),"map",[],(c=function(c,e){null==c&&(c=l);null==
e&&(e=l);var f=b.$divmod(e);e=a.to_ary(f);var d=null==e[0]?l:e[0];b=null==e[1]?l:e[1];f;return"number"===typeof c&&"number"===typeof d?c*d:c["$*"](d)},c.$$s=this,c.$$arity=2,c)).$join()},x.$$arity=1);a.defs(e,"$nextval",B=function(a){if(z(m("::","Integer")["$==="](a)))return h(a,1);var b=a.$to_i();return z(b.$to_s()["$!="](a.$to_s()))?h(a["$[]"](0).$ord(),1).$chr():h(b,1)},B.$$arity=1);a.defs(e,"$resolve_class",C=function(a){return z(m("::","Class")["$==="](a))?a:z(m("::","String")["$==="](a))?this.$class_for_name(a):
l},C.$$arity=1);a.defs(e,"$class_for_name",F=function(b){var c=l;try{return z(m("::","Class")["$==="](c=m("::","Object").$const_get(b,!1)))||this.$raise(),c}catch(da){if(a.rescue(da,[g(d,"StandardError")]))try{return this.$raise(m("::","NameError"),"Could not resolve class for name: "+b)}finally{a.pop_exception()}else throw da;}},F.$$arity=1)})(d[0],d)}(k[0],k)};Opal.modules.logger=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var h=[],k=a.nil,l=a.const_get_qualified,
m=a.const_get_relative,g=a.klass,c=a.module,z=a.send,q=a.truthy;a.add_stubs("$include $to_h $map $constants $const_get $to_s $format $chr $strftime $message_as_string $=== $+ $message $class $join $backtrace $inspect $attr_reader $attr_accessor $new $key $upcase $raise $add $to_proc $<= $< $write $call $[] $now".split(" "));return function(d,$super,h){d=g(d,$super,"Logger");var f=[d].concat(h),e,n,t,p,L,N,r,u,H,w,Q,y,U,S,V;d.$$prototype.level=d.$$prototype.progname=d.$$prototype.pipe=d.$$prototype.formatter=
k;(function(b,e){b=[c(b,"Severity")].concat(e);a.const_set(b[0],"DEBUG",0);a.const_set(b[0],"INFO",1);a.const_set(b[0],"WARN",2);a.const_set(b[0],"ERROR",3);a.const_set(b[0],"FATAL",4);a.const_set(b[0],"UNKNOWN",5)})(f[0],f);d.$include(m(f,"Severity"));a.const_set(f[0],"SEVERITY_LABELS",z(m(f,"Severity").$constants(),"map",[],(e=function(a){null==a&&(a=k);return[m(f,"Severity").$const_get(a),a.$to_s()]},e.$$s=d,e.$$arity=1,e)).$to_h());(function(b,$super,c){b=g(b,$super,"Formatter");var e=[b].concat(c),
f,d;a.const_set(e[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n");a.const_set(e[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N");a.def(b,"$call",f=function(a,b,c,f){return this.$format(m(e,"MESSAGE_FORMAT"),a.$chr(),b.$strftime(m(e,"DATE_TIME_FORMAT")),a,c,this.$message_as_string(f))},f.$$arity=4);return(a.def(b,"$message_as_string",d=function(a){var b,c=k;return function(){c=a;if(l("::","String")["$==="](c))return a;if(l("::","Exception")["$==="](c)){var e=""+a.$message()+" ("+a.$class()+")\n",f=(q(b=
a.$backtrace())?b:[]).$join("\n");return"number"===typeof e&&"number"===typeof f?e+f:e["$+"](f)}return a.$inspect()}()},d.$$arity=1),k)&&"message_as_string"})(f[0],null,f);d.$attr_reader("level");d.$attr_accessor("progname");d.$attr_accessor("formatter");a.def(d,"$initialize",n=function(a){this.pipe=a;this.level=m(f,"DEBUG");return this.formatter=m(f,"Formatter").$new()},n.$$arity=1);a.def(d,"$level=",t=function(a){var b;return q(l("::","Integer")["$==="](a))?this.level=a:q(b=m(f,"SEVERITY_LABELS").$key(a.$to_s().$upcase()))?
this.level=b:this.$raise(m(f,"ArgumentError"),"invalid log level: "+a)},t.$$arity=1);a.def(d,"$info",p=function(a){var b=p.$$p,c=b||k;b&&(p.$$p=null);b&&(p.$$p=null);null==a&&(a=k);return z(this,"add",[m(f,"INFO"),k,a],c.$to_proc())},p.$$arity=-1);a.def(d,"$debug",L=function(a){var b=L.$$p,c=b||k;b&&(L.$$p=null);b&&(L.$$p=null);null==a&&(a=k);return z(this,"add",[m(f,"DEBUG"),k,a],c.$to_proc())},L.$$arity=-1);a.def(d,"$warn",N=function(a){var b=N.$$p,c=b||k;b&&(N.$$p=null);b&&(N.$$p=null);null==a&&
(a=k);return z(this,"add",[m(f,"WARN"),k,a],c.$to_proc())},N.$$arity=-1);a.def(d,"$error",r=function(a){var b=r.$$p,c=b||k;b&&(r.$$p=null);b&&(r.$$p=null);null==a&&(a=k);return z(this,"add",[m(f,"ERROR"),k,a],c.$to_proc())},r.$$arity=-1);a.def(d,"$fatal",u=function(a){var b=u.$$p,c=b||k;b&&(u.$$p=null);b&&(u.$$p=null);null==a&&(a=k);return z(this,"add",[m(f,"FATAL"),k,a],c.$to_proc())},u.$$arity=-1);a.def(d,"$unknown",H=function(a){var b=H.$$p,c=b||k;b&&(H.$$p=null);b&&(H.$$p=null);null==a&&(a=k);
return z(this,"add",[m(f,"UNKNOWN"),k,a],c.$to_proc())},H.$$arity=-1);a.def(d,"$info?",w=function(){return b(this.level,m(f,"INFO"))},w.$$arity=0);a.def(d,"$debug?",Q=function(){return b(this.level,m(f,"DEBUG"))},Q.$$arity=0);a.def(d,"$warn?",y=function(){return b(this.level,m(f,"WARN"))},y.$$arity=0);a.def(d,"$error?",U=function(){return b(this.level,m(f,"ERROR"))},U.$$arity=0);a.def(d,"$fatal?",S=function(){return b(this.level,m(f,"FATAL"))},S.$$arity=0);return(a.def(d,"$add",V=function(b,c,e){var d=
V.$$p,g=d||k,h;d&&(V.$$p=null);d&&(V.$$p=null);null==c&&(c=k);null==e&&(e=k);d=b=q(h=b)?h:m(f,"UNKNOWN");var n=this.level;d="number"===typeof d&&"number"===typeof n?d<n:d["$<"](n);if(q(d))return!0;e=q(h=e)?h:this.progname;q(c)||(g!==k?c=a.yieldX(g,[]):(c=e,e=this.progname));this.pipe.$write(this.formatter.$call(q(h=m(f,"SEVERITY_LABELS")["$[]"](b))?h:"ANY",l("::","Time").$now(),e,c));return!0},V.$$arity=-2),k)&&"add"}(h[0],null,h)};Opal.modules["asciidoctor/logging"]=function(a){function b(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var k=a.top,l=[],m=a.nil,g=a.const_get_qualified,c=a.const_get_relative,z=a.module,q=a.klass,t=a.send,D=a.truthy,n=a.hash2,f=a.gvars;a.add_stubs("$require $attr_reader $progname= $- $new $formatter= $level= $> $[] $=== $inspect $tap $each $constants $const_get $[]= $<< $clear $empty? $max $map $attr_accessor $memoize_logger $private $private_class_method $extend $logger $merge".split(" "));
k.$require("logger");return function(e,d){e=[z(e,"Asciidoctor")].concat(d);(function(e,$super,f){e=q(e,$super,"Logger");var d=[e].concat(f),k,u;e.$$prototype.max_severity=m;e.$attr_reader("max_severity");a.def(e,"$initialize",k=function(e){var f=k.$$p,g;f&&(k.$$p=null);var h=0;var n=arguments.length;for(g=Array(n);h<n;h++)g[h]=arguments[h];a.slice.call(arguments,0,arguments.length);t(this,a.find_super_dispatcher(this,"initialize",k,!1),g,f);f=["asciidoctor"];t(this,"progname=",a.to_a(f));f[b(f.length,
1)];f=[c(d,"BasicFormatter").$new()];t(this,"formatter=",a.to_a(f));f[b(f.length,1)];f=[c(d,"WARN")];t(this,"level=",a.to_a(f));return f[b(f.length,1)]},k.$$arity=-1);a.def(e,"$add",u=function(b,e,f){var g,n=u.$$p,q;n&&(u.$$p=null);var k=0;var l=arguments.length;for(q=Array(l);k<l;k++)q[k]=arguments[k];null==e&&(e=m);null==f&&(f=m);D(h(b=D(g=b)?g:c(d,"UNKNOWN"),this.max_severity=D(g=this.max_severity)?g:b))&&(this.max_severity=b);return t(this,a.find_super_dispatcher(this,"add",u,!1),q,n)},u.$$arity=
-2);(function(b,$super,e){b=q(b,$super,"BasicFormatter");var f=[b].concat(e),d;a.const_set(f[0],"SEVERITY_LABELS",n(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"}));return(a.def(b,"$call",d=function(a,b,e,d){var h;return""+e+": "+(D(h=c(f,"SEVERITY_LABELS")["$[]"](a))?h:a)+": "+(D(g("::","String")["$==="](d))?d:d.$inspect())+c(f,"LF")},d.$$arity=4),m)&&"call"})(d[0],c(d,"Formatter"),d);return function(b,c){b=z(b,"AutoFormattingMessage");[b].concat(c);var e;a.def(b,"$inspect",e=function(){var a;
return D(a=this["$[]"]("source_location"))?""+a+": "+this["$[]"]("text"):this["$[]"]("text")},e.$$arity=0)}(d[0],d)})(e[0],g("::","Logger"),e);(function(e,$super,f){e=q(e,$super,"MemoryLogger");var d=[e].concat(f),g,h,k,l,z,L;e.$$prototype.messages=m;a.const_set(d[0],"SEVERITY_LABELS",t(n([],{}),"tap",[],(g=function(e){var f=g.$$s||this,h;null==e&&(e=m);return t(c(d,"Severity").$constants(!1),"each",[],(h=function(f){null==f&&(f=m);f=[c(d,"Severity").$const_get(f,!1),f];t(e,"[]=",a.to_a(f));return f[b(f.length,
1)]},h.$$s=f,h.$$arity=1,h))},g.$$s=e,g.$$arity=1,g)));e.$attr_reader("messages");a.def(e,"$initialize",h=function(){var e=[c(d,"WARN")];t(this,"level=",a.to_a(e));e[b(e.length,1)];return this.messages=[]},h.$$arity=0);a.def(e,"$add",k=function(b,e,f){var g=k.$$p,h=g||m;g&&(k.$$p=null);null==e&&(e=m);null==f&&(f=m);D(e)||(e=h!==m?a.yieldX(h,[]):f);this.messages["$<<"](n(["severity","message"],{severity:c(d,"SEVERITY_LABELS")["$[]"](D(b)?b:c(d,"UNKNOWN")),message:e}));return!0},k.$$arity=-2);a.def(e,
"$clear",l=function(){return this.messages.$clear()},l.$$arity=0);a.def(e,"$empty?",z=function(){return this.messages["$empty?"]()},z.$$arity=0);return(a.def(e,"$max_severity",L=function(){var a;return D(this["$empty?"]())?m:t(this.messages,"map",[],(a=function(a){null==a&&(a=m);return c(d,"Severity").$const_get(a["$[]"]("severity"),!1)},a.$$s=this,a.$$arity=1,a)).$max()},L.$$arity=0),m)&&"max_severity"})(e[0],g("::","Logger"),e);(function(e,$super,f){e=q(e,$super,"NullLogger");var d=[e].concat(f),
g,n;e.$$prototype.max_severity=m;e.$attr_reader("max_severity");a.def(e,"$initialize",g=function(){var e=[c(d,"WARN")];t(this,"level=",a.to_a(e));return e[b(e.length,1)]},g.$$arity=0);return(a.def(e,"$add",n=function(a,b,e){var f;D(h(a=D(f=a)?f:c(d,"UNKNOWN"),this.max_severity=D(f=this.max_severity)?f:a))&&(this.max_severity=a);return!0},n.$$arity=-2),m)&&"add"})(e[0],g("::","Logger"),e);(function(b,e){b=z(b,"LoggerManager");e=[b].concat(e);b.logger_class=c(e,"Logger");(function(b,c){var e=[b].concat(c),
d,g,h;b.$attr_accessor("logger_class");a.def(b,"$logger",d=function(a){var b;null==this.logger&&(this.logger=m);null==this.logger_class&&(this.logger_class=m);null==f.stderr&&(f.stderr=m);null==a&&(a=f.stderr);this.$memoize_logger();return this.logger=D(b=this.logger)?b:this.logger_class.$new(a)},d.$$arity=-1);a.def(b,"$logger=",g=function(a){null==this.logger_class&&(this.logger_class=m);null==f.stderr&&(f.stderr=m);return this.logger=D(a)?a:this.logger_class.$new(f.stderr)},g.$$arity=1);b.$private();
return(a.def(b,"$memoize_logger",h=function(){var b=a.get_singleton_class(this);[b].concat(e);a.alias(b,"logger","logger");return b.$attr_reader("logger")},h.$$arity=0),m)&&"memoize_logger"})(a.get_singleton_class(b),e)})(e[0],e);(function(b,e){b=z(b,"Logging");var f=[b].concat(e),d,h,q,k;b.$private_class_method(D(d=(a.defs(b,"$included",h=function(a){return a.$extend(c(f,"Logging"))},h.$$arity=1),m)&&"included")?d:"included");a.def(b,"$logger",q=function(){return c(f,"LoggerManager").$logger()},
q.$$arity=0);a.def(b,"$message_with_context",k=function(a,b){null==b&&(b=n([],{}));return n(["text"],{text:a}).$merge(b).$extend(g(c(f,"Logger"),"AutoFormattingMessage"))},k.$$arity=-2)})(e[0],e)}(l[0],l)};Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,
b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var g=[],c=a.nil,z=a.const_get_qualified,q=a.const_get_relative,t=a.slice,D=a.module,n=a.hash2,f=a.hash,e=a.truthy,p=a.send,E=a.gvars;a.add_stubs("$freeze $+ $keys $empty? $! $=== $[] $join $include? $extract_passthroughs $each $sub_specialchars $sub_quotes $sub_attributes $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $logger $restore_passthroughs $clear $split $apply_subs $== $gsub $match? $compat_mode $convert_quoted_text $attributes $shift $store_attribute $!= $attribute_undefined $counter $key? $downcase $attribute_missing $info $squeeze $delete $reject $start_with? $do_replacement $extensions $inline_macros? $inline_macros $regexp $instance $slice $length $names $config $merge $[]= $- $normalize_text $parse_attributes $process_method $text $expand_subs $text= $convert $class $strip $> $index $min $compact $end_with? $map $chop $new $pop $rstrip $register $tr $basename $parse $<< $lstrip $split_simple_csv $partition $sub $encode_uri_component $style $parse_into $extname? $rindex $info? $catalog $fetch $outfilesuffix $natural_xrefs $resolve_id $find $footnotes $id $< $size $attr? $attr $to_s $read_next_id $callouts $syntax_highlighter $highlight? $sub_source $extract_callouts $name $to_sym $to_i $resolve_lines_to_highlight $highlight $nil_or_empty? $restore_callouts $count $to_a $concat $uniq $sort $* $parse_quoted_text_attributes $resolve_pass_subs $extract_inner_passthrough $basebackend? $error $chr $drop $& $resolve_subs $resolve_block_subs $private $=~ $shorthand_property_syntax $each_char".split(" "));
return function(d,g){d=[D(d,"Asciidoctor")].concat(g);(function(d,g){d=D(d,"Substitutors");var u=[d].concat(g),N,r,L,w,H,Q,y,x,X,V,B,S,C,ba,da,Z,F,v,G,I,oa,Y,J,qa,na,Ja,O,P,ea,ra;a.const_set(u[0],"SpecialCharsRx",/[<&>]/);a.const_set(u[0],"SpecialCharsTr",n([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(u[0],"QuotedTextSniffRx",f(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(u[0],"BASIC_SUBS",["specialcharacters"]).$freeze();a.const_set(u[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze();
a.const_set(u[0],"NO_SUBS",[]).$freeze();a.const_set(u[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(u[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(u[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze();a.const_set(u[0],"SUB_GROUPS",n(["none","normal","verbatim","specialchars"],{none:q(u,"NO_SUBS"),normal:q(u,"NORMAL_SUBS"),verbatim:q(u,"VERBATIM_SUBS"),specialchars:q(u,
"BASIC_SUBS")}));a.const_set(u[0],"SUB_HINTS",n("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(u[0],"SUB_OPTIONS",n(["block","inline"],{block:b(b(q(u,"SUB_GROUPS").$keys(),q(u,"NORMAL_SUBS")),["callouts"]),inline:b(q(u,"SUB_GROUPS").$keys(),q(u,"NORMAL_SUBS"))}));a.const_set(u[0],"CAN","\u0018");a.const_set(u[0],"DEL","\u007f");a.const_set(u[0],"PASS_START","\u0096");a.const_set(u[0],"PASS_END",
"\u0097");a.const_set(u[0],"PassSlotRx",new RegExp(""+q(u,"PASS_START")+"(\\d+)"+q(u,"PASS_END")));a.const_set(u[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+q(u,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+q(u,"PASS_END")+"</span>"));a.const_set(u[0],"RS","\\");a.const_set(u[0],"R_SB","]");a.const_set(u[0],"ESC_R_SB","\\]");a.const_set(u[0],"PLUS","+");a.def(d,"$apply_subs",N=function(a,b){var f,d,g=c,h=c,n=c;null==this.passthroughs&&(this.passthroughs=c);null==this.passthroughs_locked&&
(this.passthroughs_locked=c);null==b&&(b=q(u,"NORMAL_SUBS"));if(e(e(f=a["$empty?"]())?f:b["$!"]()))return a;e(g=z("::","Array")["$==="](a))&&(a=e(a["$[]"](1))?a.$join(q(u,"LF")):a["$[]"](0));e(b["$include?"]("macros"))&&(a=this.$extract_passthroughs(a),e(this.passthroughs["$empty?"]())||(h=this.passthroughs,this.passthroughs_locked=e(f=this.passthroughs_locked)?f:n=!0));p(b,"each",[],(d=function(f){var g=d.$$s||this;null==f&&(f=c);var h=f;return"specialcharacters"["$==="](h)?a=g.$sub_specialchars(a):
"quotes"["$==="](h)?a=g.$sub_quotes(a):"attributes"["$==="](h)?e(a["$include?"](q(u,"ATTR_REF_HEAD")))?a=g.$sub_attributes(a):c:"replacements"["$==="](h)?a=g.$sub_replacements(a):"macros"["$==="](h)?a=g.$sub_macros(a):"highlight"["$==="](h)?a=g.$highlight_source(a,b["$include?"]("callouts")):"callouts"["$==="](h)?e(b["$include?"]("highlight"))?c:a=g.$sub_callouts(a):"post_replacements"["$==="](h)?a=g.$sub_post_replacements(a):g.$logger().$warn("unknown substitution type "+f)},d.$$s=this,d.$$arity=
1,d));e(h)&&(a=this.$restore_passthroughs(a),e(n)&&(h.$clear(),this.passthroughs_locked=c));return e(g)?a.$split(q(u,"LF"),-1):a},N.$$arity=-2);a.def(d,"$apply_normal_subs",r=function(a){return this.$apply_subs(a,q(u,"NORMAL_SUBS"))},r.$$arity=1);a.def(d,"$apply_header_subs",L=function(a){return this.$apply_subs(a,q(u,"HEADER_SUBS"))},L.$$arity=1);a.alias(d,"apply_title_subs","apply_subs");a.def(d,"$apply_reftext_subs",w=function(a){return this.$apply_subs(a,q(u,"REFTEXT_SUBS"))},w.$$arity=1);q(u,
"RUBY_ENGINE")["$=="]("opal")?a.def(d,"$sub_specialchars",H=function(a){var b,c;return e(e(b=e(c=a["$include?"](">"))?c:a["$include?"]("&"))?b:a["$include?"]("<"))?a.$gsub(q(u,"SpecialCharsRx"),q(u,"SpecialCharsTr")):a},H.$$arity=1):c;a.alias(d,"sub_specialcharacters","sub_specialchars");a.def(d,"$sub_quotes",Q=function(a){var b,f=c;null==this.document&&(this.document=c);e(q(u,"QuotedTextSniffRx")["$[]"](f=this.document.$compat_mode())["$match?"](a))&&p(q(u,"QUOTE_SUBS")["$[]"](f),"each",[],(b=function(e,
f,d){var g=b.$$s||this,h;null==e&&(e=c);null==f&&(f=c);null==d&&(d=c);return a=p(a,"gsub",[d],(h=function(){var a=h.$$s||this;null==E["~"]&&(E["~"]=c);return a.$convert_quoted_text(E["~"],e,f)},h.$$s=g,h.$$arity=0,h))},b.$$s=this,b.$$arity=3,b));return a},Q.$$arity=1);a.def(d,"$sub_attributes",y=function(b,f){var d,g,h,k,l=c,m=c,z=c,t=c,N=c,D=c,r=c,L=c;null==this.document&&(this.document=c);null==f&&(f=n([],{}));l=this.document.$attributes();m=z=t=N=D=r=c;b=p(b,"gsub",[q(u,"AttributeReferenceRx")],
(d=function(){var b=d.$$s||this,g,h,n,k,R=c,pa=c,sa=c,L=c;null==b.document&&(b.document=c);return e(e(g=((h=E["~"])===c?c:h["$[]"](1))["$=="](q(u,"RS")))?g:((h=E["~"])===c?c:h["$[]"](4))["$=="](q(u,"RS")))?"{"+((g=E["~"])===c?c:g["$[]"](2))+"}":e((g=E["~"])===c?c:g["$[]"](3))?function(){R=(pa=((g=E["~"])===c?c:g["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](R)?(h=q(u,"Parser").$store_attribute(pa["$[]"](0),e(n=pa["$[]"](1))?n:"",b.document),g=a.to_ary(h),sa=null==g[1]?c:g[1],h,e(e(g=sa)?
g:(D=e(h=D)?h:e(n=l["$[]"]("attribute-undefined"))?n:q(u,"Compliance").$attribute_undefined())["$!="]("drop-line"))?m=N=q(u,"DEL"):m=z=q(u,"CAN")):"counter2"["$==="](R)?(p(b.document,"counter",a.to_a(pa)),m=N=q(u,"DEL")):p(b.document,"counter",a.to_a(pa))}():e(l["$key?"](L=((g=E["~"])===c?c:g["$[]"](2)).$downcase()))?l["$[]"](L):e(sa=q(u,"INTRINSIC_ATTRIBUTES")["$[]"](L))?sa:function(){R=r=e(g=r)?g:e(h=e(n=f["$[]"]("attribute_missing"))?n:l["$[]"]("attribute-missing"))?h:q(u,"Compliance").$attribute_missing();
if("drop"["$==="](R))return m=N=q(u,"DEL");if("drop-line"["$==="](R))return(t=e(g=t)?g:e(h=f["$[]"]("drop_line_severity"))?h:"info")["$=="]("info")&&p(b.$logger(),"info",[],(k=function(){return"dropping line containing reference to missing attribute: "+L},k.$$s=b,k.$$arity=0,k)),m=z=q(u,"CAN");"warn"["$==="](R)&&b.$logger().$warn("skipping reference to missing attribute: "+L);return(g=E["~"])===c?c:g["$[]"](0)}()},d.$$s=this,d.$$arity=0,d));return e(m)?e(N)?(L=b.$squeeze(q(u,"DEL")).$split(q(u,"LF"),
-1),e(z)?p(L,"reject",[],(g=function(a){var b,f,d;null==a&&(a=c);return e(b=e(f=e(d=a["$=="](q(u,"DEL")))?d:a["$=="](q(u,"CAN")))?f:a["$start_with?"](q(u,"CAN")))?b:a["$include?"](q(u,"CAN"))},g.$$s=this,g.$$arity=1,g)).$join(q(u,"LF")).$delete(q(u,"DEL")):p(L,"reject",[],(h=function(a){null==a&&(a=c);return a["$=="](q(u,"DEL"))},h.$$s=this,h.$$arity=1,h)).$join(q(u,"LF")).$delete(q(u,"DEL"))):e(b["$include?"](q(u,"LF")))?p(b.$split(q(u,"LF"),-1),"reject",[],(k=function(a){var b,f;null==a&&(a=c);
return e(b=e(f=a["$=="](q(u,"CAN")))?f:a["$start_with?"](q(u,"CAN")))?b:a["$include?"](q(u,"CAN"))},k.$$s=this,k.$$arity=1,k)).$join(q(u,"LF")):"":b},y.$$arity=-2);a.def(d,"$sub_replacements",x=function(a){var b;e(q(u,"ReplaceableTextRx")["$match?"](a))&&p(q(u,"REPLACEMENTS"),"each",[],(b=function(e,f,d){var g=b.$$s||this,h;null==e&&(e=c);null==f&&(f=c);null==d&&(d=c);return a=p(a,"gsub",[e],(h=function(){var a=h.$$s||this;null==E["~"]&&(E["~"]=c);return a.$do_replacement(E["~"],f,d)},h.$$s=g,h.$$arity=
0,h))},b.$$s=this,b.$$arity=3,b));return a},x.$$arity=1);a.def(d,"$sub_macros",X=function(f){var d,g,l,m,N,D,L,r,w,H,Q,y,U,W,A,K=c,ia=c,M=c,R=c,pa=c,sa=c,cb=c;null==this.document&&(this.document=c);null==this.context&&(this.context=c);null==this.parent&&(this.parent=c);K=f["$include?"]("[");ia=f["$include?"](":");M=e(d=K)?ia:d;R=e(d=M)?f["$include?"](":["):d;pa=(sa=this.document).$attributes();e(e(d=cb=sa.$extensions())?cb["$inline_macros?"]():d)&&p(cb.$inline_macros(),"each",[],(g=function(b){var d=
g.$$s||this,k;null==b&&(b=c);return f=p(f,"gsub",[b.$instance().$regexp()],(k=function(){var f=k.$$s||this,d,g,Ha,l=c,A;null==E["~"]&&(E["~"]=c);if(e((Ha=(d=E["~"])===c?c:d["$[]"](0))["$start_with?"](q(u,"RS"))))return((d=E["~"])===c?c:d["$[]"](0)).$slice(1,((d=E["~"])===c?c:d["$[]"](0)).$length());if(e(E["~"].$names()["$empty?"]()))d=[(g=E["~"])===c?c:g["$[]"](1),(g=E["~"])===c?c:g["$[]"](2)];else{a:{try{var m=E["~"]["$[]"]("target");break a}catch(db){if(a.rescue(db,[q(u,"StandardError")]))try{m=
c;break a}finally{a.pop_exception()}else throw db;}m=void 0}d=m;a:{try{var K=E["~"]["$[]"]("content");break a}catch(db){if(a.rescue(db,[q(u,"StandardError")]))try{K=c;break a}finally{a.pop_exception()}else throw db;}K=void 0}d=[d,K]}K=d[0];m=d[1];d;var M=e(l=(A=b.$config())["$[]"]("default_attrs"))?l.$merge():n([],{});e(m)&&(e(m["$empty?"]())?A["$[]"]("content_model")["$=="]("attributes")||(g=["text",m],p(M,"[]=",a.to_a(g)),g[h(g.length,1)]):(m=f.$normalize_text(m,!0,!0),A["$[]"]("content_model")["$=="]("attributes")?
f.$parse_attributes(m,e(d=e(g=A["$[]"]("positional_attrs"))?g:A["$[]"]("pos_attrs"))?d:[],n(["into"],{into:M})):(g=["text",m],p(M,"[]=",a.to_a(g)),g[h(g.length,1)])),K=e(d=K)?d:A["$[]"]("format")["$=="]("short")?m:K);return e(q(u,"Inline")["$==="](d=b.$process_method()["$[]"](f,K,M)))?(e(Ha=d.$attributes().$delete("subs"))&&(g=[f.$apply_subs(d.$text(),f.$expand_subs(Ha))],p(d,"text=",a.to_a(g)),g[h(g.length,1)]),d.$convert()):e(d)?(f.$logger().$info("expected substitution value for custom inline macro to be of type Inline; got "+
d.$class()+": "+Ha),d):""},k.$$s=d,k.$$arity=0,k))},g.$$s=this,g.$$arity=1,g));e(pa["$key?"]("experimental"))&&(e(e(d=R)?e(l=f["$include?"]("kbd:"))?l:f["$include?"]("btn:"):d)&&(f=p(f,"gsub",[q(u,"InlineKbdBtnMacroRx")],(m=function(){var f=m.$$s||this,d,g,l,A=c,K=c,M=c;M=c;return e((d=E["~"])===c?c:d["$[]"](1))?((d=E["~"])===c?c:d["$[]"](0)).$slice(1,((d=E["~"])===c?c:d["$[]"](0)).$length()):((d=E["~"])===c?c:d["$[]"](2))["$=="]("kbd")?(e((A=((d=E["~"])===c?c:d["$[]"](3)).$strip())["$include?"](q(u,
"R_SB")))&&(A=A.$gsub(q(u,"ESC_R_SB"),q(u,"R_SB"))),e(e(d=k(A.$length(),1))?K=e(K=A.$index(",",1))?[K,A.$index("+",1)].$compact().$min():A.$index("+",1):d)?(M=A.$slice(K,1),e(A["$end_with?"](M))?(A=p(A.$chop().$split(M,-1),"map",[],(g=function(a){null==a&&(a=c);return a.$strip()},g.$$s=f,g.$$arity=1,g)),M=[-1,b(A["$[]"](-1),M)],p(A,"[]=",a.to_a(M)),M[h(M.length,1)]):A=p(A.$split(M),"map",[],(l=function(a){null==a&&(a=c);return a.$strip()},l.$$s=f,l.$$arity=1,l))):A=[A],q(u,"Inline").$new(f,"kbd",
c,n(["attributes"],{attributes:n(["keys"],{keys:A})})).$convert()):q(u,"Inline").$new(f,"button",f.$normalize_text((d=E["~"])===c?c:d["$[]"](3),!0,!0)).$convert()},m.$$s=this,m.$$arity=0,m))),e(e(d=M)?f["$include?"]("menu:"):d)&&(f=p(f,"gsub",[q(u,"InlineMenuMacroRx")],(N=function(){var a=N.$$s||this,b,f,d=c,g=c,h=c;h=g=c;if(e(((b=E["~"])===c?c:b["$[]"](0))["$start_with?"](q(u,"RS"))))return((b=E["~"])===c?c:b["$[]"](0)).$slice(1,((b=E["~"])===c?c:b["$[]"](0)).$length());d=(b=E["~"])===c?c:b["$[]"](1);
e(g=(b=E["~"])===c?c:b["$[]"](2))?(e(g["$include?"](q(u,"R_SB")))&&(g=g.$gsub(q(u,"ESC_R_SB"),q(u,"R_SB"))),e(h=e(g["$include?"]("&gt;"))?"&gt;":e(g["$include?"](","))?",":c)?(g=p(g.$split(h),"map",[],(f=function(a){null==a&&(a=c);return a.$strip()},f.$$s=a,f.$$arity=1,f)),h=g.$pop()):(b=[[],g.$rstrip()],g=b[0],h=b[1],b)):(b=[[],c],g=b[0],h=b[1],b);return q(u,"Inline").$new(a,"menu",c,n(["attributes"],{attributes:n(["menu","submenus","menuitem"],{menu:d,submenus:g,menuitem:h})})).$convert()},N.$$s=
this,N.$$arity=0,N))),e(e(d=f["$include?"]('"'))?f["$include?"]("&gt;"):d)&&(f=p(f,"gsub",[q(u,"InlineMenuRx")],(D=function(){var b=D.$$s||this,f,d,g,h=c,k=c;var A=c;if(e(((f=E["~"])===c?c:f["$[]"](0))["$start_with?"](q(u,"RS"))))return((f=E["~"])===c?c:f["$[]"](0)).$slice(1,((f=E["~"])===c?c:f["$[]"](0)).$length());A=p(((d=E["~"])===c?c:d["$[]"](1)).$split("&gt;"),"map",[],(g=function(a){null==a&&(a=c);return a.$strip()},g.$$s=b,g.$$arity=1,g));f=a.to_ary(A);h=null==f[0]?c:f[0];k=t.call(f,1);A;A=
k.$pop();return q(u,"Inline").$new(b,"menu",c,n(["attributes"],{attributes:n(["menu","submenus","menuitem"],{menu:h,submenus:k,menuitem:A})})).$convert()},D.$$s=this,D.$$arity=0,D))));e(e(d=M)?e(l=f["$include?"]("image:"))?l:f["$include?"]("icon:"):d)&&(f=p(f,"gsub",[q(u,"InlineImageMacroRx")],(L=function(){var b=L.$$s||this,f,d,g,k=c;if(e(((f=E["~"])===c?c:f["$[]"](0))["$start_with?"](q(u,"RS"))))return((f=E["~"])===c?c:f["$[]"](0)).$slice(1,((f=E["~"])===c?c:f["$[]"](0)).$length());e(((f=E["~"])===
c?c:f["$[]"](0))["$start_with?"]("icon:"))?(f=["icon",["size"]],d=f[0],g=f[1]):(f=["image",["alt","width","height"]],d=f[0],g=f[1]);f;var A=(f=E["~"])===c?c:f["$[]"](1);g=b.$parse_attributes((f=E["~"])===c?c:f["$[]"](2),g,n(["unescape_input"],{unescape_input:!0}));d["$=="]("icon")||sa.$register("images",[A,(k=["imagesdir",pa["$[]"]("imagesdir")],p(g,"[]=",a.to_a(k)),k[h(k.length,1)])]);e(f=g["$[]"]("alt"))?f:(k=["alt",(k=["default-alt",q(u,"Helpers").$basename(A,!0).$tr("_-"," ")],p(g,"[]=",a.to_a(k)),
k[h(k.length,1)])],p(g,"[]=",a.to_a(k)),k[h(k.length,1)]);return q(u,"Inline").$new(b,"image",c,n(["type","target","attributes"],{type:d,target:A,attributes:g})).$convert()},L.$$s=this,L.$$arity=0,L)));e(e(d=e(l=f["$include?"]("(("))?f["$include?"]("))"):l)?d:e(l=R)?f["$include?"]("dexterm"):l)&&(f=p(f,"gsub",[q(u,"InlineIndextermMacroRx")],(r=function(){var b=r.$$s||this,d,g,k,A,l=c,m=c,K=c,M=c,z=c,N=c,sa=c,pa=c,D=c,ia=c,R=c,L=c,w=c,H=c,Q=c;return function(){l=(d=E["~"])===c?c:d["$[]"](1);if("indexterm"["$==="](l)){if(e(((d=
E["~"])===c?c:d["$[]"](0))["$start_with?"](q(u,"RS"))))return((d=E["~"])===c?c:d["$[]"](0)).$slice(1,((d=E["~"])===c?c:d["$[]"](0)).$length());if(e((m=b.$normalize_text((d=E["~"])===c?c:d["$[]"](2),!0,!0))["$include?"]("=")))if(e(K=(M=q(u,"AttributeList").$new(m,b).$parse())["$[]"](1))){z=["terms",N=[K]];p(M,"[]=",a.to_a(z));z[h(z.length,1)];if(e(sa=M["$[]"](2))&&(N["$<<"](sa),e(pa=M["$[]"](3))))N["$<<"](pa);e(D=M["$[]"]("see-also"))&&(z=["see-also",function(){return e(D["$include?"](","))?p(D.$split(","),
"map",[],(g=function(a){null==a&&(a=c);return a.$lstrip()},g.$$s=b,g.$$arity=1,g)):[D]}()],p(M,"[]=",a.to_a(z)),z[h(z.length,1)])}else M=n(["terms"],{terms:N=m});else M=n(["terms"],{terms:N=b.$split_simple_csv(m)});return q(u,"Inline").$new(b,"indexterm",c,n(["attributes"],{attributes:M})).$convert()}if("indexterm2"["$==="](l)){if(e(((d=E["~"])===c?c:d["$[]"](0))["$start_with?"](q(u,"RS"))))return((d=E["~"])===c?c:d["$[]"](0)).$slice(1,((d=E["~"])===c?c:d["$[]"](0)).$length());e((ia=b.$normalize_text((d=
E["~"])===c?c:d["$[]"](2),!0,!0))["$include?"]("="))&&(ia=e(d=e(k=(M=q(u,"AttributeList").$new(ia,b).$parse())["$[]"](1))?k:M=c)?d:ia,e(e(d=M)?D=M["$[]"]("see-also"):d)&&(z=["see-also",function(){return e(D["$include?"](","))?p(D.$split(","),"map",[],(A=function(a){null==a&&(a=c);return a.$lstrip()},A.$$s=b,A.$$arity=1,A)):[D]}()],p(M,"[]=",a.to_a(z)),z[h(z.length,1)]));return q(u,"Inline").$new(b,"indexterm",ia,n(["attributes","type"],{attributes:M,type:"visible"})).$convert()}f=(d=E["~"])===c?c:
d["$[]"](3);if(e(((d=E["~"])===c?c:d["$[]"](0))["$start_with?"](q(u,"RS"))))if(e(e(d=f["$start_with?"]("("))?f["$end_with?"](")"):d))f=f.$slice(1,h(f.$length(),2)),d=[!0,"(",")"],R=d[0],L=d[1],w=d[2],d;else return((d=E["~"])===c?c:d["$[]"](0)).$slice(1,((d=E["~"])===c?c:d["$[]"](0)).$length());else R=!0,e(f["$start_with?"]("("))?(e(f["$end_with?"](")"))?(d=[f.$slice(1,h(f.$length(),2)),!1],f=d[0],R=d[1]):(d=[f.$slice(1,f.$length()),"(",""],f=d[0],L=d[1],w=d[2]),d):e(f["$end_with?"](")"))&&(d=[f.$chop(),
"",")"],f=d[0],L=d[1],w=d[2],d);e(R)?(e((ia=b.$normalize_text(f,!0))["$include?"](";&"))&&(e(ia["$include?"](" &gt;&gt; "))?(k=ia.$partition(" &gt;&gt; "),d=a.to_ary(k),ia=null==d[0]?c:d[0],H=null==d[2]?c:d[2],k,M=n(["see"],{see:H})):e(ia["$include?"](" &amp;&gt; "))&&(k=ia.$split(" &amp;&gt; "),d=a.to_ary(k),ia=null==d[0]?c:d[0],D=t.call(d,1),k,M=n(["see-also"],{"see-also":D}))),Q=q(u,"Inline").$new(b,"indexterm",ia,n(["attributes","type"],{attributes:M,type:"visible"})).$convert()):(M=n([],{}),
e((N=b.$normalize_text(f,!0))["$include?"](";&"))&&(e(N["$include?"](" &gt;&gt; "))?(k=N.$partition(" &gt;&gt; "),d=a.to_ary(k),N=null==d[0]?c:d[0],H=null==d[2]?c:d[2],k,z=["see",H],p(M,"[]=",a.to_a(z)),z[h(z.length,1)]):e(N["$include?"](" &amp;&gt; "))&&(k=N.$split(" &amp;&gt; "),d=a.to_ary(k),N=null==d[0]?c:d[0],D=t.call(d,1),k,z=["see-also",D],p(M,"[]=",a.to_a(z)),z[h(z.length,1)])),z=["terms",N=b.$split_simple_csv(N)],p(M,"[]=",a.to_a(z)),z[h(z.length,1)],Q=q(u,"Inline").$new(b,"indexterm",c,
n(["attributes"],{attributes:M})).$convert());return e(L)?""+L+Q+w:Q}()},r.$$s=this,r.$$arity=0,r)));e(e(d=ia)?f["$include?"]("://"):d)&&(f=p(f,"gsub",[q(u,"InlineLinkRx")],(w=function(){var b=w.$$s||this,d,g,k,A=c;if(e((k=(d=E["~"])===c?c:d["$[]"](2))["$start_with?"](q(u,"RS"))))return""+((d=E["~"])===c?c:d["$[]"](1))+k.$slice(1,k.$length())+((d=E["~"])===c?c:d["$[]"](4));d=[(g=E["~"])===c?c:g["$[]"](1),""];g=d[0];var l=d[1];d;if(e((d=E["~"])===c?c:d["$[]"](4)))g["$=="]("link:")&&(g=""),f=(d=E["~"])===
c?c:d["$[]"](4);else{if(g["$=="]("link:"))return(d=E["~"])===c?c:d["$[]"](0);f="";var m=(d=E["~"])===c?c:d["$[]"](3);if(")"["$==="](m)){if(k=k.$chop(),l=")",e(k["$end_with?"]("://")))return(d=E["~"])===c?c:d["$[]"](0)}else if(";"["$==="](m)){if(e(e(d=g["$start_with?"]("&lt;"))?k["$end_with?"]("&gt;"):d)?(g=g.$slice(4,g.$length()),k=k.$slice(0,h(k.$length(),4))):e((k=k.$chop())["$end_with?"](")"))?(k=k.$chop(),l=");"):l=";",e(k["$end_with?"]("://")))return(d=E["~"])===c?c:d["$[]"](0)}else if(":"["$==="](m)&&
(e((k=k.$chop())["$end_with?"](")"))?(k=k.$chop(),l="):"):l=":",e(k["$end_with?"]("://"))))return(d=E["~"])===c?c:d["$[]"](0)}d=[c,n(["type"],{type:"link"})];m=d[0];var K=d[1];d;e(f["$empty?"]())||(e(f["$include?"](q(u,"R_SB")))&&(f=f.$gsub(q(u,"ESC_R_SB"),q(u,"R_SB"))),e(e(d=sa.$compat_mode()["$!"]())?f["$include?"]("="):d)&&(f=e(d=(m=q(u,"AttributeList").$new(f,b).$parse())["$[]"](1))?d:"",A=["id",m["$[]"]("id")],p(K,"[]=",a.to_a(A)),A[h(A.length,1)]),e(f["$end_with?"]("^"))&&(f=f.$chop(),e(m)?
e(d=m["$[]"]("window"))?d:(A=["window","_blank"],p(m,"[]=",a.to_a(A)),A[h(A.length,1)]):m=n(["window"],{window:"_blank"})));e(f["$empty?"]())&&(f=e(pa["$key?"]("hide-uri-scheme"))?k.$sub(q(u,"UriSniffRx"),""):k,e(m)?(A=["role",e(m["$key?"]("role"))?"bare "+m["$[]"]("role"):"bare"],p(m,"[]=",a.to_a(A)),A[h(A.length,1)]):m=n(["role"],{role:"bare"}));sa.$register("links",(A=["target",k],p(K,"[]=",a.to_a(A)),A[h(A.length,1)]));e(m)&&(A=["attributes",m],p(K,"[]=",a.to_a(A)),A[h(A.length,1)]);return""+
g+q(u,"Inline").$new(b,"anchor",f,K).$convert()+l},w.$$s=this,w.$$arity=0,w)));e(e(d=M)?e(l=f["$include?"]("link:"))?l:f["$include?"]("ilto:"):d)&&(f=p(f,"gsub",[q(u,"InlineLinkMacroRx")],(H=function(){var d=H.$$s||this,g,k,A=c,l=c;if(e(((g=E["~"])===c?c:g["$[]"](0))["$start_with?"](q(u,"RS"))))return((g=E["~"])===c?c:g["$[]"](0)).$slice(1,((g=E["~"])===c?c:g["$[]"](0)).$length());var m=e(k=(g=E["~"])===c?c:g["$[]"](1))?b("mailto:",A=(g=E["~"])===c?c:g["$[]"](2)):(g=E["~"])===c?c:g["$[]"](2);g=[c,
n(["type"],{type:"link"})];var K=g[0];var M=g[1];g;e((f=(g=E["~"])===c?c:g["$[]"](3))["$empty?"]())||(e(f["$include?"](q(u,"R_SB")))&&(f=f.$gsub(q(u,"ESC_R_SB"),q(u,"R_SB"))),e(k)?e(e(g=sa.$compat_mode()["$!"]())?f["$include?"](","):g)&&(f=e(g=(K=q(u,"AttributeList").$new(f,d).$parse())["$[]"](1))?g:"",l=["id",K["$[]"]("id")],p(M,"[]=",a.to_a(l)),l[h(l.length,1)],e(K["$key?"](2))&&(m=e(K["$key?"](3))?""+m+"?subject="+q(u,"Helpers").$encode_uri_component(K["$[]"](2))+"&amp;body="+q(u,"Helpers").$encode_uri_component(K["$[]"](3)):
""+m+"?subject="+q(u,"Helpers").$encode_uri_component(K["$[]"](2)))):e(e(g=sa.$compat_mode()["$!"]())?f["$include?"]("="):g)&&(f=e(g=(K=q(u,"AttributeList").$new(f,d).$parse())["$[]"](1))?g:"",l=["id",K["$[]"]("id")],p(M,"[]=",a.to_a(l)),l[h(l.length,1)]),e(f["$end_with?"]("^"))&&(f=f.$chop(),e(K)?e(g=K["$[]"]("window"))?g:(l=["window","_blank"],p(K,"[]=",a.to_a(l)),l[h(l.length,1)]):K=n(["window"],{window:"_blank"})));e(f["$empty?"]())&&(e(k)?f=A:(e(pa["$key?"]("hide-uri-scheme"))?e((f=m.$sub(q(u,
"UriSniffRx"),""))["$empty?"]())&&(f=m):f=m,e(K)?(l=["role",e(K["$key?"]("role"))?"bare "+K["$[]"]("role"):"bare"],p(K,"[]=",a.to_a(l)),l[h(l.length,1)]):K=n(["role"],{role:"bare"})));sa.$register("links",(l=["target",m],p(M,"[]=",a.to_a(l)),l[h(l.length,1)]));e(K)&&(l=["attributes",K],p(M,"[]=",a.to_a(l)),l[h(l.length,1)]);return q(u,"Inline").$new(d,"anchor",f,M).$convert()},H.$$s=this,H.$$arity=0,H)));e(f["$include?"]("@"))&&(f=p(f,"gsub",[q(u,"InlineEmailRx")],(Q=function(){var a=Q.$$s||this,
f,d;if(e((f=E["~"])===c?c:f["$[]"](1)))return((f=E["~"])===c?c:f["$[]"](1))["$=="](q(u,"RS"))?((f=E["~"])===c?c:f["$[]"](0)).$slice(1,((f=E["~"])===c?c:f["$[]"](0)).$length()):(f=E["~"])===c?c:f["$[]"](0);var g=b("mailto:",d=(f=E["~"])===c?c:f["$[]"](0));sa.$register("links",g);return q(u,"Inline").$new(a,"anchor",d,n(["type","target"],{type:"link",target:g})).$convert()},Q.$$s=this,Q.$$arity=0,Q)));e(e(d=e(l=K)?this.context["$=="]("list_item"):l)?this.parent.$style()["$=="]("bibliography"):d)&&(f=
p(f,"sub",[q(u,"InlineBiblioAnchorRx")],(y=function(){var a=y.$$s||this,b;return q(u,"Inline").$new(a,"anchor",(b=E["~"])===c?c:b["$[]"](2),n(["type","id"],{type:"bibref",id:(b=E["~"])===c?c:b["$[]"](1)})).$convert()},y.$$s=this,y.$$arity=0,y)));e(e(d=e(l=K)?f["$include?"]("[["):l)?d:e(l=M)?f["$include?"]("or:"):l)&&(f=p(f,"gsub",[q(u,"InlineAnchorRx")],(U=function(){var a=U.$$s||this,b,f,d,g=c;if(e((b=E["~"])===c?c:b["$[]"](1)))return((b=E["~"])===c?c:b["$[]"](0)).$slice(1,((b=E["~"])===c?c:b["$[]"](0)).$length());
e(d=(b=E["~"])===c?c:b["$[]"](2))?g=(b=E["~"])===c?c:b["$[]"](3):(d=(b=E["~"])===c?c:b["$[]"](4),e(e(b=g=(f=E["~"])===c?c:f["$[]"](5))?g["$include?"](q(u,"R_SB")):b)&&(g=g.$gsub(q(u,"ESC_R_SB"),q(u,"R_SB"))));return q(u,"Inline").$new(a,"anchor",g,n(["type","id"],{type:"ref",id:d})).$convert()},U.$$s=this,U.$$arity=0,U)));e(e(d=e(l=f["$include?"]("&"))?f["$include?"](";&l"):l)?d:e(l=M)?f["$include?"]("xref:"):l)&&(f=p(f,"gsub",[q(u,"InlineXrefMacroRx")],(W=function(){var d=W.$$s||this,g,A,l=c,m=c,
K,M,z=M=c,N=c;if(e(((g=E["~"])===c?c:g["$[]"](0))["$start_with?"](q(u,"RS"))))return((g=E["~"])===c?c:g["$[]"](0)).$slice(1,((g=E["~"])===c?c:g["$[]"](0)).$length());var t=n([],{});if(e(A=(g=E["~"])===c?c:g["$[]"](1))){var D=A.$split(",",2);g=a.to_ary(D);A=null==g[0]?c:g[0];f=null==g[1]?c:g[1];D;e(f)&&(f=f.$lstrip())}else l=!0,A=(g=E["~"])===c?c:g["$[]"](2),e(f=(g=E["~"])===c?c:g["$[]"](3))&&(e(f["$include?"](q(u,"R_SB")))&&(f=f.$gsub(q(u,"ESC_R_SB"),q(u,"R_SB"))),e(e(g=sa.$compat_mode()["$!"]())?
f["$include?"]("="):g)&&(f=q(u,"AttributeList").$new(f,d).$parse_into(t)["$[]"](1)));e(sa.$compat_mode())?m=A:e(K=A.$index("#"))?e(k(K,0))?(e(k(M=h(h(A.$length(),1),K),0))?(g=[A.$slice(0,K),A.$slice(b(K,1),M)],M=g[0],m=g[1],g):M=A.$chop(),e(l)?e(M["$end_with?"](".adoc"))?z=M=M.$slice(0,h(M.$length(),5)):e(q(u,"Helpers")["$extname?"](M)["$!"]())&&(z=M):z=e(p(M,"end_with?",a.to_a(q(u,"ASCIIDOC_EXTENSIONS").$keys())))?M=M.$slice(0,M.$rindex(".")):M):(g=[A,A.$slice(1,A.$length())],N=g[0],m=g[1],g):e(l)?
e(A["$end_with?"](".adoc"))?z=M=A.$slice(0,h(A.$length(),5)):e(q(u,"Helpers")["$extname?"](A))?M=A:m=A:m=A;e(N)?(A=m,e(e(g=d.$logger()["$info?"]())?sa.$catalog()["$[]"]("refs")["$[]"](A)["$!"]():g)&&d.$logger().$info("possible invalid reference: "+A)):e(M)?e(e(g=z)?e(D=sa.$attributes()["$[]"]("docname")["$=="](M))?D:sa.$catalog()["$[]"]("includes")["$[]"](M):g)?e(m)?(g=[m,c,"#"+m],A=g[0],M=g[1],N=g[2],g,e(e(g=d.$logger()["$info?"]())?sa.$catalog()["$[]"]("refs")["$[]"](A)["$!"]():g)&&d.$logger().$info("possible invalid reference: "+
A)):(g=[c,c,"#"],A=g[0],M=g[1],N=g[2],g):(g=[M,""+sa.$attributes()["$[]"]("relfileprefix")+M+(e(z)?sa.$attributes().$fetch("relfilesuffix",sa.$outfilesuffix()):"")],A=g[0],M=g[1],g,e(m)?(g=[""+A+"#"+m,""+M+"#"+m],A=g[0],N=g[1],g):N=M):e(e(g=sa.$compat_mode())?g:q(u,"Compliance").$natural_xrefs()["$!"]())?(g=[m,"#"+m],A=g[0],N=g[1],g,e(e(g=d.$logger()["$info?"]())?sa.$catalog()["$[]"]("refs")["$[]"](A):g)&&d.$logger().$info("possible invalid reference: "+A)):e(sa.$catalog()["$[]"]("refs")["$[]"](m))?
(g=[m,"#"+m],A=g[0],N=g[1],g):e(e(g=e(D=m["$include?"](" "))?D:m.$downcase()["$!="](m))?A=sa.$resolve_id(m):g)?(g=[A,"#"+A],m=g[0],N=g[1],g):(g=[m,"#"+m],A=g[0],N=g[1],g,e(d.$logger()["$info?"]())&&d.$logger().$info("possible invalid reference: "+A));g=["path",M];p(t,"[]=",a.to_a(g));g[h(g.length,1)];g=["fragment",m];p(t,"[]=",a.to_a(g));g[h(g.length,1)];g=["refid",A];p(t,"[]=",a.to_a(g));g[h(g.length,1)];return q(u,"Inline").$new(d,"anchor",f,n(["type","target","attributes"],{type:"xref",target:N,
attributes:t})).$convert()},W.$$s=this,W.$$arity=0,W)));e(e(d=M)?f["$include?"]("tnote"):d)&&(f=p(f,"gsub",[q(u,"InlineFootnoteMacroRx")],(A=function(){var b=A.$$s||this,d,g,h,k,l=c,m=g=c,K=c;g=c;if(e(((d=E["~"])===c?c:d["$[]"](0))["$start_with?"](q(u,"RS"))))return((d=E["~"])===c?c:d["$[]"](0)).$slice(1,((d=E["~"])===c?c:d["$[]"](0)).$length());if(e((d=E["~"])===c?c:d["$[]"](1)))if(e((d=E["~"])===c?c:d["$[]"](3)))g=((h=E["~"])===c?c:h["$[]"](3)).$split(",",2),d=a.to_ary(g),l=null==d[0]?c:d[0],f=
null==d[1]?c:d[1],g,e(sa.$compat_mode())||b.$logger().$warn("found deprecated footnoteref macro: "+((d=E["~"])===c?c:d["$[]"](0))+"; use footnote macro with target instead");else return(d=E["~"])===c?c:d["$[]"](0);else l=(d=E["~"])===c?c:d["$[]"](2),f=(d=E["~"])===c?c:d["$[]"](3);if(e(l))e(f)?(f=b.$restore_passthroughs(b.$normalize_text(f,!0,!0)),g=sa.$counter("footnote-number"),sa.$register("footnotes",z(q(u,"Document"),"Footnote").$new(g,l,f)),d=["ref",c],m=d[0],K=d[1]):(e(g=p(sa.$footnotes(),"find",
[],(k=function(a){null==a&&(a=c);return a.$id()["$=="](l)},k.$$s=b,k.$$arity=1,k)))?d=[g.$index(),g.$text()]:(b.$logger().$warn("invalid footnote reference: "+l),d=[c,l]),g=d[0],f=d[1],d,d=["xref",l,c],m=d[0],K=d[1],l=d[2]),d;else if(e(f))f=b.$restore_passthroughs(b.$normalize_text(f,!0,!0)),g=sa.$counter("footnote-number"),sa.$register("footnotes",z(q(u,"Document"),"Footnote").$new(g,l,f)),m=K=c;else return(d=E["~"])===c?c:d["$[]"](0);return q(u,"Inline").$new(b,"footnote",f,n(["attributes","id",
"target","type"],{attributes:n(["index"],{index:g}),id:l,target:K,type:m})).$convert()},A.$$s=this,A.$$arity=0,A)));return f},X.$$arity=1);a.def(d,"$sub_post_replacements",V=function(a){var b,f,d,g=c,k=c;null==this.attributes&&(this.attributes=c);null==this.document&&(this.document=c);if(e(e(b=this.attributes["$[]"]("hardbreaks-option"))?b:this.document.$attributes()["$[]"]("hardbreaks-option"))){g=a.$split(q(u,"LF"),-1);if(e(l(g.$size(),2)))return a;k=g.$pop();return p(g,"map",[],(f=function(a){var b=
f.$$s||this;null==a&&(a=c);return q(u,"Inline").$new(b,"break",e(a["$end_with?"](q(u,"HARD_LINE_BREAK")))?a.$slice(0,h(a.$length(),2)):a,n(["type"],{type:"line"})).$convert()},f.$$s=this,f.$$arity=1,f))["$<<"](k).$join(q(u,"LF"))}return e(e(b=a["$include?"](q(u,"PLUS")))?a["$include?"](q(u,"HARD_LINE_BREAK")):b)?p(a,"gsub",[q(u,"HardLineBreakRx")],(d=function(){var a=d.$$s||this,b;return q(u,"Inline").$new(a,"break",(b=E["~"])===c?c:b["$[]"](1),n(["type"],{type:"line"})).$convert()},d.$$s=this,d.$$arity=
0,d)):a},V.$$arity=1);a.def(d,"$sub_source",B=function(a,b){return e(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},B.$$arity=2);a.def(d,"$sub_callouts",S=function(a){var f,d=c,g=c;d=e(this["$attr?"]("line-comment"))?q(u,"CalloutSourceRxMap")["$[]"](this.$attr("line-comment")):q(u,"CalloutSourceRx");g=0;return p(a,"gsub",[d],(f=function(){var a=f.$$s||this,d;null==a.document&&(a.document=c);return e((d=E["~"])===c?c:d["$[]"](2))?((d=E["~"])===c?c:d["$[]"](0)).$sub(q(u,
"RS"),""):q(u,"Inline").$new(a,"callout",((d=E["~"])===c?c:d["$[]"](4))["$=="](".")?(g=b(g,1)).$to_s():(d=E["~"])===c?c:d["$[]"](4),n(["id","attributes"],{id:a.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:(d=E["~"])===c?c:d["$[]"](1)})})).$convert()},f.$$s=this,f.$$arity=0,f))},S.$$arity=1);a.def(d,"$highlight_source",C=function(b,f){var d,g,h=c,k=c,m,z=c,N=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);if(!e(e(d=h=this.document.$syntax_highlighter())?
h["$highlight?"]():d))return this.$sub_source(b,f);e(f)&&(f=this.$extract_callouts(b),d=a.to_ary(f),b=null==d[0]?c:d[0],k=null==d[1]?c:d[1],f);f=this.document.$attributes();var p=h.$name();e(m=e(this["$attr?"]("linenums"))?(e(d=f["$[]"](""+p+"-linenums-mode"))?d:"table").$to_sym():c)&&e(l(z=this.$attr("start",1).$to_i(),1))&&(z=1);e(this["$attr?"]("highlight"))&&(N=this.$resolve_lines_to_highlight(b,this.$attr("highlight")));f=h.$highlight(this,b,this.$attr("language"),n("callouts css_mode highlight_lines number_lines start_line_number style".split(" "),
{callouts:k,css_mode:(e(g=f["$[]"](""+p+"-css"))?g:"class").$to_sym(),highlight_lines:N,number_lines:m,start_line_number:z,style:f["$[]"](""+p+"-style")}));d=a.to_ary(f);b=null==d[0]?c:d[0];d=null==d[1]?c:d[1];f;e(this.passthroughs["$empty?"]())||(b=b.$gsub(q(u,"HighlightedPassSlotRx"),""+q(u,"PASS_START")+"\\1"+q(u,"PASS_END")));return e(k["$nil_or_empty?"]())?b:this.$restore_callouts(b,k,d)},C.$$arity=2);a.def(d,"$resolve_lines_to_highlight",ba=function(f,d){var g,n=c;n=[];e(d["$include?"](" "))&&
(d=d.$delete(" "));p(e(d["$include?"](","))?d.$split(","):d.$split(";"),"map",[],(g=function(d){var g,k=c;null==d&&(d=c);e(d["$start_with?"]("!"))&&(d=d.$slice(1,d.$length()),k=!0);if(e(g=e(d["$include?"](".."))?"..":e(d["$include?"]("-"))?"-":c)){g=d.$partition(g);d=a.to_ary(g);var m=null==d[0]?c:d[0];var z=null==d[2]?c:d[2];g;e(e(d=z["$empty?"]())?d:l(z=z.$to_i(),0))&&(z=b(f.$count(q(u,"LF")),1));d=a.Range.$new(m.$to_i(),z,!1).$to_a();return e(k)?n=h(n,d):n.$concat(d)}return e(k)?n.$delete(d.$to_i()):
n["$<<"](d.$to_i())},g.$$s=this,g.$$arity=1,g));return n.$sort().$uniq()},ba.$$arity=2);a.def(d,"$extract_passthroughs",da=function(b){var f,d,g,l,z,N=c,t=c,D=c,L=c,r=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);N=this.document.$compat_mode();t=this.passthroughs;e(e(f=e(d=b["$include?"]("++"))?d:b["$include?"]("$$"))?f:b["$include?"]("ss:"))&&(b=p(b,"gsub",[q(u,"InlinePassMacroRx")],(g=function(){var b=g.$$s||this,f,d,l,A,K=c,z=c,M=c,D=l=c;if(e(d=(f=E["~"])===
c?c:f["$[]"](4))){if(e(e(f=N)?d["$=="]("++"):f))return(e((f=E["~"])===c?c:f["$[]"](2))?""+((f=E["~"])===c?c:f["$[]"](1))+"["+((f=E["~"])===c?c:f["$[]"](2))+"]"+((f=E["~"])===c?c:f["$[]"](3)):""+((f=E["~"])===c?c:f["$[]"](1))+((f=E["~"])===c?c:f["$[]"](3)))+"++"+b.$extract_passthroughs((f=E["~"])===c?c:f["$[]"](5))+"++";if(e(l=(f=E["~"])===c?c:f["$[]"](2))){if(e(k(A=((f=E["~"])===c?c:f["$[]"](3)).$length(),0)))return""+((f=E["~"])===c?c:f["$[]"](1))+"["+l+"]"+m(q(u,"RS"),h(A,1))+d+((f=E["~"])===c?
c:f["$[]"](5))+d;((f=E["~"])===c?c:f["$[]"](1))["$=="](q(u,"RS"))?K="["+l+"]":(e((f=d["$=="]("++"))?l["$end_with?"]("x-"):d["$=="]("++"))&&(z=!0,l=l.$slice(0,h(l.$length(),2))),M=b.$parse_quoted_text_attributes(l))}else if(e(k(A=((f=E["~"])===c?c:f["$[]"](3)).$length(),0)))return""+m(q(u,"RS"),h(A,1))+d+((f=E["~"])===c?c:f["$[]"](5))+d;l=d["$=="]("+++")?[]:q(u,"BASIC_SUBS");b=e(M)?e(z)?[D=t.$size(),n(["text","subs","type","attributes"],{text:(f=E["~"])===c?c:f["$[]"](5),subs:q(u,"NORMAL_SUBS"),type:"monospaced",
attributes:M})]:[D=t.$size(),n(["text","subs","type","attributes"],{text:(f=E["~"])===c?c:f["$[]"](5),subs:l,type:"unquoted",attributes:M})]:[D=t.$size(),n(["text","subs"],{text:(f=E["~"])===c?c:f["$[]"](5),subs:l})]}else{if(((f=E["~"])===c?c:f["$[]"](6))["$=="](q(u,"RS")))return((f=E["~"])===c?c:f["$[]"](0)).$slice(1,((f=E["~"])===c?c:f["$[]"](0)).$length());b=e(l=(f=E["~"])===c?c:f["$[]"](7))?[D=t.$size(),n(["text","subs"],{text:b.$normalize_text((f=E["~"])===c?c:f["$[]"](8),c,!0),subs:b.$resolve_pass_subs(l)})]:
[D=t.$size(),n(["text"],{text:b.$normalize_text((f=E["~"])===c?c:f["$[]"](8),c,!0)})]}p(t,"[]=",a.to_a(b));b[h(b.length,1)];return""+(e(f=K)?f:"")+q(u,"PASS_START")+D+q(u,"PASS_END")},g.$$s=this,g.$$arity=0,g)));d=q(u,"InlinePassRx")["$[]"](N);f=a.to_ary(d);D=null==f[0]?c:f[0];L=null==f[1]?c:f[1];r=null==f[2]?c:f[2];d;e(e(f=b["$include?"](D))?f:e(d=L)?b["$include?"](L):d)&&(b=p(b,"gsub",[r],(l=function(){var b=l.$$s||this,f,d,g=c,k=c,m=c;var z=(f=E["~"])===c?c:f["$[]"](1);var M=(f=E["~"])===c?c:f["$[]"](2);
e((d=(f=E["~"])===c?c:f["$[]"](3))["$start_with?"](q(u,"RS")))&&(g=q(u,"RS"));var D=(f=E["~"])===c?c:f["$[]"](4);var pa=(f=E["~"])===c?c:f["$[]"](5);e(N)?k=!0:e(k=e(f=M)?M["$end_with?"]("x-"):f)&&(M=M.$slice(0,h(M.$length(),2)));if(e(M)){if(e(D["$=="]("`")?k["$!"]():D["$=="]("`")))return b.$extract_inner_passthrough(pa,""+z+"["+M+"]"+g);if(e(g))return""+z+"["+M+"]"+d.$slice(1,d.$length());z["$=="](q(u,"RS"))?z="["+M+"]":m=b.$parse_quoted_text_attributes(M)}else{if(e(D["$=="]("`")?k["$!"]():D["$=="]("`")))return b.$extract_inner_passthrough(pa,
""+z+g);if(e(g))return""+z+d.$slice(1,d.$length())}e(N)?pa=[b=t.$size(),n(["text","subs","attributes","type"],{text:pa,subs:q(u,"BASIC_SUBS"),attributes:m,type:"monospaced"})]:e(m)?e(k)?(f=D["$=="]("`")?q(u,"BASIC_SUBS"):q(u,"NORMAL_SUBS"),pa=[b=t.$size(),n(["text","subs","attributes","type"],{text:pa,subs:f,attributes:m,type:"monospaced"})]):pa=[b=t.$size(),n(["text","subs","attributes","type"],{text:pa,subs:q(u,"BASIC_SUBS"),attributes:m,type:"unquoted"})]:pa=[b=t.$size(),n(["text","subs"],{text:pa,
subs:q(u,"BASIC_SUBS")})];p(t,"[]=",a.to_a(pa));pa[h(pa.length,1)];return""+z+q(u,"PASS_START")+b+q(u,"PASS_END")},l.$$s=this,l.$$arity=0,l)));e(e(f=b["$include?"](":"))?e(d=b["$include?"]("stem:"))?d:b["$include?"]("math:"):f)&&(b=p(b,"gsub",[q(u,"InlineStemMacroRx")],(z=function(){var b=z.$$s||this,f,d;null==b.document&&(b.document=c);if(e(((f=E["~"])===c?c:f["$[]"](0))["$start_with?"](q(u,"RS"))))return((f=E["~"])===c?c:f["$[]"](0)).$slice(1,((f=E["~"])===c?c:f["$[]"](0)).$length());(d=((f=E["~"])===
c?c:f["$[]"](1)).$to_sym())["$=="]("stem")&&(d=q(u,"STEM_TYPE_ALIASES")["$[]"](b.document.$attributes()["$[]"]("stem")).$to_sym());var g=(f=E["~"])===c?c:f["$[]"](2);var k=b.$normalize_text((f=E["~"])===c?c:f["$[]"](3),c,!0);e(e(f=d["$=="]("latexmath")?k["$start_with?"]("$"):d["$=="]("latexmath"))?k["$end_with?"]("$"):f)&&(k=k.$slice(1,h(k.$length(),2)));g=e(g)?b.$resolve_pass_subs(g):e(b.document["$basebackend?"]("html"))?q(u,"BASIC_SUBS"):c;d=[b=t.$size(),n(["text","subs","type"],{text:k,subs:g,
type:d})];p(t,"[]=",a.to_a(d));d[h(d.length,1)];return""+q(u,"PASS_START")+b+q(u,"PASS_END")},z.$$s=this,z.$$arity=0,z)));return b},da.$$arity=1);a.def(d,"$restore_passthroughs",Z=function(a){var b,f=c;null==this.passthroughs&&(this.passthroughs=c);f=this.passthroughs;return p(a,"gsub",[q(u,"PassSlotRx")],(b=function(){var d=b.$$s||this,g,h,k,l,m=c;if(e(h=f["$[]"](((g=E["~"])===c?c:g["$[]"](1)).$to_i())))return g=d.$apply_subs(h["$[]"]("text"),h["$[]"]("subs")),e(k=h["$[]"]("type"))&&(e(l=h["$[]"]("attributes"))&&
(m=l["$[]"]("id")),g=q(u,"Inline").$new(d,"quoted",g,n(["type","id","attributes"],{type:k,id:m,attributes:l})).$convert()),e(g["$include?"](q(u,"PASS_START")))?d.$restore_passthroughs(g):g;d.$logger().$error("unresolved passthrough detected: "+a);return"??pass??"},b.$$s=this,b.$$arity=0,b))},Z.$$arity=1);a.def(d,"$resolve_subs",F=function(a,f,d,g){var n,l=c,m=c,z=c,N=c;null==f&&(f="block");null==d&&(d=c);null==g&&(g=c);if(e(a["$nil_or_empty?"]()))return c;l=c;e(a["$include?"](" "))&&(a=a.$delete(" "));
m=q(u,"SubModifierSniffRx")["$match?"](a);p(a.$split(","),"each",[],(n=function(a){var g,n,k=c;null==a&&(a=c);var z=c;e(m)&&((g=a.$chr())["$=="]("+")?(z="append",a=a.$slice(1,a.$length())):g["$=="]("-")?(z="remove",a=a.$slice(1,a.$length())):e(a["$end_with?"]("+"))&&(z="prepend",a=a.$chop()));a=a.$to_sym();e((g=f["$=="]("inline"))?e(n=a["$=="]("verbatim"))?n:a["$=="]("v"):f["$=="]("inline"))?a=q(u,"BASIC_SUBS"):e(q(u,"SUB_GROUPS")["$key?"](a))?a=q(u,"SUB_GROUPS")["$[]"](a):e(e(g=f["$=="]("inline")?
a.$length()["$=="](1):f["$=="]("inline"))?q(u,"SUB_HINTS")["$key?"](a):g)?(a=q(u,"SUB_HINTS")["$[]"](a),a=e(k=q(u,"SUB_GROUPS")["$[]"](a))?k:[a]):a=[a];if(e(z))return l=e(g=l)?g:e(d)?d.$drop(0):[],"append"["$==="](z)?l=b(l,a):"prepend"["$==="](z)?l=b(a,l):"remove"["$==="](z)?l=h(l,a):c;l=e(g=l)?g:[];return l=b(l,a)},n.$$s=this,n.$$arity=1,n));if(!e(l))return c;z=l["$&"](q(u,"SUB_OPTIONS")["$[]"](f));e(h(l,z)["$empty?"]())||(N=h(l,z),this.$logger().$warn("invalid substitution type"+(e(k(N.$size(),
1))?"s":"")+(e(g)?" for ":"")+g+": "+N.$join(", ")));return z},F.$$arity=-2);a.def(d,"$resolve_block_subs",v=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},v.$$arity=3);a.def(d,"$resolve_pass_subs",G=function(a){return this.$resolve_subs(a,"inline",c,"passthrough macro")},G.$$arity=1);a.def(d,"$expand_subs",I=function(a){var f,d,g=c;if(e(z("::","Symbol")["$==="](a)))return a["$=="]("none")?c:e(f=q(u,"SUB_GROUPS")["$[]"](a))?f:[a];g=[];p(a,"each",[],(d=function(a){var f;null==a&&(a=c);return a["$=="]("none")?
c:e(f=q(u,"SUB_GROUPS")["$[]"](a))?g=b(g,f):g["$<<"](a)},d.$$s=this,d.$$arity=1,d));return e(g["$empty?"]())?c:g},I.$$arity=1);a.def(d,"$commit_subs",oa=function(){var b,f,d,g,n=c,k=c,l=c;null==this.default_subs&&(this.default_subs=c);null==this.content_model&&(this.content_model=c);null==this.context&&(this.context=c);null==this.subs&&(this.subs=c);null==this.attributes&&(this.attributes=c);null==this.style&&(this.style=c);null==this.document&&(this.document=c);if(!e(g=this.default_subs))if(g=this.content_model,
"simple"["$==="](g))g=q(u,"NORMAL_SUBS");else if("verbatim"["$==="](g))g=this.context["$=="]("verse")?q(u,"NORMAL_SUBS"):q(u,"VERBATIM_SUBS");else if("raw"["$==="](g))g=this.context["$=="]("stem")?q(u,"BASIC_SUBS"):q(u,"NO_SUBS");else return this.subs;e(n=this.attributes["$[]"]("subs"))?this.subs=e(b=this.$resolve_block_subs(n,g,this.context))?b:[]:this.subs=g.$drop(0);e(e(b=e(f=e(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?k=this.document.$syntax_highlighter():
d)?k["$highlight?"]():f)?l=this.subs.$index("specialcharacters"):b)&&(b=[l,"highlight"],p(this.subs,"[]=",a.to_a(b)),b[h(b.length,1)]);return c},oa.$$arity=0);a.def(d,"$parse_attributes",Y=function(a,b,f){var d,g=c,h=c;null==this.document&&(this.document=c);null==b&&(b=[]);null==f&&(f=n([],{}));if(e(e(a)?a["$empty?"]():!0))return n([],{});e(f["$[]"]("unescape_input"))&&(a=this.$normalize_text(a,!0,!0));e(e(d=f["$[]"]("sub_input"))?a["$include?"](q(u,"ATTR_REF_HEAD")):d)&&(a=this.document.$sub_attributes(a));
e(f["$[]"]("sub_result"))&&(g=this);return e(h=f["$[]"]("into"))?q(u,"AttributeList").$new(a,g).$parse_into(h,b):q(u,"AttributeList").$new(a,g).$parse(b)},Y.$$arity=-2);d.$private();a.def(d,"$extract_callouts",J=function(f){var d,g=c,k=c,l=c,m=c;g=n([],{});k=0;l=c;m=e(this["$attr?"]("line-comment"))?q(u,"CalloutExtractRxMap")["$[]"](this.$attr("line-comment")):q(u,"CalloutExtractRx");f=p(f.$split(q(u,"LF"),-1),"map",[],(d=function(f){var n=d.$$s||this,z;null==f&&(f=c);k=b(k,1);return p(f,"gsub",[m],
(z=function(){var b,f=c;if(e((b=E["~"])===c?c:b["$[]"](2)))return((b=E["~"])===c?c:b["$[]"](0)).$sub(q(u,"RS"),"");(e(b=g["$[]"](k))?b:(f=[k,[]],p(g,"[]=",a.to_a(f)),f[h(f.length,1)]))["$<<"]([(b=E["~"])===c?c:b["$[]"](1),(b=E["~"])===c?c:b["$[]"](4)]);l=k;return""},z.$$s=n,z.$$arity=0,z))},d.$$s=this,d.$$arity=1,d)).$join(q(u,"LF"));e(l)?l["$=="](k)&&(f=""+f+q(u,"LF")):g=c;return[f,g]},J.$$arity=1);a.def(d,"$restore_callouts",qa=function(f,d,g){var h,k=c,l=c,m=c;null==g&&(g=c);e(g)?(k=f.$slice(0,
g),f=f.$slice(g,f.$length())):k="";l=m=0;return b(k,p(f.$split(q(u,"LF"),-1),"map",[],(h=function(f){var g=h.$$s||this,k,z,N=k=c;var t=c;null==g.document&&(g.document=c);null==f&&(f=c);return e(k=d.$delete(m=b(m,1)))?k.$size()["$=="](1)?(k=k["$[]"](0),t=a.to_ary(k),N=null==t[0]?c:t[0],t=null==t[1]?c:t[1],k,""+f+q(u,"Inline").$new(g,"callout",t["$=="](".")?(l=b(l,1)).$to_s():t,n(["id","attributes"],{id:g.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:N})})).$convert()):""+f+p(k,
"map",[],(z=function(a,e){var f=z.$$s||this;null==f.document&&(f.document=c);null==a&&(a=c);null==e&&(e=c);return q(u,"Inline").$new(f,"callout",e["$=="](".")?(l=b(l,1)).$to_s():e,n(["id","attributes"],{id:f.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:a})})).$convert()},z.$$s=g,z.$$arity=2,z)).$join(" "):f},h.$$s=this,h.$$arity=1,h)).$join(q(u,"LF")))},qa.$$arity=-3);a.def(d,"$extract_inner_passthrough",na=function(b,f){var d,g;null==this.passthroughs&&(this.passthroughs=c);
if(e(e(d=e(g=b["$end_with?"]("+"))?b["$start_with?"]("+","\\+"):g)?q(u,"SinglePlusInlinePassRx")["$=~"](b):d)){if(e((d=E["~"])===c?c:d["$[]"](1)))return""+f+"`+"+((d=E["~"])===c?c:d["$[]"](2))+"+`";b=[g=this.passthroughs.$size(),n(["text","subs"],{text:(d=E["~"])===c?c:d["$[]"](2),subs:q(u,"BASIC_SUBS")})];p(this.passthroughs,"[]=",a.to_a(b));b[h(b.length,1)];return""+f+"`"+q(u,"PASS_START")+g+q(u,"PASS_END")+"`"}return""+f+"`"+b+"`"},na.$$arity=2);a.def(d,"$convert_quoted_text",Ja=function(a,b,f){var d=
c,g=c,h=c,k=c;if(e(a["$[]"](0)["$start_with?"](q(u,"RS"))))if(e(f["$=="]("constrained")?d=a["$[]"](2):f["$=="]("constrained")))g="["+d+"]";else return a["$[]"](0).$slice(1,a["$[]"](0).$length());if(f["$=="]("constrained")){if(e(g))return""+g+q(u,"Inline").$new(this,"quoted",a["$[]"](3),n(["type"],{type:b})).$convert();e(f=a["$[]"](2))&&(h=(k=this.$parse_quoted_text_attributes(f))["$[]"]("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+q(u,"Inline").$new(this,"quoted",a["$[]"](3),n(["type",
"id","attributes"],{type:b,id:h,attributes:k})).$convert()}e(f=a["$[]"](1))&&(h=(k=this.$parse_quoted_text_attributes(f))["$[]"]("id"),b["$=="]("mark")&&(b="unquoted"));return q(u,"Inline").$new(this,"quoted",a["$[]"](2),n(["type","id","attributes"],{type:b,id:h,attributes:k})).$convert()},Ja.$$arity=3);a.def(d,"$do_replacement",O=function(a,c,f){var d;return e((d=a["$[]"](0))["$include?"](q(u,"RS")))?d.$sub(q(u,"RS"),""):"none"["$==="](f)?c:"bounding"["$==="](f)?b(b(a["$[]"](1),c),a["$[]"](2)):b(a["$[]"](1),
c)},O.$$arity=3);q(u,"RUBY_ENGINE")["$=="]("opal")||c;a.def(d,"$parse_quoted_text_attributes",P=function(b){var f,d=c;if(e((b=b.$rstrip())["$empty?"]()))return n([],{});e(b["$include?"](q(u,"ATTR_REF_HEAD")))&&(b=this.$sub_attributes(b));e(b["$include?"](","))&&(b=b.$slice(0,b.$index(",")));if(e(e(f=b["$start_with?"](".","#"))?q(u,"Compliance").$shorthand_property_syntax():f)){var g=b.$split("#",2);e(k(g.$size(),1))?(b=g["$[]"](1).$split("."),f=a.to_ary(b),d=null==f[0]?c:f[0],f=t.call(f,1),b):f=[];
b=e(g["$[]"](0)["$empty?"]())?[]:g["$[]"](0).$split(".");e(k(b.$size(),1))&&b.$shift();e(k(f.$size(),0))&&b.$concat(f);f=n([],{});e(d)&&(d=["id",d],p(f,"[]=",a.to_a(d)),d[h(d.length,1)]);e(b["$empty?"]())||(d=["role",b.$join(" ")],p(f,"[]=",a.to_a(d)),d[h(d.length,1)]);return f}return n(["role"],{role:b})},P.$$arity=1);a.def(d,"$normalize_text",ea=function(a,b,f){var d;null==b&&(b=c);null==f&&(f=c);e(a["$empty?"]())||(e(b)&&(a=a.$strip().$tr(q(u,"LF")," ")),e(e(d=f)?a["$include?"](q(u,"R_SB")):d)&&
(a=a.$gsub(q(u,"ESC_R_SB"),q(u,"R_SB"))));return a},ea.$$arity=-2);a.def(d,"$split_simple_csv",ra=function(a){var f,d,g=c,h=c,n=c;return e(a["$empty?"]())?[]:e(a["$include?"]('"'))?(g=[],h="",n=c,p(a,"each_char",[],(f=function(a){var f=c;null==a&&(a=c);return function(){f=a;if(","["$==="](f)){if(e(n))return h=b(h,a);g["$<<"](h.$strip());return h=""}return'"'["$==="](f)?n=n["$!"]():h=b(h,a)}()},f.$$s=this,f.$$arity=1,f)),g["$<<"](h.$strip())):p(a.$split(","),"map",[],(d=function(a){null==a&&(a=c);
return a.$strip()},d.$$s=this,d.$$arity=1,d))},ra.$$arity=1)})(d[0],d)}(g[0],g)};Opal.modules["asciidoctor/version"]=function(a){var b=[],h=a.module;b=[h(b[0],"Asciidoctor")].concat(b);a.const_set(b[0],"VERSION","2.0.7")};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var k=[],l=a.nil,m=a.const_get_qualified,g=a.const_get_relative,c=a.module,
z=a.klass,q=a.hash2,p=a.truthy,t=a.send;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $[] $merge $raise $converter $attributes $key? $[]= $- $delete $tap $new $each_key $end_with? $<< $slice $length $update $split $include? $empty? $join $apply_reftext_subs $attr? $attr $extname? $image_uri $< $safe $uriish? $encode_uri $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $extname $normalize_system_path $readable? $strict_encode64 $binread $warn $logger $require_library $! $open_uri $content_type $read $base_dir $root? $path_resolver $system_path $web_path $=== $!= $prepare_source_string $fetch $read_asset".split(" "));
return function(d,f){d=[c(d,"Asciidoctor")].concat(f);(function(c,$super,f){c=z(c,$super,"AbstractNode");var e=[c].concat(f),d,n,k,u,D,r,w,H,E,y,Q,x,B,C,S,F,V,v,da,Z,G,I,J,O,oa,Y,wa,qa,P,Ja,Fa,Ka;c.$$prototype.document=c.$$prototype.attributes=c.$$prototype.parent=l;c.$include(g(e,"Substitutors"),g(e,"Logging"));c.$attr_reader("attributes");c.$attr_reader("context");c.$attr_reader("document");c.$attr_accessor("id");c.$attr_reader("node_name");c.$attr_reader("parent");a.def(c,"$initialize",d=function(a,
b,c){var f=l;null==c&&(c=q([],{}));b["$=="]("document")?this.document=this:p(a)&&(this.document=(this.parent=a).$document());this.node_name=(this.context=b).$to_s();this.attributes=p(f=c["$[]"]("attributes"))?f.$merge():q([],{});return this.passthroughs=[]},d.$$arity=-3);a.def(c,"$block?",n=function(){return this.$raise(m("::","NotImplementedError"))},n.$$arity=0);a.def(c,"$inline?",k=function(){return this.$raise(m("::","NotImplementedError"))},k.$$arity=0);a.def(c,"$converter",u=function(){return this.document.$converter()},
u.$$arity=0);a.def(c,"$parent=",D=function(a){var b;return b=[a,a.$document()],this.parent=b[0],this.document=b[1],b},D.$$arity=1);a.def(c,"$attr",r=function(a,b,c){var f,e,d,g;null==b&&(b=l);null==c&&(c=l);return p(f=this.attributes["$[]"](a.$to_s()))?f:p(e=p(d=p(g=c)?this.parent:g)?this.document.$attributes()["$[]"]((c["$=="](!0)?a:c).$to_s()):d)?e:b},r.$$arity=-2);a.def(c,"$attr?",w=function(a,b,c){var f,e;null==b&&(b=l);null==c&&(c=l);return p(b)?b["$=="](p(f=this.attributes["$[]"](a.$to_s()))?
f:p(p(e=c)?this.parent:e)?this.document.$attributes()["$[]"]((c["$=="](!0)?a:c).$to_s()):l):p(f=this.attributes["$key?"](a.$to_s()))?f:p(p(e=c)?this.parent:e)?this.document.$attributes()["$key?"]((c["$=="](!0)?a:c).$to_s()):!1},w.$$arity=-2);a.def(c,"$set_attr",H=function(c,f,e){null==f&&(f="");null==e&&(e=!0);if(p(e["$=="](!1)?this.attributes["$key?"](c):e["$=="](!1)))return!1;c=[c,f];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0},H.$$arity=-2);a.def(c,"$remove_attr",E=function(a){return this.attributes.$delete(a)},
E.$$arity=1);a.def(c,"$option?",y=function(a){return p(this.attributes["$[]"](""+a+"-option"))?!0:!1},y.$$arity=1);a.def(c,"$set_option",Q=function(c){c=[""+c+"-option",""];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return l},Q.$$arity=1);a.def(c,"$options",x=function(){var a;return t(m("::","Set").$new(),"tap",[],(a=function(c){var f=a.$$s||this,e;null==f.attributes&&(f.attributes=l);null==c&&(c=l);return t(f.attributes,"each_key",[],(e=function(a){null==a&&(a=l);return p(a.$to_s()["$end_with?"]("-option"))?
c["$<<"](a.$slice(0,b(a.$length(),7))):l},e.$$s=f,e.$$arity=1,e))},a.$$s=this,a.$$arity=1,a))},x.$$arity=0);a.def(c,"$update_attributes",B=function(a){return this.attributes.$update(a)},B.$$arity=1);a.def(c,"$role",C=function(){return this.attributes["$[]"]("role")},C.$$arity=0);a.def(c,"$roles",S=function(){var a;return p(a=this.attributes["$[]"]("role"))?a.$split():[]},S.$$arity=0);a.def(c,"$role?",F=function(a){null==a&&(a=l);return p(a)?a["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")},
F.$$arity=-1);a.def(c,"$has_role?",V=function(a){var b;return p(b=this.attributes["$[]"]("role"))?(" "+b+" ")["$include?"](" "+a+" "):!1},V.$$arity=1);a.def(c,"$add_role",v=function(c){var f;if(p(f=this.attributes["$[]"]("role"))){if(p((" "+f+" ")["$include?"](" "+c+" ")))return!1;c=["role",""+f+" "+c];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0}c=["role",c];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0},v.$$arity=1);a.def(c,"$remove_role",da=function(c){var f,e=l;
return p(p(f=e=this.attributes["$[]"]("role"))?(e=e.$split()).$delete(c):f)?(p(e["$empty?"]())?this.attributes.$delete("role"):(c=["role",e.$join(" ")],t(this.attributes,"[]=",a.to_a(c)),c[b(c.length,1)]),!0):!1},da.$$arity=1);a.def(c,"$reftext",Z=function(){var a;return p(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):l},Z.$$arity=0);a.def(c,"$reftext?",G=function(){return this.attributes["$key?"]("reftext")},G.$$arity=0);a.def(c,"$icon_uri",I=function(a){p(this["$attr?"]("icon"))?
(a=this.$attr("icon"),p(g(e,"Helpers")["$extname?"](a))||(a=""+a+"."+this.document.$attr("icontype","png"))):a=""+a+"."+this.document.$attr("icontype","png");return this.$image_uri(a,"iconsdir")},I.$$arity=1);a.def(c,"$image_uri",J=function(a,b){var c,f,d,n,q=l,k=l;null==b&&(b="imagesdir");return p(p(c=h((q=this.document).$safe(),m(g(e,"SafeMode"),"SECURE")))?q["$attr?"]("data-uri"):c)?p(p(c=p(f=g(e,"Helpers")["$uriish?"](a))?a=g(e,"Helpers").$encode_uri(a):f)?c:p(f=p(d=p(n=b)?k=q.$attr(b):n)?g(e,
"Helpers")["$uriish?"](k):d)?a=this.$normalize_web_path(a,k,!1):f)?p(q["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,q["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,b):this.$normalize_web_path(a,p(b)?q.$attr(b):l)},J.$$arity=-2);a.def(c,"$media_uri",O=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,p(b)?this.document.$attr(b):l)},O.$$arity=-2);a.def(c,"$generate_data_uri",oa=function(a,b){var c=l;null==b&&(b=l);var f=p(c=g(e,"Helpers").$extname(a,l))?
c["$=="](".svg")?"image/svg+xml":"image/"+c.$slice(1,c.$length()):"application/octet-stream";a=p(b)?this.$normalize_system_path(a,this.document.$attr(b),l,q(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);if(p(m("::","File")["$readable?"](a)))return"data:"+f+";base64,"+m("::","Base64").$strict_encode64(m("::","File").$binread(a));this.$logger().$warn("image to embed not found or not readable: "+a);return"data:"+f+";base64,"},oa.$$arity=-2);a.def(c,"$generate_data_uri_from_uri",
Y=function(b,c){var f,d=l,h=l;null==c&&(c=!1);p(c)?g(e,"Helpers").$require_library("open-uri/cached","open-uri-cached"):p(g(e,"RUBY_ENGINE_OPAL")["$!"]())&&m("::","OpenURI");try{var n=t(m("::","OpenURI"),"open_uri",[b,g(e,"URI_READ_MODE")],(f=function(a){null==a&&(a=l);return[a.$content_type(),a.$read()]},f.$$s=this,f.$$arity=1,f));var q=a.to_ary(n);d=null==q[0]?l:q[0];h=null==q[1]?l:q[1];n;return"data:"+d+";base64,"+m("::","Base64").$strict_encode64(h)}catch(Da){if(a.rescue(Da,[g(e,"StandardError")]))try{return this.$logger().$warn("could not retrieve image data from URI: "+
b),b}finally{a.pop_exception()}else throw Da;}},Y.$$arity=-2);a.def(c,"$normalize_asset_path",wa=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),l,q(["target_name","recover"],{target_name:b,recover:c}))},wa.$$arity=-2);a.def(c,"$normalize_system_path",qa=function(a,b,c,f){var d;null==b&&(b=l);null==c&&(c=l);null==f&&(f=q([],{}));p(h((d=this.document).$safe(),m(g(e,"SafeMode"),"SAFE")))?p(b)?p(d.$path_resolver()["$root?"](b))||(b=m("::",
"File").$join(d.$base_dir(),b)):b=d.$base_dir():(p(b)||(b=d.$base_dir()),p(c)||(c=d.$base_dir()));return d.$path_resolver().$system_path(a,b,c,f)},qa.$$arity=-2);a.def(c,"$normalize_web_path",P=function(a,b,c){var f;null==b&&(b=l);null==c&&(c=!0);return p(p(f=c)?g(e,"Helpers")["$uriish?"](a):f)?g(e,"Helpers").$encode_uri(a):this.document.$path_resolver().$web_path(a,b)},P.$$arity=-2);a.def(c,"$read_asset",Ja=function(a,b){var c;null==b&&(b=q([],{}));p(m("::","Hash")["$==="](b))||(b=q(["warn_on_failure"],
{warn_on_failure:b["$!="](!1)}));if(p(m("::","File")["$readable?"](a)))return p(b["$[]"]("normalize"))?g(e,"Helpers").$prepare_source_string(m("::","File").$read(a,q(["mode"],{mode:g(e,"FILE_READ_MODE")}))).$join(g(e,"LF")):m("::","File").$read(a,q(["mode"],{mode:g(e,"FILE_READ_MODE")}));p(b["$[]"]("warn_on_failure"))&&this.$logger().$warn(""+(p(c=this.$attr("docfile"))?c:"<stdin>")+": "+(p(c=b["$[]"]("label"))?c:"file")+" does not exist or cannot be read: "+a);return l},Ja.$$arity=-2);a.def(c,"$read_contents",
Fa=function(b,c){var f,d,h,n,k,u=l,z=l;null==c&&(c=q([],{}));u=this.document;if(p(p(f=g(e,"Helpers")["$uriish?"](b))?f:p(d=p(h=z=c["$[]"]("start"))?g(e,"Helpers")["$uriish?"](z):h)?b=u.$path_resolver().$web_path(b,z):d))if(p(u["$attr?"]("allow-uri-read"))){p(u["$attr?"]("cache-uri"))&&g(e,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{return p(c["$[]"]("normalize"))?g(e,"Helpers").$prepare_source_string(t(m("::","OpenURI"),"open_uri",[b,g(e,"URI_READ_MODE")],(n=function(a){null==
a&&(a=l);return a.$read()},n.$$s=this,n.$$arity=1,n))).$join(g(e,"LF")):t(m("::","OpenURI"),"open_uri",[b,g(e,"URI_READ_MODE")],(k=function(a){null==a&&(a=l);return a.$read()},k.$$s=this,k.$$arity=1,k))}catch(La){if(a.rescue(La,[g(e,"StandardError")]))try{return p(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(p(f=c["$[]"]("label"))?f:"asset")+" at URI: "+b),l}finally{a.pop_exception()}else throw La;}}else return p(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+
(p(f=c["$[]"]("label"))?f:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),l;else return b=this.$normalize_system_path(b,c["$[]"]("start"),l,q(["target_name"],{target_name:p(f=c["$[]"]("label"))?f:"asset"})),this.$read_asset(b,q(["normalize","warn_on_failure","label"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0),label:c["$[]"]("label")}))},Fa.$$arity=-2);return(a.def(c,"$is_uri?",Ka=function(a){return g(e,"Helpers")["$uriish?"](a)},Ka.$$arity=1),
l)&&"is_uri?"})(d[0],null,d)}(k[0],k)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,m=a.const_get_qualified,g=a.const_get_relative,c=a.module,z=a.klass,q=a.hash2,p=a.send,t=a.truthy;a.add_stubs("$attr_reader $attr_writer $attr_accessor $=== $level $file $lineno $playback_attributes $convert $converter $join $map $to_s $== $parent $parent= $- $<< $empty? $> $Integer $find_by_internal $to_proc $context $[] $items $+ $find_index $include? $next_adjacent_block $blocks $select $sub_specialchars $match? $sub_replacements $title $apply_title_subs $delete $reftext $! $sub_placeholder $sub_quotes $compat_mode $attributes $chomp $increment_and_store_counter $index= $numbered $sectname $counter $numeral= $numeral $caption= $int_to_roman $each $assign_numeral $reindex_sections $protected $has_role? $raise $header? $!= $flatten $head $rows $merge $body $foot $style $inner_document".split(" "));
return function(d,f){d=[c(d,"Asciidoctor")].concat(f);(function(c,$super,f){c=z(c,$super,"AbstractBlock");var e=[c].concat(f),d,n,k,u,r,D,w,E,H,y,Q,x,B,C,S,F,v,G,da,Z,V,I,J,O,oa,Y,wa,qa,P;c.$$prototype.source_location=c.$$prototype.document=c.$$prototype.attributes=c.$$prototype.blocks=c.$$prototype.next_section_index=c.$$prototype.numeral=c.$$prototype.context=c.$$prototype.parent=c.$$prototype.caption=c.$$prototype.style=c.$$prototype.converted_title=c.$$prototype.title=c.$$prototype.subs=c.$$prototype.next_section_ordinal=
c.$$prototype.id=c.$$prototype.header=l;c.$attr_reader("blocks");c.$attr_writer("caption");c.$attr_accessor("content_model");c.$attr_accessor("level");c.$attr_accessor("numeral");c.$attr_accessor("source_location");c.$attr_accessor("style");c.$attr_reader("subs");a.def(c,"$initialize",d=function(b,c,f){var h=d.$$p,n;h&&(d.$$p=null);var k=0;var u=arguments.length;for(n=Array(u);k<u;k++)n[k]=arguments[k];null==f&&(f=q([],{}));p(this,a.find_super_dispatcher(this,"initialize",d,!1),n,h);this.content_model=
"compound";this.blocks=[];this.subs=[];this.id=this.title=this.caption=this.numeral=this.style=this.default_subs=this.source_location=l;"document"["$==="](c)||"section"["$==="](c)?(this.level=this.next_section_index=0,h=this.next_section_ordinal=1):h=this.level=t(g(e,"AbstractBlock")["$==="](b))?b.$level():l;return h},d.$$arity=-3);a.def(c,"$block?",n=function(){return!0},n.$$arity=0);a.def(c,"$inline?",k=function(){return!1},k.$$arity=0);a.def(c,"$file",u=function(){var a;return t(a=this.source_location)?
this.source_location.$file():a},u.$$arity=0);a.def(c,"$lineno",r=function(){var a;return t(a=this.source_location)?this.source_location.$lineno():a},r.$$arity=0);a.def(c,"$convert",D=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},D.$$arity=0);a.alias(c,"render","convert");a.def(c,"$content",w=function(){var a;return p(this.blocks,"map",[],(a=function(a){null==a&&(a=l);return a.$convert()},a.$$s=this,a.$$arity=1,a)).$join(g(e,"LF"))},w.$$arity=
0);a.def(c,"$context=",E=function(a){return this.node_name=(this.context=a).$to_s()},E.$$arity=1);a.def(c,"$<<",H=function(c){if(!c.$parent()["$=="](this)){var f=[this];p(c,"parent=",a.to_a(f));f[b(f.length,1)]}this.blocks["$<<"](c);return this},H.$$arity=1);a.alias(c,"append","<<");a.def(c,"$blocks?",y=function(){return t(this.blocks["$empty?"]())?!1:!0},y.$$arity=0);a.def(c,"$sections?",Q=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},Q.$$arity=0);a.def(c,"$number",
x=function(){try{return this.$Integer(this.numeral)}catch(Ja){if(a.rescue(Ja,[g(e,"StandardError")]))try{return this.numeral}finally{a.pop_exception()}else throw Ja;}},x.$$arity=0);a.def(c,"$find_by",B=function(b){var c=B.$$p,f=c||l,e=l;c&&(B.$$p=null);c&&(B.$$p=null);null==b&&(b=q([],{}));try{return p(this,"find_by_internal",[b,e=[]],f.$to_proc())}catch(ra){if(a.rescue(ra,[m("::","StopIteration")]))try{return e}finally{a.pop_exception()}else throw ra;}},B.$$arity=-1);a.alias(c,"query","find_by");
a.def(c,"$next_adjacent_block",C=function(){var a,b=l,c=l;return this.context["$=="]("document")?l:t((b=this.parent).$context()["$=="]("dlist")?this.context["$=="]("list_item"):(b=this.parent).$context()["$=="]("dlist"))?t(c=b.$items()["$[]"](h(p(b.$items(),"find_index",[],(a=function(b,c){var f=a.$$s||this,e;null==b&&(b=l);null==c&&(c=l);return t(e=b["$include?"](f))?e:c["$=="](f)},a.$$s=this,a.$$arity=2,a)),1)))?c:b.$next_adjacent_block():t(c=b.$blocks()["$[]"](h(b.$blocks().$find_index(this),1)))?
c:b.$next_adjacent_block()},C.$$arity=0);a.def(c,"$sections",S=function(){var a;return p(this.blocks,"select",[],(a=function(a){null==a&&(a=l);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},S.$$arity=0);a.def(c,"$alt",F=function(){var a;if(t(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);a=this.$sub_specialchars(a);return t(g(e,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return l},F.$$arity=
0);a.def(c,"$caption",v=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},v.$$arity=0);a.def(c,"$captioned_title",G=function(){return""+this.caption+this.$title()},G.$$arity=0);a.def(c,"$list_marker_keyword",da=function(a){var b;null==a&&(a=l);return g(e,"ORDERED_LIST_KEYWORDS")["$[]"](t(b=a)?b:this.style)},da.$$arity=-1);a.def(c,"$title",Z=function(){var a,b;return this.converted_title=t(a=this.converted_title)?a:t(b=this.title)?this.$apply_title_subs(this.title):
b},Z.$$arity=0);a.def(c,"$title?",V=function(){return t(this.title)?!0:!1},V.$$arity=0);a.def(c,"$title=",I=function(a){this.converted_title=l;return this.title=a},I.$$arity=1);a.def(c,"$sub?",J=function(a){return this.subs["$include?"](a)},J.$$arity=1);a.def(c,"$remove_sub",O=function(a){this.subs.$delete(a);return l},O.$$arity=1);a.def(c,"$xreftext",oa=function(a){var b,c,f=l,d=l,h=l;null==a&&(a=l);t(t(b=f=this.$reftext())?f["$empty?"]()["$!"]():b)?b=f:(t(t(b=t(c=a)?this.title:c)?this.caption:b)?
"full"["$==="](a)?(a=this.$sub_placeholder(this.$sub_quotes(t(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=t(t(b=t(c=this.numeral)?d=g(e,"CAPTION_ATTR_NAMES")["$[]"](this.context):c)?h=this.document.$attributes()["$[]"](d):b)?""+h+" "+this.numeral+", "+a:""+this.caption.$chomp(". ")+", "+a):a="short"["$==="](a)?t(t(b=t(c=this.numeral)?d=g(e,"CAPTION_ATTR_NAMES")["$[]"](this.context):c)?h=this.document.$attributes()["$[]"](d):b)?""+h+" "+this.numeral:this.caption.$chomp(". "):
this.$title():a=this.$title(),b=a);return b},oa.$$arity=-1);a.def(c,"$assign_caption",Y=function(a,b){var c,f,d=l,h=l;null==a&&(a=l);null==b&&(b=this.context);!t(t(c=t(f=this.caption)?f:this.title["$!"]())?c:this.caption=t(f=a)?f:this.document.$attributes()["$[]"]("caption"))&&t(t(c=d=g(e,"CAPTION_ATTR_NAMES")["$[]"](b))?h=this.document.$attributes()["$[]"](d):c)&&(this.caption=""+h+" "+(this.numeral=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return l},Y.$$arity=-1);a.def(c,
"$assign_numeral",wa=function(c){var f,d=l,n,q=l;this.next_section_index=h((d=[this.next_section_index],p(c,"index=",a.to_a(d)),d[b(d.length,1)]),1);t(d=c.$numbered())&&((n=c.$sectname())["$=="]("appendix")?(d=[this.document.$counter("appendix-number","A")],p(c,"numeral=",a.to_a(d)),d[b(d.length,1)],d=[t(q=this.document.$attributes()["$[]"]("appendix-caption"))?""+q+" "+c.$numeral()+": ":""+c.$numeral()+". "],p(c,"caption=",a.to_a(d)),d[b(d.length,1)]):t(t(f=n["$=="]("chapter"))?f:d["$=="]("chapter"))?
(d=[this.document.$counter("chapter-number",1).$to_s()],p(c,"numeral=",a.to_a(d)),d[b(d.length,1)]):(d=[n["$=="]("part")?g(e,"Helpers").$int_to_roman(this.next_section_ordinal):this.next_section_ordinal.$to_s()],p(c,"numeral=",a.to_a(d)),d[b(d.length,1)],this.next_section_ordinal=h(this.next_section_ordinal,1)));return l},wa.$$arity=1);a.def(c,"$reindex_sections",qa=function(){var a;this.next_section_index=0;this.next_section_ordinal=1;return p(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;
null==b&&(b=l);return b.$context()["$=="]("section")?(c.$assign_numeral(b),b.$reindex_sections()):l},a.$$s=this,a.$$arity=1,a))},qa.$$arity=0);c.$protected();return(a.def(c,"$find_by_internal",P=function(b,c){var f=P.$$p,e=f||l,d,g,n,k,u,z,N,L,r,D,w=l,E=l,H=l,y=l,U=l,W=l;W=l;f&&(P.$$p=null);f&&(P.$$p=null);null==b&&(b=q([],{}));null==c&&(c=[]);if(t(t(d=t(g=t(n=t(k=w=t(E=b["$[]"]("context"))?l:!0)?k:E["$=="](this.context))?t(k=(H=b["$[]"]("style"))["$!"]())?k:H["$=="](this.style):n)?t(n=(y=b["$[]"]("role"))["$!"]())?
n:this["$has_role?"](y):g)?t(g=(U=b["$[]"]("id"))["$!"]())?g:U["$=="](this.id):d))if(e!==l)if(t(W=a.yield1(e,this))){if("prune"["$==="](W))return c["$<<"](this),t(U)&&this.$raise(m("::","StopIteration")),c;if("reject"["$==="](W))return t(U)&&this.$raise(m("::","StopIteration")),c;"stop"["$==="](W)?this.$raise(m("::","StopIteration")):(c["$<<"](this),t(U)&&this.$raise(m("::","StopIteration")))}else t(U)&&this.$raise(m("::","StopIteration"));else c["$<<"](this),t(U)&&this.$raise(m("::","StopIteration"));
W=this.context;"document"["$==="](W)?E["$=="]("document")||(t(t(d=this["$header?"]())?t(g=w)?g:E["$=="]("section"):d)&&p(this.header,"find_by_internal",[b,c],e.$to_proc()),p(this.blocks,"each",[],(u=function(a){null==a&&(a=l);return t(E["$=="]("section")?a.$context()["$!="]("section"):E["$=="]("section"))?l:p(a,"find_by_internal",[b,c],e.$to_proc())},u.$$s=this,u.$$arity=1,u))):"dlist"["$==="](W)?t(t(d=w)?d:E["$!="]("section"))&&p(this.blocks.$flatten(),"each",[],(z=function(a){null==a&&(a=l);return t(a)?
p(a,"find_by_internal",[b,c],e.$to_proc()):l},z.$$s=this,z.$$arity=1,z)):"table"["$==="](W)?t(b["$[]"]("traverse_documents"))?(p(this.$rows().$head(),"each",[],(N=function(a){var f=N.$$s||this,d;null==a&&(a=l);return p(a,"each",[],(d=function(a){null==a&&(a=l);return p(a,"find_by_internal",[b,c],e.$to_proc())},d.$$s=f,d.$$arity=1,d))},N.$$s=this,N.$$arity=1,N)),E["$=="]("inner_document")&&(b=b.$merge(q(["context"],{context:"document"}))),p(h(this.$rows().$body(),this.$rows().$foot()),"each",[],(L=
function(a){var f=L.$$s||this,d;null==a&&(a=l);return p(a,"each",[],(d=function(a){null==a&&(a=l);p(a,"find_by_internal",[b,c],e.$to_proc());return a.$style()["$=="]("asciidoc")?p(a.$inner_document(),"find_by_internal",[b,c],e.$to_proc()):l},d.$$s=f,d.$$arity=1,d))},L.$$s=this,L.$$arity=1,L))):p(h(h(this.$rows().$head(),this.$rows().$body()),this.$rows().$foot()),"each",[],(r=function(a){var f=r.$$s||this,d;null==a&&(a=l);return p(a,"each",[],(d=function(a){null==a&&(a=l);return p(a,"find_by_internal",
[b,c],e.$to_proc())},d.$$s=f,d.$$arity=1,d))},r.$$s=this,r.$$arity=1,r)):p(this.blocks,"each",[],(D=function(a){null==a&&(a=l);return t(E["$=="]("section")?a.$context()["$!="]("section"):E["$=="]("section"))?l:p(a,"find_by_internal",[b,c],e.$to_proc())},D.$$s=this,D.$$arity=1,D));return c},P.$$arity=-1),l)&&"find_by_internal"})(d[0],g(d,"AbstractNode"),d)}(k[0],k)};Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}
function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var k=[],l=a.nil,m=a.const_get_qualified,g=a.const_get_relative,c=a.module,p=a.klass,q=a.hash,t=a.hash2,D=a.truthy,n=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each $[]= $- $private $skip_blank $== $peek $parse_attribute_value $get_byte $start_with? $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $split $empty? $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(f,e){f=[c(f,"Asciidoctor")].concat(e);(function(c,$super,f){c=p(c,$super,"AttributeList");var e=[c].concat(f),d,k,u,z,r,w,H,y,x,B,C,Q;c.$$prototype.attributes=c.$$prototype.scanner=c.$$prototype.delimiter=c.$$prototype.block=c.$$prototype.delimiter_skip_pattern=c.$$prototype.delimiter_boundary_pattern=l;a.const_set(e[0],"BACKSLASH","\\");a.const_set(e[0],"APOS","'");a.const_set(e[0],"BoundaryRxs",q('"',/.*?[^\\](?=")/,g(e,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/));a.const_set(e[0],
"EscapedQuotes",q('"','\\"',g(e,"APOS"),"\\'"));a.const_set(e[0],"NameRx",new RegExp(""+g(e,"CG_WORD")+"["+g(e,"CC_WORD")+"\\-.]*"));a.const_set(e[0],"BlankRx",/[ \t]+/);a.const_set(e[0],"SkipRxs",t([","],{",":/[ \t]*(,|$)/}));a.def(c,"$initialize",d=function(a,b,c){null==b&&(b=l);null==c&&(c=",");this.scanner=m("::","StringScanner").$new(a);this.block=b;this.delimiter=c;this.delimiter_skip_pattern=g(e,"SkipRxs")["$[]"](c);this.delimiter_boundary_pattern=g(e,"BoundaryRxs")["$[]"](c);return this.attributes=
l},d.$$arity=-2);a.def(c,"$parse_into",k=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},k.$$arity=-2);a.def(c,"$parse",u=function(a){var c;null==a&&(a=[]);if(D(this.attributes))return this.attributes;this.attributes=t([],{});for(c=0;D(this.$parse_attribute(c,a))&&!D(this.scanner["$eos?"]());)this.$skip_delimiter(),c=b(c,1);return this.attributes},u.$$arity=-1);a.def(c,"$rekey",z=function(a){return g(e,"AttributeList").$rekey(this.attributes,a)},z.$$arity=1);a.defs(c,"$rekey",r=function(c,
f){var e,d=l;d=0;n(f,"each",[],(e=function(f){var e;null==f&&(f=l);d=b(d,1);return D(f)&&D(e=c["$[]"](d))?(f=[f,e],n(c,"[]=",a.to_a(f)),f[h(f.length,1)]):l},e.$$s=this,e.$$arity=1,e));return c},r.$$arity=2);c.$private();a.def(c,"$parse_attribute",w=function(c,f){var d,q,k=l,u=l,m=u=l,p=l,z=l;u=k=u=p=l;null==c&&(c=0);null==f&&(f=[]);k=!1;this.$skip_blank();if((u=this.scanner.$peek(1))["$=="]('"'))u=this.$parse_attribute_value(this.scanner.$get_byte()),m=l;else if(u["$=="](g(e,"APOS")))u=this.$parse_attribute_value(this.scanner.$get_byte()),
m=l,D(u["$start_with?"](g(e,"APOS")))||(k=!0);else{u=this.$scan_name();p=0;z=l;if(D(this.scanner["$eos?"]())){if(!D(u))return!1}else p=D(d=this.$skip_blank())?d:0,z=this.scanner.$get_byte();if(D(D(d=z["$!"]())?d:z["$=="](this.delimiter)))m=l;else if(D(D(d=z["$!="]("="))?d:u["$!"]()))u=""+u+" "["$*"](p)+z+this.$scan_to_delimiter(),m=l;else if(this.$skip_blank(),D(this.scanner.$peek(1)))if((z=this.scanner.$get_byte())["$=="]('"'))m=this.$parse_attribute_value(z);else if(z["$=="](g(e,"APOS")))m=this.$parse_attribute_value(z),
D(m["$start_with?"](g(e,"APOS")))||(k=!0);else if(z["$=="](this.delimiter))m="";else if(m=""+z+this.$scan_to_delimiter(),m["$=="]("None"))return!0}D(m)?(p=u,"options"["$==="](p)||"opts"["$==="](p)?D(m["$include?"](","))?(D(m["$include?"](" "))&&(m=m.$delete(" ")),n(m.$split(","),"each",[],(q=function(b){var c=q.$$s||this;null==c.attributes&&(c.attributes=l);null==b&&(b=l);if(D(b["$empty?"]()))return l;b=[""+b+"-option",""];n(c.attributes,"[]=",a.to_a(b));return b[h(b.length,1)]},q.$$s=this,q.$$arity=
1,q))):D(m["$empty?"]())||(u=[""+m+"-option",""],n(this.attributes,"[]=",a.to_a(u)),u[h(u.length,1)]):(D(D(d=k)?this.block:d)?(p=u,u="title"["$==="](p)||"reftext"["$==="](p)?[u,m]:[u,this.block.$apply_subs(m)]):u=[u,m],n(this.attributes,"[]=",a.to_a(u)),u[h(u.length,1)])):(k=D(D(d=k)?this.block:d)?this.block.$apply_subs(u):u,D(u=f["$[]"](c))&&(u=[u,k],n(this.attributes,"[]=",a.to_a(u)),u[h(u.length,1)]),u=[b(c,1),k],n(this.attributes,"[]=",a.to_a(u)),u[h(u.length,1)]);return!0},w.$$arity=-1);a.def(c,
"$parse_attribute_value",H=function(a){var b;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):D(b=this.$scan_to_quote(a))?(this.scanner.$get_byte(),D(b["$include?"](g(e,"BACKSLASH")))?b.$gsub(g(e,"EscapedQuotes")["$[]"](a),a):b):""+a+this.$scan_to_delimiter()},H.$$arity=1);a.def(c,"$skip_blank",y=function(){return this.scanner.$skip(g(e,"BlankRx"))},y.$$arity=0);a.def(c,"$skip_delimiter",x=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},x.$$arity=0);a.def(c,
"$scan_name",B=function(){return this.scanner.$scan(g(e,"NameRx"))},B.$$arity=0);a.def(c,"$scan_to_delimiter",C=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},C.$$arity=0);return(a.def(c,"$scan_to_quote",Q=function(a){return this.scanner.$scan(g(e,"BoundaryRxs")["$[]"](a))},Q.$$arity=1),l)&&"scan_to_quote"})(f[0],null,f)}(k[0],k)};Opal.modules["asciidoctor/block"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=[],k=a.nil,l=a.const_get_qualified,
m=a.const_get_relative,g=a.module,c=a.klass,p=a.send,q=a.hash2,t=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $drop $delete $[]= $commit_subs $nil_or_empty? $prepare_source_string $apply_subs $join $< $size $empty? $rstrip $shift $pop $warn $logger $to_s $class $object_id $inspect".split(" "));return function(d,h){d=[g(d,"Asciidoctor")].concat(h);(function(f,$super,d){f=c(f,$super,"Block");var g=[f].concat(d),h,n,z,r;d=k;f.$$prototype.attributes=f.$$prototype.content_model=
f.$$prototype.lines=f.$$prototype.subs=f.$$prototype.blocks=f.$$prototype.context=f.$$prototype.style=k;d=["simple"];p(a.const_set(g[0],"DEFAULT_CONTENT_MODEL",q("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(d));d[b(d.length,1)];a.alias(f,"blockname","context");f.$attr_accessor("lines");
a.def(f,"$initialize",h=function(c,f,d){var n,u=h.$$p,z,N;u&&(h.$$p=null);var r=0;var D=arguments.length;for(N=Array(D);r<D;r++)N[r]=arguments[r];null==d&&(d=q([],{}));p(this,a.find_super_dispatcher(this,"initialize",h,!1),N,u);this.content_model=t(n=d["$[]"]("content_model"))?n:m(g,"DEFAULT_CONTENT_MODEL")["$[]"](f);t(d["$key?"]("subs"))?t(n=d["$[]"]("subs"))?(n["$=="]("default")?this.default_subs=d["$[]"]("default_subs"):t(l("::","Array")["$==="](n))?(this.default_subs=n.$drop(0),this.attributes.$delete("subs")):
(this.default_subs=k,n=["subs",""+n],p(this.attributes,"[]=",a.to_a(n)),n[b(n.length,1)]),this.$commit_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=k;return t((z=d["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:t(l("::","String")["$==="](z))?this.lines=m(g,"Helpers").$prepare_source_string(z):this.lines=z.$drop(0)},h.$$arity=-3);a.def(f,"$content",n=function(){var b,c=n.$$p,f=this,d=k,h=k,q=k,l=k,z=k,N=k,r=k;c&&(n.$$p=null);N=0;r=arguments.length;for(z=Array(r);N<
r;N++)z[N]=arguments[N];return function(){d=f.content_model;if("compound"["$==="](d))return p(f,a.find_super_dispatcher(f,"content",n,!1),z,c);if("simple"["$==="](d))return f.$apply_subs(f.lines.$join(m(g,"LF")),f.subs);if("verbatim"["$==="](d)||"raw"["$==="](d)){h=f.$apply_subs(f.lines,f.subs);var u=h.$size();u="number"===typeof u?2>u:u["$<"](2);if(t(u))return h["$[]"](0);for(;t(t(b=q=h["$[]"](0))?q.$rstrip()["$empty?"]():b);)h.$shift();for(;t(t(b=l=h["$[]"](-1))?l.$rstrip()["$empty?"]():b);)h.$pop();
return h.$join(m(g,"LF"))}f.content_model["$=="]("empty")||f.$logger().$warn("Unknown content model '"+f.content_model+"' for block: "+f.$to_s());return k}()},n.$$arity=0);a.def(f,"$source",z=function(){return this.lines.$join(m(g,"LF"))},z.$$arity=0);return(a.def(f,"$to_s",r=function(){var a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+
", style: "+this.style.$inspect()+", "+a+"}>"},r.$$arity=0),k)&&"to_s"})(d[0],m(d,"AbstractBlock"),d)}(h[0],h)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var k=[],l=a.nil,m=a.module,g=a.klass,c=a.hash2,p=a.truthy,q=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $private $generate_callout_id".split(" "));
return function(d,k){d=[m(d,"Asciidoctor")].concat(k);(function(d,$super,e){d=g(d,$super,"Callouts");[d].concat(e);var n,k,m,z,t,r,u,D,w;d.$$prototype.co_index=d.$$prototype.lists=d.$$prototype.list_index=l;a.def(d,"$initialize",n=function(){this.lists=[];this.list_index=0;return this.$next_list()},n.$$arity=0);a.def(d,"$register",k=function(a){this.$current_list()["$<<"](c(["ordinal","id"],{ordinal:a.$to_i(),id:a=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return a},k.$$arity=
1);a.def(d,"$read_next_id",m=function(){var a=l;var c=this.$current_list();var e=this.co_index;var d=c.$size();e="number"===typeof e&&"number"===typeof d?e<=d:e["$<="](d);p(e)&&(a=c["$[]"](h(this.co_index,1))["$[]"]("id"));this.co_index=b(this.co_index,1);return a},m.$$arity=0);a.def(d,"$callout_ids",z=function(a){var b;return q(this.$current_list(),"map",[],(b=function(b){null==b&&(b=l);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":""},b.$$s=this,b.$$arity=1,b)).$join().$chop()},z.$$arity=
1);a.def(d,"$current_list",t=function(){return this.lists["$[]"](h(this.list_index,1))},t.$$arity=0);a.def(d,"$next_list",r=function(){this.list_index=b(this.list_index,1);var a=this.lists.$size();var c=this.list_index;a="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(p(a))this.lists["$<<"]([]);this.co_index=1;return l},r.$$arity=0);a.def(d,"$rewind",u=function(){this.co_index=this.list_index=1;return l},u.$$arity=0);d.$private();a.def(d,"$generate_next_callout_id",D=function(){return this.$generate_callout_id(this.list_index,
this.co_index)},D.$$arity=0);return(a.def(d,"$generate_callout_id",w=function(a,b){return"CO"+a+"-"+b},w.$$arity=2),l)&&"generate_callout_id"})(d[0],null,d)}(k[0],k)};Opal.modules["asciidoctor/converter"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,m=a.const_get_qualified,g=a.const_get_relative,c=a.module,p=a.hash2,q=a.truthy,t=a.send,D=a.klass,n=a.gvars;a.add_stubs("$autoload $__dir__ $attr_reader $raise $class $[] $sub $slice $length $== $[]= $backend_traits $- $derive_backend_traits $register $new $create $default $each $default= $registry $for $=== $supports_templates? $merge $private $include $delete $clear $private_class_method $send $extend $node_name $+ $receiver $to_s $name $warn $logger $respond_to? $content".split(" "));
return function(f,e){f=[c(f,"Asciidoctor")].concat(e);(function(f,e){f=c(f,"Converter");var d=[f].concat(e),k,z,r,u,w,E;f.$autoload("CompositeConverter",""+f.$__dir__()+"/converter/composite");f.$autoload("TemplateConverter",""+f.$__dir__()+"/converter/template");f.$attr_reader("backend");a.def(f,"$initialize",k=function(a,b){null==b&&p([],{});return this.backend=a},k.$$arity=-2);a.def(f,"$convert",z=function(a,b,c){null==this.backend&&(this.backend=l);return this.$raise(m("::","NotImplementedError"),
""+this.$class()+" (backend: "+this.backend+") must implement the #convert method")},z.$$arity=-2);a.def(f,"$handles?",r=function(a){return!0},r.$$arity=1);a.defs(f,"$derive_backend_traits",u=function(a){var b,c,f;if(!q(a))return p([],{});q(b=g(d,"DEFAULT_EXTENSIONS")["$[]"](c=a.$sub(g(d,"TrailingDigitsRx"),"")))?f=b.$slice(1,b.$length()):b="."+(f=c);return f["$=="]("html")?p(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:c,filetype:f,htmlsyntax:"html",outfilesuffix:b}):p(["basebackend",
"filetype","outfilesuffix"],{basebackend:c,filetype:f,outfilesuffix:b})},u.$$arity=1);(function(f,e){f=c(f,"BackendTraits");var d=[f].concat(e),h,n,k,u,m,z,N,r,D;a.def(f,"$basebackend",h=function(c){null==c&&(c=l);return q(c)?(c=["basebackend",c],t(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("basebackend")},h.$$arity=-1);a.def(f,"$filetype",n=function(c){null==c&&(c=l);return q(c)?(c=["filetype",c],t(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,
1)]):this.$backend_traits()["$[]"]("filetype")},n.$$arity=-1);a.def(f,"$htmlsyntax",k=function(c){null==c&&(c=l);return q(c)?(c=["htmlsyntax",c],t(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("htmlsyntax")},k.$$arity=-1);a.def(f,"$outfilesuffix",u=function(c){null==c&&(c=l);return q(c)?(c=["outfilesuffix",c],t(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("outfilesuffix")},u.$$arity=-1);a.def(f,"$supports_templates",
m=function(c){null==c&&(c=!0);c=["supports_templates",c];t(this.$backend_traits(),"[]=",a.to_a(c));return c[b(c.length,1)]},m.$$arity=-1);a.def(f,"$supports_templates?",z=function(){return this.$backend_traits()["$[]"]("supports_templates")},z.$$arity=0);a.def(f,"$init_backend_traits",N=function(a){var b;null==a&&(a=l);return this.backend_traits=q(b=a)?b:p([],{})},N.$$arity=-1);a.def(f,"$backend_traits",r=function(){var a;null==this.backend_traits&&(this.backend_traits=l);null==this.backend&&(this.backend=
l);return this.backend_traits=q(a=this.backend_traits)?a:g(d,"Converter").$derive_backend_traits(this.backend)},r.$$arity=0);a.alias(f,"backend_info","backend_traits");a.defs(f,"$derive_backend_traits",D=function(a){return g(d,"Converter").$derive_backend_traits(a)},D.$$arity=1)})(d[0],d);(function(b,f){b=c(b,"Config");var e=[b].concat(f),d;a.def(b,"$register_for",d=function(b){var c=a.slice.call(arguments,0,arguments.length);return t(g(e,"Converter"),"register",[this].concat(a.to_a(c)))},d.$$arity=
-1)})(d[0],d);(function(f,e){f=c(f,"Factory");var d=[f].concat(e),h,n,k,u,z,N,r,D;a.defs(f,"$new",h=function(b,c){var f=a.slice.call(arguments,0,arguments.length);var e=a.extract_kwargs(f);if(null==e)e=p([],{});else if(!e.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<f.length){var h=f[0];f.splice(0,1)}null==h&&(h=l);f=e.$$smap.proxy_default;null==f&&(f=!0);return q(f)?g(d,"DefaultFactoryProxy").$new(h):g(d,"CustomFactory").$new(h)},h.$$arity=-1);a.defs(f,"$default",n=function(b){a.slice.call(arguments,
0,arguments.length);return g(d,"Converter")},n.$$arity=-1);a.defs(f,"$create",k=function(a,b){null==b&&(b=p([],{}));return this.$default().$create(a,b)},k.$$arity=-2);a.def(f,"$register",u=function(c,f){var e;var d=a.slice.call(arguments,1,arguments.length);return t(d,"each",[],(e=function(f){var d=e.$$s||this;null==f&&(f=l);f["$=="]("*")?(f=[c],t(d.$registry(),"default=",a.to_a(f))):(f=[f,c],t(d.$registry(),"[]=",a.to_a(f)));return f[b(f.length,1)]},e.$$s=this,e.$$arity=1,e))},u.$$arity=-2);a.def(f,
"$for",z=function(a){return this.$registry()["$[]"](a)},z.$$arity=1);a.def(f,"$create",N=function(a,b){var c,f,e,h,n=l;null==b&&(b=p([],{}));return q(e=this.$for(a))?(q(m("::","Class")["$==="](e))&&(e=e.$new(a,b)),q(q(c=q(f=h=b["$[]"]("template_dirs"))?g(d,"BackendTraits")["$==="](e):f)?e["$supports_templates?"]():c)?g(d,"CompositeConverter").$new(a,g(d,"TemplateConverter").$new(a,h,b),e,p(["backend_traits_source"],{backend_traits_source:e})):e):q(h=b["$[]"]("template_dirs"))?q(q(c=n=b["$[]"]("delegate_backend"))?
e=this.$for(n):c)?(q(m("::","Class")["$==="](e))&&(e=e.$new(n,b)),g(d,"CompositeConverter").$new(a,g(d,"TemplateConverter").$new(a,h,b),e,p(["backend_traits_source"],{backend_traits_source:e}))):g(d,"TemplateConverter").$new(a,h,b):l},N.$$arity=-2);a.def(f,"$converters",r=function(){return this.$registry().$merge()},r.$$arity=0);f.$private();a.def(f,"$registry",D=function(){return this.$raise(m("::","NotImplementedError"),""+g(d,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},
D.$$arity=0)})(d[0],d);(function(c,$super,f){c=D(c,$super,"CustomFactory");f=[c].concat(f);var e,d;c.$include(g(f,"Factory"));a.def(c,"$initialize",e=function(c){null==c&&(c=l);if(q(c)){var f=[c.$delete("*")];t(c,"default=",a.to_a(f));f[b(f.length,1)];return this.registry=c}return this.registry=p([],{})},e.$$arity=-1);a.def(c,"$unregister_all",d=function(){var c=[l];t(this.$registry().$clear(),"default=",a.to_a(c));return c[b(c.length,1)]},d.$$arity=0);c.$private();return c.$attr_reader("registry")})(d[0],
null,d);(function(b,f){b=c(b,"DefaultFactory");var e=[b].concat(f),d;b.$include(g(e,"Factory"));b.$private();a.class_variable_set(e[0],"@@registry",p([],{}));a.def(b,"$registry",d=function(){var a;return null==(a=e[0].$$cvars["@@registry"])?l:a},d.$$arity=0);g(e,"RUBY_ENGINE")["$=="]("opal")||l})(d[0],d);(function(a,$super,b){a=D(a,$super,"DefaultFactoryProxy");b=[a].concat(b);a.$include(g(b,"DefaultFactory"));g(b,"RUBY_ENGINE")["$=="]("opal");return l})(d[0],g(d,"CustomFactory"),d);f.$private_class_method(q(w=
(a.defs(f,"$included",E=function(a){a.$send("include",g(d,"BackendTraits"));return a.$extend(g(d,"Config"))},E.$$arity=1),l)&&"included")?w:"included");(function(b,$super,c){b=D(b,$super,"Base");var f=[b].concat(c),e,d,k,u;b.$$prototype.backend=l;b.$include(g(f,"Converter"),g(f,"Logging"));a.def(b,"$convert",e=function(b,c,e){var d,k,u=l;null==n["!"]&&(n["!"]=l);null==c&&(c=b.$node_name());null==e&&(e=l);try{return q(e)?this.$send(h("convert_",c),b,e):this.$send(h("convert_",c),b)}catch(Ea){if(a.rescue(Ea,
[g(f,"StandardError")]))try{return q(q(d=q(k=m("::","NoMethodError")["$==="](u=n["!"]))?u.$receiver()["$=="](this):k)?u.$name().$to_s()["$=="](c):d)||this.$raise(),this.$logger().$warn("missing convert handler for "+u.$name()+" node in "+this.backend+" backend ("+this.$class()+")"),l}finally{a.pop_exception()}else throw Ea;}},e.$$arity=-2);a.def(b,"$handles?",d=function(a){return this["$respond_to?"]("convert_"+a)},d.$$arity=1);a.def(b,"$content_only",k=function(a){return a.$content()},k.$$arity=
1);return(a.def(b,"$skip",u=function(a){return l},u.$$arity=1),l)&&"skip"})(d[0],null,d);f.$extend(g(d,"DefaultFactory"))})(f[0],f)}(k[0],k)};Opal.modules["asciidoctor/document"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}
function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var g=[],c=a.nil,p=a.const_get_qualified,q=a.const_get_relative,t=a.module,D=a.klass,n=a.send,f=a.truthy,e=a.hash2,w=a.gvars,E=a.hash;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $options $merge $catalog $attributes $safe $compat_mode $outfilesuffix $sourcemap $path_resolver $converter $extensions $syntax_highlighter $each $end_with? $start_with? $slice $length $chop $== $downcase $extname $=== $value_for_name $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $abs $to_i $delete_if $update_doctype_attributes $cursor $parse $restore_attributes $update_backend_attributes $fetch $fill_datetime_attributes $activate $create $to_proc $groups $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $to_s $value $save_to $register $tap $xreftext $source $source_lines $doctitle $sectname= $title= $first_section $title $reftext $> $< $find $context $assign_numeral $clear_playback_attributes $save_attributes $name $negate $rewind $replace $attribute_locked? $apply_attribute_value_subs $delete? $start $doctype $content_model $warn $logger $content $convert $postprocessors? $postprocessors $record $write $respond_to? $chomp $class $write_alternate_pages $map $split $resolve_docinfo_subs $& $normalize_system_path $read_asset $apply_subs $docinfo_processors? $join $concat $compact $docinfo_processors $object_id $inspect $size $private $=~ $resolve_pass_subs $apply_header_subs $limit_bytesize $bytesize $valid_encoding? $byteslice $resolve_subs $utc $at $Integer $now $index $strftime $year $utc_offset $partition $create_converter $basebackend $filetype $htmlsyntax $derive_backend_traits $raise".split(" "));
return function(d,g){d=[t(d,"Asciidoctor")].concat(g);(function(d,$super,g){d=D(d,$super,"Document");var u=[d].concat(g),t,z,N,r,L,H,y,x,B,C,S,Q,F,X,v,G,I,ba,V,oa,Y,J,qa,O,P,T,Ka,ea,ra,ha,va,Ba,la,Ma,Da,Na,La,Pa,Oa,Ga,Qa,Wa,Ua,Sa,A,K,ia,M,R,pa,sa,cb;d.$$prototype.attributes=d.$$prototype.safe=d.$$prototype.sourcemap=d.$$prototype.reader=d.$$prototype.base_dir=d.$$prototype.parsed=d.$$prototype.parent_document=d.$$prototype.extensions=d.$$prototype.options=d.$$prototype.counters=d.$$prototype.catalog=
d.$$prototype.reftexts=d.$$prototype.header=d.$$prototype.blocks=d.$$prototype.header_attributes=d.$$prototype.attributes_modified=d.$$prototype.backend=d.$$prototype.attribute_overrides=d.$$prototype.timings=d.$$prototype.converter=d.$$prototype.outfilesuffix=d.$$prototype.docinfo_processor_extensions=d.$$prototype.document=d.$$prototype.max_attribute_value_size=d.$$prototype.id=d.$$prototype.doctype=c;a.const_set(u[0],"ImageReference",n(p("::","Struct"),"new",["target","imagesdir"],(t=function(){return a.alias(t.$$s||
this,"to_s","target")},t.$$s=d,t.$$arity=0,t)));a.const_set(u[0],"Footnote",p("::","Struct").$new("index","id","text"));(function(e,$super,d){e=D(e,$super,"AttributeEntry");[e].concat(d);var g,h;e.$attr_reader("name","value","negate");a.def(e,"$initialize",g=function(a,b,e){null==e&&(e=c);this.name=a;this.value=b;return this.negate=f(e["$nil?"]())?b["$nil?"]():e},g.$$arity=-3);return(a.def(e,"$save_to",h=function(e){var d,g=c;(f(d=e["$[]"]("attribute_entries"))?d:(g=["attribute_entries",[]],n(e,"[]=",
a.to_a(g)),g[b(g.length,1)]))["$<<"](this);return this},h.$$arity=1),c)&&"save_to"})(u[0],null,u);(function(b,$super,d){b=D(b,$super,"Title");var g=[b].concat(d),h,n,k,l;b.$$prototype.sanitized=b.$$prototype.subtitle=b.$$prototype.combined=c;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",h=function(b,d){var h,n,k=c;null==d&&(d=e([],{}));f(f(h=this.sanitized=d["$[]"]("sanitize"))?b["$include?"]("<"):h)&&(b=b.$gsub(q(g,"XmlSanitizeRx"),
"").$squeeze(" ").$strip());f(f(h=(k=f(n=d["$[]"]("separator"))?n:":")["$empty?"]())?h:b["$include?"](k=""+k+" ")["$!"]())?(this.main=b,this.subtitle=c):(n=b.$rpartition(k),h=a.to_ary(n),this.main=null==h[0]?c:h[0],this.subtitle=null==h[2]?c:h[2],n);return this.combined=b},h.$$arity=-2);a.def(b,"$sanitized?",n=function(){return this.sanitized},n.$$arity=0);a.def(b,"$subtitle?",k=function(){return f(this.subtitle)?!0:!1},k.$$arity=0);return(a.def(b,"$to_s",l=function(){return this.combined},l.$$arity=
0),c)&&"to_s"})(u[0],null,u);a.const_set(u[0],"Author",p("::","Struct").$new("name","firstname","middlename","lastname","initials","email"));d.$attr_reader("safe");d.$attr_reader("compat_mode");d.$attr_reader("backend");d.$attr_reader("doctype");d.$attr_accessor("sourcemap");d.$attr_reader("catalog");a.alias(d,"references","catalog");d.$attr_reader("counters");d.$attr_reader("header");d.$attr_reader("base_dir");d.$attr_reader("options");d.$attr_reader("outfilesuffix");d.$attr_reader("parent_document");
d.$attr_reader("reader");d.$attr_reader("path_resolver");d.$attr_reader("converter");d.$attr_reader("syntax_highlighter");d.$attr_reader("extensions");a.def(d,"$initialize",z=function(d,g){var l,m,A,K,M,t,sa,pa,N=c,r=c,R=c,ia=c,Ha=c,D=c,Xa=D=D=c,w=c,L=Xa=c,E=Xa=Xa=c;N=N=N=c;z.$$p&&(z.$$p=null);null==d&&(d=c);null==g&&(g=e([],{}));n(this,a.find_super_dispatcher(this,"initialize",z,!1),[this,"document"],null);if(f(N=g.$delete("parent")))this.parent_document=N,f(l=g["$[]"]("base_dir"))?l:(r=["base_dir",
N.$base_dir()],n(g,"[]=",a.to_a(r)),r[b(r.length,1)]),f(N.$options()["$[]"]("catalog_assets"))&&(r=["catalog_assets",!0],n(g,"[]=",a.to_a(r)),r[b(r.length,1)]),this.catalog=N.$catalog().$merge(e(["footnotes"],{footnotes:[]})),this.attribute_overrides=R=N.$attributes().$merge(),ia=R.$delete("doctype"),R.$delete("compat-mode"),R.$delete("toc"),R.$delete("toc-placement"),R.$delete("toc-position"),this.safe=N.$safe(),f(this.compat_mode=N.$compat_mode())&&(r=["compat-mode",""],n(this.attributes,"[]=",
a.to_a(r)),r[b(r.length,1)]),this.outfilesuffix=N.$outfilesuffix(),this.sourcemap=N.$sourcemap(),this.timings=c,this.path_resolver=N.$path_resolver(),this.converter=N.$converter(),Ha=c,this.extensions=N.$extensions(),this.syntax_highlighter=N.$syntax_highlighter();else{this.parent_document=c;this.catalog=e("ids refs footnotes links images callouts includes".split(" "),{ids:e([],{}),refs:e([],{}),footnotes:[],links:[],images:[],callouts:q(u,"Callouts").$new(),includes:e([],{})});this.attribute_overrides=
R=e([],{});n(f(l=g["$[]"]("attributes"))?l:e([],{}),"each",[],(m=function(e,d){var g;null==e&&(e=c);null==d&&(d=c);f(e["$end_with?"]("@"))?(f(e["$start_with?"]("!"))?(g=[e.$slice(1,b(e.$length(),2)),!1],e=g[0],d=g[1]):f(e["$end_with?"]("!@"))?(g=[e.$slice(0,b(e.$length(),2)),!1],e=g[0],d=g[1]):(g=[e.$chop(),""+d+"@"],e=g[0],d=g[1]),g):f(e["$start_with?"]("!"))?(g=[e.$slice(1,e.$length()),d["$=="]("@")?!1:c],e=g[0],d=g[1],g):f(e["$end_with?"]("!"))&&(g=[e.$chop(),d["$=="]("@")?!1:c],e=g[0],d=g[1],
g);r=[e.$downcase(),d];n(R,"[]=",a.to_a(r));return r[b(r.length,1)]},m.$$s=this,m.$$arity=2,m));f(D=g["$[]"]("to_file"))&&(r=["outfilesuffix",q(u,"Helpers").$extname(D)],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]);if(f((D=g["$[]"]("safe"))["$!"]()))this.safe=p(q(u,"SafeMode"),"SECURE");else if(f(p("::","Integer")["$==="](D)))this.safe=D;else{a:{try{var H=q(u,"SafeMode").$value_for_name(D);break a}catch(nb){if(a.rescue(nb,[q(u,"StandardError")]))try{H=p(q(u,"SafeMode"),"SECURE");break a}finally{a.pop_exception()}else throw nb;
}H=void 0}this.safe=H}D=g.$delete("input_mtime");this.compat_mode=R["$key?"]("compat-mode");this.sourcemap=g["$[]"]("sourcemap");this.timings=g.$delete("timings");this.path_resolver=q(u,"PathResolver").$new();Ha=f((A=p("::","Asciidoctor","skip_raise"))&&(l=p(A,"Extensions","skip_raise"))?"constant":c)?!0:c;this.extensions=c;f(f(K=g["$key?"]("header_footer"))?g["$key?"]("standalone")["$!"]():K)&&(r=["standalone",g["$[]"]("header_footer")],n(g,"[]=",a.to_a(r)),r[b(r.length,1)])}this.parsed=this.reftexts=
this.header=this.header_attributes=c;this.counters=e([],{});this.attributes_modified=p("::","Set").$new();this.docinfo_processor_extensions=e([],{});Xa=g["$[]"]("standalone");(this.options=g).$freeze();w=this.attributes;r=["sectids",""];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["toc-placement","auto"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];f(Xa)?(r=["copycss",""],n(w,"[]=",a.to_a(r)),r[b(r.length,1)],r=["embedded",c]):(r=["notitle",""],n(w,"[]=",a.to_a(r)),r[b(r.length,1)],r=["embedded",""]);n(R,"[]=",
a.to_a(r));r[b(r.length,1)];r=["stylesheet",""];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["webfonts",""];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["prewrap",""];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["attribute-undefined",q(u,"Compliance").$attribute_undefined()];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["attribute-missing",q(u,"Compliance").$attribute_missing()];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["iconfont-remote",""];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["caution-caption","Caution"];n(w,
"[]=",a.to_a(r));r[b(r.length,1)];r=["important-caption","Important"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["note-caption","Note"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["tip-caption","Tip"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["warning-caption","Warning"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["example-caption","Example"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["figure-caption","Figure"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["table-caption","Table"];n(w,"[]=",a.to_a(r));r[b(r.length,
1)];r=["toc-title","Table of Contents"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["section-refsig","Section"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["part-refsig","Part"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["chapter-refsig","Chapter"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["appendix-caption",(r=["appendix-refsig","Appendix"],n(w,"[]=",a.to_a(r)),r[b(r.length,1)])];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["untitled-label","Untitled"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["version-label",
"Version"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["last-update-label","Last updated"];n(w,"[]=",a.to_a(r));r[b(r.length,1)];r=["asciidoctor",""];n(R,"[]=",a.to_a(r));r[b(r.length,1)];r=["asciidoctor-version",p(p("::","Asciidoctor"),"VERSION")];n(R,"[]=",a.to_a(r));r[b(r.length,1)];r=["safe-mode-name",Xa=q(u,"SafeMode").$name_for_value(this.safe)];n(R,"[]=",a.to_a(r));r[b(r.length,1)];r=["safe-mode-"+Xa,""];n(R,"[]=",a.to_a(r));r[b(r.length,1)];r=["safe-mode-level",this.safe];n(R,"[]=",a.to_a(r));
r[b(r.length,1)];f(K=R["$[]"]("max-include-depth"))?K:(r=["max-include-depth",64],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]);f(K=R["$[]"]("allow-uri-read"))?K:(r=["allow-uri-read",c],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]);r=["user-home",q(u,"USER_HOME")];n(R,"[]=",a.to_a(r));r[b(r.length,1)];f(R["$key?"]("numbered"))&&(r=["sectnums",R.$delete("numbered")],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]);f(R["$key?"]("hardbreaks"))&&(r=["hardbreaks-option",R.$delete("hardbreaks")],n(R,"[]=",a.to_a(r)),r[b(r.length,
1)]);f(L=g["$[]"]("base_dir"))?this.base_dir=(r=["docdir",p("::","File").$expand_path(L)],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]):f(R["$[]"]("docdir"))?this.base_dir=R["$[]"]("docdir"):this.base_dir=(r=["docdir",p("::","Dir").$pwd()],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]);f(Xa=g["$[]"]("backend"))&&(r=["backend",""+Xa],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]);f(Xa=g["$[]"]("doctype"))&&(r=["doctype",""+Xa],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]);f(h(this.safe,p(q(u,"SafeMode"),"SERVER")))&&(f(K=R["$[]"]("copycss"))?
K:(r=["copycss",c],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]),f(K=R["$[]"]("source-highlighter"))?K:(r=["source-highlighter",c],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]),f(K=R["$[]"]("backend"))?K:(r=["backend",q(u,"DEFAULT_BACKEND")],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]),f(f(K=N["$!"]())?R["$key?"]("docfile"):K)&&(r=["docfile",R["$[]"]("docfile")["$[]"](a.Range.$new(k(R["$[]"]("docdir").$length(),1),-1,!1))],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]),r=["docdir",""],n(R,"[]=",a.to_a(r)),r[b(r.length,1)],r=
["user-home","."],n(R,"[]=",a.to_a(r)),r[b(r.length,1)],f(h(this.safe,p(q(u,"SafeMode"),"SECURE")))&&(f(R["$key?"]("max-attribute-value-size"))||(r=["max-attribute-value-size",4096],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]),f(R["$key?"]("linkcss"))||(r=["linkcss",""],n(R,"[]=",a.to_a(r)),r[b(r.length,1)]),f(K=R["$[]"]("icons"))?K:(r=["icons",c],n(R,"[]=",a.to_a(r)),r[b(r.length,1)])));this.max_attribute_value_size=f(E=f(K=R["$[]"]("max-attribute-value-size"))?K:(r=["max-attribute-value-size",c],n(R,
"[]=",a.to_a(r)),r[b(r.length,1)]))?E.$to_i().$abs():c;n(R,"delete_if",[],(M=function(e,d){var g,h=c;null==e&&(e=c);null==d&&(d=c);f(d)?(f(f(g=p("::","String")["$==="](d))?d["$end_with?"]("@"):g)&&(g=[d.$chop(),!0],d=g[0],h=g[1],g),r=[e,d],n(w,"[]=",a.to_a(r)),r[b(r.length,1)]):(w.$delete(e),h=d["$=="](!1));return h},M.$$s=this,M.$$arity=2,M));if(f(N))return this.backend=w["$[]"]("backend"),(this.doctype=(r=["doctype",ia],n(w,"[]=",a.to_a(r)),r[b(r.length,1)]))["$=="](q(u,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(q(u,
"DEFAULT_DOCTYPE")),this.reader=q(u,"Reader").$new(d,g["$[]"]("cursor")),f(this.sourcemap)&&(this.source_location=this.reader.$cursor()),q(u,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=c;(N=f(K=w["$[]"]("backend"))?K:q(u,"DEFAULT_BACKEND"))["$=="]("manpage")?this.doctype=(r=["doctype",(r=["doctype","manpage"],n(R,"[]=",a.to_a(r)),r[b(r.length,1)])],n(w,"[]=",a.to_a(r)),r[b(r.length,1)]):this.doctype=f(K=w["$[]"]("doctype"))?K:(r=["doctype",q(u,"DEFAULT_DOCTYPE")],
n(w,"[]=",a.to_a(r)),r[b(r.length,1)]);this.$update_backend_attributes(N,!0);f(K=w["$[]"]("stylesdir"))?K:(r=["stylesdir","."],n(w,"[]=",a.to_a(r)),r[b(r.length,1)]);f(K=w["$[]"]("iconsdir"))?K:(r=["iconsdir",""+w.$fetch("imagesdir","./images")+"/icons"],n(w,"[]=",a.to_a(r)),r[b(r.length,1)]);this.$fill_datetime_attributes(w,D);f(Ha)&&(f(N=g["$[]"]("extension_registry"))?f(f(K=p(q(u,"Extensions"),"Registry")["$==="](N))?K:f(t=(pa=p("::","AsciidoctorJ","skip_raise"))&&(sa=p(pa,"Extensions","skip_raise"))&&
p(sa,"ExtensionRegistry","skip_raise")?"constant":c)?p(p(p("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](N):t)&&(this.extensions=N.$activate(this)):f(p("::","Proc")["$==="](N=g["$[]"]("extensions")))?this.extensions=n(q(u,"Extensions"),"create",[],N.$to_proc()).$activate(this):f(q(u,"Extensions").$groups()["$empty?"]()["$!"]())&&(this.extensions=p(q(u,"Extensions"),"Registry").$new().$activate(this)));this.reader=q(u,"PreprocessorReader").$new(this,d,p(q(u,"Reader"),"Cursor").$new(w["$[]"]("docfile"),
this.base_dir),e(["normalize"],{normalize:!0}));return f(this.sourcemap)?this.source_location=this.reader.$cursor():c},z.$$arity=-1);a.def(d,"$parse",N=function(a){var b,d,g,h=c,k=c;null==a&&(a=c);if(f(this.parsed))return this;h=this;f(a)&&(this.reader=q(u,"PreprocessorReader").$new(h,a,p(q(u,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),e(["normalize"],{normalize:!0})),f(this.sourcemap)&&(this.source_location=this.reader.$cursor()));f(f(b=k=f(this.parent_document)?c:this.extensions)?
k["$preprocessors?"]():b)&&n(k.$preprocessors(),"each",[],(d=function(a){var b=d.$$s||this,e;null==b.reader&&(b.reader=c);null==a&&(a=c);return b.reader=f(e=a.$process_method()["$[]"](h,b.reader))?e:b.reader},d.$$s=this,d.$$arity=1,d));q(u,"Parser").$parse(this.reader,h,e(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();f(f(b=k)?k["$tree_processors?"]():b)&&n(k.$tree_processors(),"each",[],(g=function(a){var b,e,d=c;null==a&&(a=c);return f(f(b=f(e=
d=a.$process_method()["$[]"](h))?q(u,"Document")["$==="](d):e)?d["$!="](h):b)?h=d:c},g.$$s=this,g.$$arity=1,g));this.parsed=!0;return h},N.$$arity=-1);a.def(d,"$parsed?",r=function(){return this.parsed},r.$$arity=0);a.def(d,"$counter",L=function(e,d){var g,h=c,k=c,l=c;null==d&&(d=c);if(f(this.parent_document))return this.parent_document.$counter(e,d);l=f(f(g=h=(k=this.attributes["$[]"](e))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](e):g)?[e,(l=[e,q(u,"Helpers").$nextval(k)],n(this.counters,
"[]=",a.to_a(l)),l[b(l.length,1)])]:f(d)?[e,(l=[e,d["$=="](d.$to_i().$to_s())?d.$to_i():d],n(this.counters,"[]=",a.to_a(l)),l[b(l.length,1)])]:[e,(l=[e,q(u,"Helpers").$nextval(f(h)?k:0)],n(this.counters,"[]=",a.to_a(l)),l[b(l.length,1)])];n(this.attributes,"[]=",a.to_a(l));return l[b(l.length,1)]},L.$$arity=-2);a.def(d,"$increment_and_store_counter",H=function(a,b){return q(u,"AttributeEntry").$new(a,this.$counter(a)).$save_to(b.$attributes()).$value()},H.$$arity=2);a.alias(d,"counter_increment",
"increment_and_store_counter");a.def(d,"$register",y=function(d,g){var h,k=this,l=c,m=c,A=c,K=c,p=c;return function(){l=d;return"ids"["$==="](l)?k.$register("refs",[m=g["$[]"](0),q(u,"Inline").$new(k,"anchor",g["$[]"](1),e(["type","id"],{type:"ref",id:m}))]):"refs"["$==="](l)?(A=k.catalog["$[]"]("refs"),f(h=A["$[]"](g["$[]"](0)))?h:(K=[g["$[]"](0),p=g["$[]"](1)],n(A,"[]=",a.to_a(K)),K[b(K.length,1)]),p):"footnotes"["$==="](l)?k.catalog["$[]"](d)["$<<"](g):f(k.options["$[]"]("catalog_assets"))?k.catalog["$[]"](d)["$<<"](d["$=="]("images")?
q(u,"ImageReference").$new(g["$[]"](0),g["$[]"](1)):g):c}()},y.$$arity=2);a.def(d,"$resolve_id",x=function(d){var g,h,q=this,k=c;if(f(q.reftexts))return q.reftexts["$[]"](d);if(f(q.parsed))return n(q.reftexts=e([],{}),"tap",[],(g=function(e){var d=g.$$s||this,h;null==d.catalog&&(d.catalog=c);null==e&&(e=c);return n(d.catalog["$[]"]("refs"),"each",[],(h=function(d,g){var h,q=c;null==d&&(d=c);null==g&&(g=c);return f(h=e["$[]"](g.$xreftext()))?h:(q=[g.$xreftext(),d],n(e,"[]=",a.to_a(q)),q[b(q.length,
1)])},h.$$s=d,h.$$arity=2,h))},g.$$s=q,g.$$arity=1,g))["$[]"](d);k=c;(function(){var g=a.new_brk();try{return n(q.reftexts=e([],{}),"tap",[],(h=function(e){var g=h.$$s||this,q;null==g.catalog&&(g.catalog=c);null==e&&(e=c);return function(){var h=a.new_brk();try{return n(g.catalog["$[]"]("refs"),"each",[],(q=function(g,q){var l,u=c;null==g&&(g=c);null==q&&(q=c);if((q=q.$xreftext())["$=="](d))a.brk(k=g,h);else return f(l=e["$[]"](q))?l:(u=[q,g],n(e,"[]=",a.to_a(u)),u[b(u.length,1)])},q.$$s=g,q.$$brk=
h,q.$$arity=2,q))}catch(ab){if(ab===h)return ab.$v;throw ab;}}()},h.$$s=q,h.$$brk=g,h.$$arity=1,h))}catch(Ya){if(Ya===g)return Ya.$v;throw Ya;}})();q.reftexts=c;return k},x.$$arity=1);a.def(d,"$footnotes?",B=function(){return f(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},B.$$arity=0);a.def(d,"$footnotes",C=function(){return this.catalog["$[]"]("footnotes")},C.$$arity=0);a.def(d,"$callouts",S=function(){return this.catalog["$[]"]("callouts")},S.$$arity=0);a.def(d,"$nested?",Q=function(){return f(this.parent_document)?
!0:!1},Q.$$arity=0);a.def(d,"$embedded?",F=function(){return this.attributes["$key?"]("embedded")},F.$$arity=0);a.def(d,"$extensions?",X=function(){return f(this.extensions)?!0:!1},X.$$arity=0);a.def(d,"$source",v=function(){return f(this.reader)?this.reader.$source():c},v.$$arity=0);a.def(d,"$source_lines",G=function(){return f(this.reader)?this.reader.$source_lines():c},G.$$arity=0);a.def(d,"$basebackend?",I=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},I.$$arity=1);a.def(d,
"$title",ba=function(){return this.$doctitle()},ba.$$arity=0);a.def(d,"$title=",V=function(c){var e;if(!f(e=this.header)){var d=["header"];n(e=this.header=q(u,"Section").$new(this,0),"sectname=",a.to_a(d));d[b(d.length,1)]}d=[c];n(e,"title=",a.to_a(d));return d[b(d.length,1)]},V.$$arity=1);a.def(d,"$doctitle",oa=function(a){var b,d,g,h=c;null==a&&(a=e([],{}));if(!f(d=this.attributes["$[]"]("title")))if(f(g=this.$first_section()))d=g.$title();else if(f((f(b=a["$[]"]("use_fallback"))?d=this.attributes["$[]"]("untitled-label"):
b)["$!"]()))return c;return f(h=a["$[]"]("partition"))?q(u,"Title").$new(d,a.$merge(e(["separator"],{separator:h["$=="](!0)?this.attributes["$[]"]("title-separator"):h}))):f(f(b=a["$[]"]("sanitize"))?d["$include?"]("<"):b)?d.$gsub(q(u,"XmlSanitizeRx"),"").$squeeze(" ").$strip():d},oa.$$arity=-1);a.alias(d,"name","doctitle");a.def(d,"$xreftext",Y=function(a){var b;a=c;return f(f(b=a=this.$reftext())?a["$empty?"]()["$!"]():b)?a:this.$title()},Y.$$arity=-1);a.def(d,"$author",J=function(){return this.attributes["$[]"]("author")},
J.$$arity=0);a.def(d,"$authors",qa=function(){var a,b,c;if(f((b=this.attributes)["$key?"]("author"))){var e=[q(u,"Author").$new(b["$[]"]("author"),b["$[]"]("firstname"),b["$[]"]("middlename"),b["$[]"]("lastname"),b["$[]"]("authorinitials"),b["$[]"]("email"))];if(f(l(c=f(a=b["$[]"]("authorcount"))?a:0,1)))for(a=1;f(m(a,c));)a=k(a,1),e["$<<"](q(u,"Author").$new(b["$[]"]("author_"+a),b["$[]"]("firstname_"+a),b["$[]"]("middlename_"+a),b["$[]"]("lastname_"+a),b["$[]"]("authorinitials_"+a),b["$[]"]("email_"+
a)));return e}return[]},qa.$$arity=0);a.def(d,"$revdate",O=function(){return this.attributes["$[]"]("revdate")},O.$$arity=0);a.def(d,"$notitle",P=function(){var a;return f(a=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):a},P.$$arity=0);a.def(d,"$noheader",T=function(){return this.attributes["$key?"]("noheader")},T.$$arity=0);a.def(d,"$nofooter",Ka=function(){return this.attributes["$key?"]("nofooter")},Ka.$$arity=0);a.def(d,"$first_section",ea=function(){var a,
b;return f(a=this.header)?a:n(this.blocks,"find",[],(b=function(a){null==a&&(a=c);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},ea.$$arity=0);a.def(d,"$header?",ra=function(){return f(this.header)?!0:!1},ra.$$arity=0);a.alias(d,"has_header?","header?");a.def(d,"$<<",ha=function(b){var c=ha.$$p,f;c&&(ha.$$p=null);var e=0;var d=arguments.length;for(f=Array(d);e<d;e++)f[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_numeral(b);return n(this,a.find_super_dispatcher(this,
"<<",ha,!1),f,c)},ha.$$arity=1);a.def(d,"$finalize_header",va=function(c,e){null==e&&(e=!0);this.$clear_playback_attributes(c);this.$save_attributes();f(e)||(e=["invalid-header",!0],n(c,"[]=",a.to_a(e)),e[b(e.length,1)]);return c},va.$$arity=-2);a.def(d,"$playback_attributes",Ba=function(e){var d;return f(e["$key?"]("attribute_entries"))?n(e["$[]"]("attribute_entries"),"each",[],(d=function(e){var g=d.$$s||this;null==g.attributes&&(g.attributes=c);null==e&&(e=c);var h=e.$name();if(f(e.$negate()))return g.attributes.$delete(h),
h["$=="]("compat-mode")?g.compat_mode=!1:c;e=[h,e.$value()];n(g.attributes,"[]=",a.to_a(e));e[b(e.length,1)];return h["$=="]("compat-mode")?g.compat_mode=!0:c},d.$$s=this,d.$$arity=1,d)):c},Ba.$$arity=1);a.def(d,"$restore_attributes",la=function(){f(this.parent_document)||this.catalog["$[]"]("callouts").$rewind();return this.attributes.$replace(this.header_attributes)},la.$$arity=0);a.def(d,"$set_attribute",Ma=function(e,d){null==d&&(d="");if(f(this["$attribute_locked?"](e)))return c;f(d["$empty?"]())||
(d=this.$apply_attribute_value_subs(d));if(f(this.header_attributes)){var g=[e,d];n(this.attributes,"[]=",a.to_a(g));g[b(g.length,1)]}else"backend"["$==="](e)?this.$update_backend_attributes(d,f(g=this.attributes_modified["$delete?"]("htmlsyntax"))?d["$=="](this.backend):g):"doctype"["$==="](e)?this.$update_doctype_attributes(d):(g=[e,d],n(this.attributes,"[]=",a.to_a(g)),g[b(g.length,1)]),this.attributes_modified["$<<"](e);return d},Ma.$$arity=-2);a.def(d,"$delete_attribute",Da=function(a){if(f(this["$attribute_locked?"](a)))return!1;
this.attributes.$delete(a);this.attributes_modified["$<<"](a);return!0},Da.$$arity=1);a.def(d,"$attribute_locked?",Na=function(a){return this.attribute_overrides["$key?"](a)},Na.$$arity=1);a.def(d,"$set_header_attribute",La=function(c,e,d){var g;null==e&&(e="");null==d&&(d=!0);var h=f(g=this.header_attributes)?g:this.attributes;if(f(d["$=="](!1)?h["$key?"](c):d["$=="](!1)))return!1;c=[c,e];n(h,"[]=",a.to_a(c));c[b(c.length,1)];return!0},La.$$arity=-2);a.def(d,"$convert",Pa=function(d){var g,k,l=c,
m=c,A=c,K=c,r=c;null==d&&(d=e([],{}));f(this.timings)&&this.timings.$start("convert");f(this.parsed)||this.$parse();f(f(g=h(this.safe,p(q(u,"SafeMode"),"SERVER")))?g:d["$empty?"]())||(f((l=["outfile",d["$[]"]("outfile")],n(this.attributes,"[]=",a.to_a(l)),l[b(l.length,1)]))||this.attributes.$delete("outfile"),f((l=["outdir",d["$[]"]("outdir")],n(this.attributes,"[]=",a.to_a(l)),l[b(l.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?f(m=f(g=this.blocks["$[]"](0))?g:
this.header)&&(f(f(g=m.$content_model()["$=="]("compound"))?g:m.$content_model()["$=="]("empty"))?this.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):A=m.$content()):(K=f(d["$key?"]("standalone"))?f(d["$[]"]("standalone"))?"document":"embedded":f(d["$key?"]("header_footer"))?f(d["$[]"]("header_footer"))?"document":"embedded":f(this.options["$[]"]("standalone"))?"document":"embedded",A=this.converter.$convert(this,K));!f(this.parent_document)&&
f(f(g=r=this.extensions)?r["$postprocessors?"]():g)&&n(r.$postprocessors(),"each",[],(k=function(a){var b=k.$$s||this;null==a&&(a=c);return A=a.$process_method()["$[]"](b,A)},k.$$s=this,k.$$arity=1,k));f(this.timings)&&this.timings.$record("convert");return A},Pa.$$arity=-1);a.alias(d,"render","convert");a.def(d,"$write",Oa=function(a,b){var d;f(this.timings)&&this.timings.$start("write");f(q(u,"Writer")["$==="](this.converter))?this.converter.$write(a,b):(f(b["$respond_to?"]("write"))?f(a["$nil_or_empty?"]())||
(b.$write(a.$chomp()),b.$write(q(u,"LF"))):p("::","File").$write(b,a,e(["mode"],{mode:q(u,"FILE_WRITE_MODE")})),f(f(d=this.backend["$=="]("manpage")?p("::","String")["$==="](b):this.backend["$=="]("manpage"))?this.converter.$class()["$respond_to?"]("write_alternate_pages"):d)&&this.converter.$class().$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),b));f(this.timings)&&this.timings.$record("write");return c},Oa.$$arity=2);a.def(d,"$content",Ga=function(){var b=
Ga.$$p,c;b&&(Ga.$$p=null);var f=0;var e=arguments.length;for(c=Array(e);f<e;f++)c[f]=arguments[f];this.attributes.$delete("title");return n(this,a.find_super_dispatcher(this,"content",Ga,!1),c,b)},Ga.$$arity=0);a.def(d,"$docinfo",Qa=function(a,b){var d,g,h=c,k=c,l=c,A=c,K=c,r=c,M=c;A=M=c;null==a&&(a="head");null==b&&(b=c);if(f(m(this.$safe(),p(q(u,"SafeMode"),"SECURE")))&&(a["$=="]("head")||(h="-"+a),f(b)||(b=this.outfilesuffix),k=f((k=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?f(this.attributes["$key?"]("docinfo2"))?
["private","shared"]:f(this.attributes["$key?"]("docinfo1"))?["shared"]:f(k)?["private"]:c:n(k.$split(","),"map",[],(d=function(a){null==a&&(a=c);return a.$strip()},d.$$s=this,d.$$arity=1,d)),f(k))){l=[];var t=["docinfo"+h+b,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];A=t[0];K=t[1];r=t[2];t;if(!f(k["$&"](["shared","shared-"+a])["$empty?"]())&&(M=this.$normalize_system_path(A,K),f(M=this.$read_asset(M,e(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(M,r));if(!f(f(t=
this.attributes["$[]"]("docname")["$nil_or_empty?"]())?t:k["$&"](["private","private-"+a])["$empty?"]())&&(M=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+A,K),f(A=this.$read_asset(M,e(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(A,r))}return f(f(t=this.extensions)?this["$docinfo_processors?"](a):t)?(f(t=l)?t:[]).$concat(n(this.docinfo_processor_extensions["$[]"](a),"map",[],(g=function(a){var b=g.$$s||this;null==a&&(a=c);return a.$process_method()["$[]"](b)},
g.$$s=this,g.$$arity=1,g)).$compact()).$join(q(u,"LF")):f(l)?l.$join(q(u,"LF")):""},Qa.$$arity=-1);a.def(d,"$docinfo_processors?",Wa=function(e){var d,g=c;null==e&&(e="head");if(f(this.docinfo_processor_extensions["$key?"](e)))return this.docinfo_processor_extensions["$[]"](e)["$!="](!1);if(f(f(d=this.extensions)?this.document.$extensions()["$docinfo_processors?"](e):d))return(g=[e,this.document.$extensions().$docinfo_processors(e)],n(this.docinfo_processor_extensions,"[]=",a.to_a(g)),g[b(g.length,
1)])["$!"]()["$!"]();g=[e,!1];n(this.docinfo_processor_extensions,"[]=",a.to_a(g));return g[b(g.length,1)]},Wa.$$arity=-1);a.def(d,"$to_s",Ua=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(f(this.header["$!="](c))?this.header.$title():c).$inspect()+", blocks: "+this.blocks.$size()+"}>"},Ua.$$arity=0);d.$private();a.def(d,"$apply_attribute_value_subs",Sa=function(a){var b;f(q(u,"AttributeEntryPassMacroRx")["$=~"](a))?(a=(b=w["~"])===
c?c:b["$[]"](2),f((b=w["~"])===c?c:b["$[]"](1))&&(a=this.$apply_subs(a,this.$resolve_pass_subs((b=w["~"])===c?c:b["$[]"](1))))):a=this.$apply_header_subs(a);return f(this.max_attribute_value_size)?this.$limit_bytesize(a,this.max_attribute_value_size):a},Sa.$$arity=1);a.def(d,"$limit_bytesize",A=function(a,c){if(f(l(a.$bytesize(),c)))for(;!f((a=a.$byteslice(0,c))["$valid_encoding?"]());)c=b(c,1);return a},A.$$arity=2);a.def(d,"$resolve_docinfo_subs",K=function(){return f(this.attributes["$key?"]("docinfosubs"))?
this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",c,"docinfo"):["attributes"]},K.$$arity=0);a.def(d,"$create_converter",ia=function(d,g){var h,k,l=c,m;var A=e(["document","htmlsyntax"],{document:this,htmlsyntax:this.attributes["$[]"]("htmlsyntax")});f(k=f(h=(l=this.options)["$[]"]("template_dirs"))?h:l["$[]"]("template_dir"))&&(h=["template_dirs",[].concat(a.to_a(k))],n(A,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_cache",l.$fetch("template_cache",!0)],n(A,"[]=",a.to_a(h)),h[b(h.length,
1)],h=["template_engine",l["$[]"]("template_engine")],n(A,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_engine_options",l["$[]"]("template_engine_options")],n(A,"[]=",a.to_a(h)),h[b(h.length,1)],h=["eruby",l["$[]"]("eruby")],n(A,"[]=",a.to_a(h)),h[b(h.length,1)],h=["safe",this.safe],n(A,"[]=",a.to_a(h)),h[b(h.length,1)],f(g)&&(h=["delegate_backend",g],n(A,"[]=",a.to_a(h)),h[b(h.length,1)]));return f(m=l["$[]"]("converter"))?p(q(u,"Converter"),"CustomFactory").$new(E(d,m)).$create(d,A):l.$fetch("converter_factory",
q(u,"Converter")).$create(d,A)},ia.$$arity=2);a.def(d,"$clear_playback_attributes",M=function(a){return a.$delete("attribute_entries")},M.$$arity=1);a.def(d,"$save_attributes",R=function(){var d,g,h=c,k=c,l=c,m=l=c,A=c,K=c,r=c,M=r=r=m=K=c,t=c,z=c;f(f(d=(h=this.attributes)["$key?"]("doctitle"))?d:(k=this.$doctitle())["$!"]())||(l=["doctitle",k],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]);this.id=f(d=this.id)?d:h["$[]"]("css-signature");f(l=f(h.$delete("toc2"))?"left":h["$[]"]("toc"))&&(m=f(f(d=A=h.$fetch("toc-placement",
"macro"))?A["$!="]("auto"):d)?A:h["$[]"]("toc-position"),f(f(d=l["$empty?"]())?m["$nil_or_empty?"]():d)||(K="left",r="toc2",K=f(m["$nil_or_empty?"]())?f(l["$empty?"]())?K:l:m,l=["toc",""],n(h,"[]=",a.to_a(l)),l[b(l.length,1)],l=["toc-placement","auto"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)],m=K,"left"["$==="](m)||"<"["$==="](m)||"&lt;"["$==="](m)?(l=["toc-position","left"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]):"right"["$==="](m)||">"["$==="](m)||"&gt;"["$==="](m)?(l=["toc-position","right"],n(h,"[]=",
a.to_a(l)),l[b(l.length,1)]):"top"["$==="](m)||"^"["$==="](m)?(l=["toc-position","top"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]):"bottom"["$==="](m)||"v"["$==="](m)?(l=["toc-position","bottom"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]):("preamble"["$==="](m)||"macro"["$==="](m)?(l=["toc-position","content"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)],l=["toc-placement",K],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]):h.$delete("toc-position"),r=c),f(r)&&(f(d=h["$[]"]("toc-class"))?d:(l=["toc-class",r],n(h,"[]=",a.to_a(l)),
l[b(l.length,1)]))));f(f(d=r=h["$[]"]("icons"))?h["$key?"]("icontype")["$!"]():d)&&(m=r,""["$==="](m)||"font"["$==="](m)?c:(l=["icons",""],n(h,"[]=",a.to_a(l)),l[b(l.length,1)],l=["icontype",r],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]));f(this.compat_mode=h["$key?"]("compat-mode"))&&f(h["$key?"]("language"))&&(l=["source-language",h["$[]"]("language")],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]);f(this.parent_document)||((r=h["$[]"]("basebackend"))["$=="]("html")?f(f(d=M=h["$[]"]("source-highlighter"))?h["$[]"](""+
M+"-unavailable")["$!"]():d)&&(f(t=this.options["$[]"]("syntax_highlighter_factory"))?this.syntax_highlighter=t.$create(M,this.backend,e(["document"],{document:this})):f(z=this.options["$[]"]("syntax_highlighters"))?this.syntax_highlighter=p(q(u,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(z).$create(M,this.backend,e(["document"],{document:this})):this.syntax_highlighter=q(u,"SyntaxHighlighter").$create(M,this.backend,e(["document"],{document:this}))):r["$=="]("docbook")&&(f(f(d=this["$attribute_locked?"]("toc"))?
d:this.attributes_modified["$include?"]("toc"))||(l=["toc",""],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]),f(f(d=this["$attribute_locked?"]("sectnums"))?d:this.attributes_modified["$include?"]("sectnums"))||(l=["sectnums",""],n(h,"[]=",a.to_a(l)),l[b(l.length,1)])),this.outfilesuffix=h["$[]"]("outfilesuffix"),n(q(u,"FLEXIBLE_ATTRIBUTES"),"each",[],(g=function(a){var b=g.$$s||this,e;null==b.attribute_overrides&&(b.attribute_overrides=c);null==a&&(a=c);return f(f(e=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):
e)?b.attribute_overrides.$delete(a):c},g.$$s=this,g.$$arity=1,g)));return this.header_attributes=h.$merge()},R.$$arity=0);a.def(d,"$fill_datetime_attributes",pa=function(e,d){var g,h,q=c,k,l=c;var u=f(p("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?q=p("::","Time").$at(this.$Integer(p("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():p("::","Time").$now();f(k=e["$[]"]("localdate"))?f(g=e["$[]"]("localyear"))?g:(l=["localyear",k.$index("-")["$=="](4)?k.$slice(0,4):c],n(e,"[]=",a.to_a(l)),l[b(l.length,
1)]):(k=(l=["localdate",u.$strftime("%F")],n(e,"[]=",a.to_a(l)),l[b(l.length,1)]),f(g=e["$[]"]("localyear"))?g:(l=["localyear",u.$year().$to_s()],n(e,"[]=",a.to_a(l)),l[b(l.length,1)]));var m=f(g=e["$[]"]("localtime"))?g:(l=["localtime",u.$strftime("%T "+(u.$utc_offset()["$=="](0)?"UTC":"%z"))],n(e,"[]=",a.to_a(l)),l[b(l.length,1)]);f(g=e["$[]"]("localdatetime"))?g:(l=["localdatetime",""+k+" "+m],n(e,"[]=",a.to_a(l)),l[b(l.length,1)]);d=f(g=f(h=q)?h:d)?g:u;f(h=e["$[]"]("docdate"))?f(g=e["$[]"]("docyear"))?
g:(l=["docyear",h.$index("-")["$=="](4)?h.$slice(0,4):c],n(e,"[]=",a.to_a(l)),l[b(l.length,1)]):(h=(l=["docdate",d.$strftime("%F")],n(e,"[]=",a.to_a(l)),l[b(l.length,1)]),f(g=e["$[]"]("docyear"))?g:(l=["docyear",d.$year().$to_s()],n(e,"[]=",a.to_a(l)),l[b(l.length,1)]));d=f(g=e["$[]"]("doctime"))?g:(l=["doctime",d.$strftime("%T "+(d.$utc_offset()["$=="](0)?"UTC":"%z"))],n(e,"[]=",a.to_a(l)),l[b(l.length,1)]);f(g=e["$[]"]("docdatetime"))?g:(l=["docdatetime",""+h+" "+d],n(e,"[]=",a.to_a(l)),l[b(l.length,
1)]);return c},pa.$$arity=2);a.def(d,"$update_backend_attributes",sa=function(e,d){var g,h,l=c,k=c,m=c,A=c,K=c,r;null==d&&(d=c);if(f(f(g=d)?g:e["$!="](this.backend))){var M=this.backend;var t=(h=this.attributes)["$[]"]("basebackend");var z=this.doctype;if(f(e["$include?"](":"))){var R=e.$partition(":");g=a.to_ary(R);l=null==g[0]?c:g[0];e=null==g[2]?c:g[2];R}f(e["$start_with?"]("xhtml"))?(k=["htmlsyntax","xml"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)],e=e.$slice(1,e.$length())):f(e["$start_with?"]("html"))&&
(f(g=h["$[]"]("htmlsyntax"))?g:(k=["htmlsyntax","html"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]));e=f(g=q(u,"BACKEND_ALIASES")["$[]"](e))?g:e;f(l)&&(g=[l,e],e=g[0],m=g[1],g);f(z)?(f(M)&&(h.$delete("backend-"+M),h.$delete("backend-"+M+"-doctype-"+z)),k=["backend-"+e+"-doctype-"+z,""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["doctype-"+z,""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):f(M)&&h.$delete("backend-"+M);k=["backend-"+e,""];n(h,"[]=",a.to_a(k));k[b(k.length,1)];this.backend=(k=["backend",e],n(h,
"[]=",a.to_a(k)),k[b(k.length,1)]);f(p(q(u,"Converter"),"BackendTraits")["$==="](R=this.$create_converter(e,m)))?(A=R.$basebackend(),K=R.$filetype(),f(M=R.$htmlsyntax())&&(k=["htmlsyntax",M],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]),f(d)?f(g=h["$[]"]("outfilesuffix"))?g:(k=["outfilesuffix",R.$outfilesuffix()],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):f(this["$attribute_locked?"]("outfilesuffix"))||(k=["outfilesuffix",R.$outfilesuffix()],n(h,"[]=",a.to_a(k)),k[b(k.length,1)])):f(R)?(M=q(u,"Converter").$derive_backend_traits(e),
A=M["$[]"]("basebackend"),K=M["$[]"]("filetype"),f(d)?f(g=h["$[]"]("outfilesuffix"))?g:(k=["outfilesuffix",M["$[]"]("outfilesuffix")],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):f(this["$attribute_locked?"]("outfilesuffix"))||(k=["outfilesuffix",M["$[]"]("outfilesuffix")],n(h,"[]=",a.to_a(k)),k[b(k.length,1)])):this.$raise(p("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+e+"'. Processing aborted.");this.converter=R;f(r=h["$[]"]("filetype"))&&h.$delete("filetype-"+r);
k=["filetype",K];n(h,"[]=",a.to_a(k));k[b(k.length,1)];k=["filetype-"+K,""];n(h,"[]=",a.to_a(k));k[b(k.length,1)];f(d=q(u,"DEFAULT_PAGE_WIDTHS")["$[]"](A))?(k=["pagewidth",d],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):h.$delete("pagewidth");f(A["$!="](t))&&(f(z)?(f(t)&&(h.$delete("basebackend-"+t),h.$delete("basebackend-"+t+"-doctype-"+z)),k=["basebackend-"+A+"-doctype-"+z,""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):f(t)&&h.$delete("basebackend-"+t),k=["basebackend-"+A,""],n(h,"[]=",a.to_a(k)),k[b(k.length,
1)],k=["basebackend",A],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]);return e}return c},sa.$$arity=-2);return(a.def(d,"$update_doctype_attributes",cb=function(e){var d,g;if(f(f(d=e)?e["$!="](this.doctype):d)){d=[this.backend,(g=this.attributes)["$[]"]("basebackend"),this.doctype];var h=d[0];var k=d[1];var l=d[2];d;f(l)?(g.$delete("doctype-"+l),f(h)&&(g.$delete("backend-"+h+"-doctype-"+l),d=["backend-"+h+"-doctype-"+e,""],n(g,"[]=",a.to_a(d)),d[b(d.length,1)]),f(k)&&(g.$delete("basebackend-"+k+"-doctype-"+
l),d=["basebackend-"+k+"-doctype-"+e,""],n(g,"[]=",a.to_a(d)),d[b(d.length,1)])):(f(h)&&(d=["backend-"+h+"-doctype-"+e,""],n(g,"[]=",a.to_a(d)),d[b(d.length,1)]),f(k)&&(d=["basebackend-"+k+"-doctype-"+e,""],n(g,"[]=",a.to_a(d)),d[b(d.length,1)]));d=["doctype-"+e,""];n(g,"[]=",a.to_a(d));d[b(d.length,1)];return this.doctype=(d=["doctype",e],n(g,"[]=",a.to_a(d)),d[b(d.length,1)])}return c},cb.$$arity=1),c)&&"update_doctype_attributes"})(d[0],q(d,"AbstractBlock"),d)}(g[0],g)};Opal.modules["asciidoctor/inline"]=
function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.module,m=a.klass,g=a.hash2,c=a.send,p=a.truthy;a.add_stubs("$attr_accessor $attr_reader $[] $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,f){b=m(b,$super,"Inline");[b].concat(f);var e,d,k,l,q,r,t,u;b.$$prototype.text=b.$$prototype.type=h;b.$attr_accessor("text");b.$attr_reader("type");b.$attr_accessor("target");a.def(b,"$initialize",e=function(b,
f,d,k){e.$$p&&(e.$$p=null);null==d&&(d=h);null==k&&(k=g([],{}));c(this,a.find_super_dispatcher(this,"initialize",e,!1),[b,f,k],null);this.node_name="inline_"+f;this.text=d;this.id=k["$[]"]("id");this.type=k["$[]"]("type");return this.target=k["$[]"]("target")},e.$$arity=-3);a.def(b,"$block?",d=function(){return!1},d.$$arity=0);a.def(b,"$inline?",k=function(){return!0},k.$$arity=0);a.def(b,"$convert",l=function(){return this.$converter().$convert(this)},l.$$arity=0);a.alias(b,"render","convert");a.def(b,
"$alt",q=function(){return this.$attr("alt")},q.$$arity=0);a.def(b,"$reftext?",r=function(){var a,b;return p(a=this.text)?p(b=this.type["$=="]("ref"))?b:this.type["$=="]("bibref"):a},r.$$arity=0);a.def(b,"$reftext",t=function(){var a;return p(a=this.text)?this.$apply_reftext_subs(a):h},t.$$arity=0);return(a.def(b,"$xreftext",u=function(a){return this.$reftext()},u.$$arity=-1),h)&&"xreftext"})(b[0],k(b,"AbstractNode"),b)}(b[0],b)};Opal.modules["asciidoctor/list"]=function(a){var b=[],h=a.nil,k=a.const_get_relative,
l=a.module,m=a.klass,g=a.hash2,c=a.send,p=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $drop $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $! $simple? $source $shift $context $parent".split(" "));return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,f){b=m(b,$super,"List");[b].concat(f);var e,d,k,l;b.$$prototype.context=b.$$prototype.document=b.$$prototype.style=h;a.alias(b,"items","blocks");a.alias(b,"content",
"blocks");a.alias(b,"items?","blocks?");a.def(b,"$initialize",e=function(b,f,d){var h=e.$$p,k;h&&(e.$$p=null);var l=0;var q=arguments.length;for(k=Array(q);l<q;l++)k[l]=arguments[l];null==d&&(d=g([],{}));return c(this,a.find_super_dispatcher(this,"initialize",e,!1),k,h)},e.$$arity=-3);a.def(b,"$outline?",d=function(){var a;return p(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},d.$$arity=0);a.def(b,"$convert",k=function(){var b=k.$$p,e;b&&(k.$$p=null);var f=0;var d=arguments.length;
for(e=Array(d);f<d;f++)e[f]=arguments[f];return this.context["$=="]("colist")?(b=c(this,a.find_super_dispatcher(this,"convert",k,!1),e,b),this.document.$callouts().$next_list(),b):c(this,a.find_super_dispatcher(this,"convert",k,!1),e,b)},k.$$arity=0);a.alias(b,"render","convert");return(a.def(b,"$to_s",l=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},l.$$arity=0),h)&&"to_s"})(b[0],
k(b,"AbstractBlock"),b);(function(b,$super,f){b=m(b,$super,"ListItem");var e=[b].concat(f),d,g,l,q,r,t,u,z;b.$$prototype.text=b.$$prototype.subs=b.$$prototype.blocks=h;a.alias(b,"list","parent");b.$attr_accessor("marker");a.def(b,"$initialize",d=function(b,f){d.$$p&&(d.$$p=null);null==f&&(f=h);c(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,"list_item"],null);this.text=f;this.level=b.$level();return this.subs=k(e,"NORMAL_SUBS").$drop(0)},d.$$arity=-2);a.def(b,"$text?",g=function(){return p(this.text["$nil_or_empty?"]())?
!1:!0},g.$$arity=0);a.def(b,"$text",l=function(){var a;return p(a=this.text)?this.$apply_subs(this.text,this.subs):a},l.$$arity=0);a.def(b,"$text=",q=function(a){return this.text=a},q.$$arity=1);a.def(b,"$simple?",r=function(){var a,b,c=h;return p(a=this.blocks["$empty?"]())?a:p(b=this.blocks.$size()["$=="](1)?k(e,"List")["$==="](c=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?c["$outline?"]():b},r.$$arity=0);a.def(b,"$compound?",t=function(){return this["$simple?"]()["$!"]()},t.$$arity=0);
a.def(b,"$fold_first",u=function(){this.text=p(this.text["$nil_or_empty?"]())?this.blocks.$shift().$source():""+this.text+k(e,"LF")+this.blocks.$shift().$source();return h},u.$$arity=0);return(a.def(b,"$to_s",z=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(p(a=this.blocks)?a:[]).$size()+"}>"},z.$$arity=0),h)&&"to_s"})(b[0],k(b,"AbstractBlock"),b)}(b[0],b)};Opal.modules["asciidoctor/parser"]=
function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var g=[],c=a.nil,p=a.const_get_qualified,q=a.const_get_relative,t=a.module,w=a.klass,n=a.send,f=a.truthy,
e=a.hash2,y=a.gvars;a.add_stubs("$include $new $proc $start_with? $match? $is_delimited_block? $private_class_method $parse_document_header $[] $has_more_lines? $next_section $assign_numeral $<< $blocks $parse_block_metadata_lines $attributes $is_next_line_doctitle? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $apply_header_subs $[]= $source_location= $header $attribute_locked? $id $clear $delete $instance_variable_get $parse_header_metadata $include? $== $! $register $doctype $parse_manpage_header $=~ $downcase $sub_attributes $error $logger $message_with_context $cursor_at_line $backend $skip_blank_lines $save $update $is_next_line_section? $initialize_section $join $map $read_lines_until $lstrip $title $split $restore_save $discard_save $context $empty? $header? $!= $attr? $attr $key? $document $+ $level $special $sectname $to_i $< $> $warn $next_block $blocks? $style $context= $style= $parent= $size $content_model $shift $unwrap_standalone_preamble $merge $fetch $parse_block_metadata_line $extensions $block_macros? $mark $read_line $terminator $to_s $masq $to_sym $registered_for_block? $debug? $debug $cursor_at_mark $strict_verbatim_paragraphs $unshift_line $markdown_syntax $keys $chr $uniform? $length $end_with? $=== $parse_attributes $attribute_missing $tr $basename $assign_caption $registered_for_block_macro? $config $process_method $replace $parse_callout_list $callouts $parse_list $parse_description_list $underline_style_section_titles $is_section_title? $peek_line $atx_section_title? $generate_id $level= $read_paragraph_lines $adjust_indentation! $map! $slice $pop $build_block $apply_subs $chop $catalog_inline_anchors $rekey $index $strip $parse_table $each $raise $title? $update_attributes $commit_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $nil? $lines $parse_blocks $parse_list_item $items $scan $gsub $count $advance $dup $match $callout_ids $next_list $catalog_inline_anchor $source_location $marker= $catalog_inline_biblio_anchor $set_option $text= $resolve_ordered_list_marker $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $concat $find $delete_at $casecmp $sectname= $special= $numbered= $numbered $lineno $peek_lines $setext_section_title? $abs $cursor_at_prev_line $process_attribute_entries $next_line_empty? $process_authors $rstrip $each_with_index $compact $squeeze $to_a $parse_style_attribute $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $ord $int_to_roman $resolve_list_marker $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $pre_match $post_match $buffer_has_unclosed_quotes? $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $partition $shorthand_property_syntax $each_char $yield_buffered_attribute $any? $* $each_byte $%".split(" "));
return function(d,g){d=[t(d,"Asciidoctor")].concat(g);(function(d,$super,g){d=w(d,$super,"Parser");var u=[d].concat(g),r,t,z,D,E,L,H,x,B,C,F,S,Q,v,G,I,X,V,ba,J,oa,Y,O,qa,P,T,na,Ka,ea,ra,ha,va,Ba,la,Ma,Da,Na,La,Pa,Oa,Ga,Qa,Wa,Ua,Sa,A;d.$include(q(u,"Logging"));a.const_set(u[0],"BlockMatchData",q(u,"Struct").$new("context","masq","tip","terminator"));a.const_set(u[0],"TAB","\t");a.const_set(u[0],"TabIndentRx",/^\t+/);a.const_set(u[0],"StartOfBlockProc",n(d,"proc",[],(r=function(a){var b=r.$$s||this,
e,d;null==a&&(a=c);return f(e=f(d=a["$start_with?"]("["))?q(u,"BlockAttributeLineRx")["$match?"](a):d)?e:b["$is_delimited_block?"](a)},r.$$s=d,r.$$arity=1,r)));a.const_set(u[0],"StartOfListProc",n(d,"proc",[],(t=function(a){null==a&&(a=c);return q(u,"AnyListRx")["$match?"](a)},t.$$s=d,t.$$arity=1,t)));a.const_set(u[0],"StartOfBlockOrListProc",n(d,"proc",[],(z=function(a){var b=z.$$s||this,e,d,g;null==a&&(a=c);return f(e=f(d=b["$is_delimited_block?"](a))?d:f(g=a["$start_with?"]("["))?q(u,"BlockAttributeLineRx")["$match?"](a):
g)?e:q(u,"AnyListRx")["$match?"](a)},z.$$s=d,z.$$arity=1,z)));a.const_set(u[0],"NoOp",c);a.const_set(u[0],"AuthorKeys","author authorinitials firstname middlename lastname email".split(" "));a.const_set(u[0],"TableCellHorzAlignments",e(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(u[0],"TableCellVertAlignments",e(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(u[0],"TableCellStyles",e("dsemhla".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",
l:"literal",a:"asciidoc"}));d.$private_class_method("new");a.defs(d,"$parse",D=function(b,d,g){null==g&&(g=e([],{}));var h=this.$parse_document_header(b,d);if(!f(g["$[]"]("header_only")))for(;f(b["$has_more_lines?"]());){g=this.$next_section(b,d,h);h=a.to_ary(g);var n=null==h[0]?c:h[0];h=null==h[1]?c:h[1];g;f(n)&&(d.$assign_numeral(n),d.$blocks()["$<<"](n))}return d},D.$$arity=-3);a.defs(d,"$parse_document_header",E=function(e,d){var g,h,k,l=c,q=c;var u=this.$parse_block_metadata_lines(e,d);var m=
d.$attributes();if(f(f(g=h=this["$is_next_line_doctitle?"](e,u,m["$[]"]("leveloffset")))?u["$[]"]("title"):g))return d.$finalize_header(u,!1);if(!f((k=m["$[]"]("doctitle"))["$nil_or_empty?"]())){var A=[l=k];n(d,"title=",a.to_a(A));A[b(A.length,1)]}if(f(h)){f(d.$sourcemap())&&(q=e.$cursor());A=this.$parse_section_title(e,d);g=a.to_ary(A);d["$id="](null==g[0]?c:g[0]);h=null==g[2]?c:g[2];var p=null==g[4]?c:g[4];A;f(l)?h=c:(A=[h],n(d,"title=",a.to_a(A)),A[b(A.length,1)],A=["doctitle",l=d.$apply_header_subs(h)],
n(m,"[]=",a.to_a(A)),A[b(A.length,1)]);f(q)&&(A=[q],n(d.$header(),"source_location=",a.to_a(A)),A[b(A.length,1)]);f(f(g=p)?g:d["$attribute_locked?"]("compat-mode"))||(A=["compat-mode",""],n(m,"[]=",a.to_a(A)),A[b(A.length,1)]);f(A=u["$[]"]("separator"))&&!f(d["$attribute_locked?"]("title-separator"))&&(A=["title-separator",A],n(m,"[]=",a.to_a(A)),A[b(A.length,1)]);f(q=u["$[]"]("id"))?(A=[q],n(d,"id=",a.to_a(A)),A[b(A.length,1)]):q=d.$id();f(A=u["$[]"]("role"))&&(A=["role",A],n(m,"[]=",a.to_a(A)),
A[b(A.length,1)]);f(A=u["$[]"]("reftext"))&&(A=["reftext",A],n(m,"[]=",a.to_a(A)),A[b(A.length,1)]);u.$clear();(A=d.$instance_variable_get("@attributes_modified")).$delete("doctitle");this.$parse_header_metadata(e,d);if(f(A["$include?"]("doctitle")))f(f(g=(k=m["$[]"]("doctitle"))["$nil_or_empty?"]())?g:k["$=="](l))?(A=["doctitle",l],n(m,"[]=",a.to_a(A))):(A=[k],n(d,"title=",a.to_a(A))),A[b(A.length,1)];else if(f(h["$!"]()))A["$<<"]("doctitle");f(q)&&d.$register("refs",[q,d])}d.$doctype()["$=="]("manpage")&&
this.$parse_manpage_header(e,d,u);return d.$finalize_header(u)},E.$$arity=2);a.defs(d,"$parse_manpage_header",L=function(d,g,h){var k,l,m,A,p=c,r=c,K=c,t=c,M=c,z=c,w=z=c,ia=c,D=c;f(q(u,"ManpageTitleVolnumRx")["$=~"]((p=g.$attributes())["$[]"]("doctitle")))?(r=["manvolnum",K=(k=y["~"])===c?c:k["$[]"](2)],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],r=["mantitle",(f((t=(k=y["~"])===c?c:k["$[]"](1))["$include?"](q(u,"ATTR_REF_HEAD")))?g.$sub_attributes(t):t).$downcase()]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",
e(["source_location"],{source_location:d.$cursor_at_line(1)}))),r=["mantitle",f(k=f(l=p["$[]"]("doctitle"))?l:p["$[]"]("docname"))?k:"command"],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],r=["manvolnum",K="1"]);n(p,"[]=",a.to_a(r));r[b(r.length,1)];f(f(k=M=p["$[]"]("manname"))?p["$[]"]("manpurpose"):k)?(f(k=p["$[]"]("manname-title"))?k:(r=["manname-title","Name"],n(p,"[]=",a.to_a(r)),r[b(r.length,1)]),r=["mannames",[M]],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],g.$backend()["$=="]("manpage")&&(r=["docname",
M],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],r=["outfilesuffix","."+K],n(p,"[]=",a.to_a(r)),r[b(r.length,1)])):(d.$skip_blank_lines(),d.$save(),h.$update(this.$parse_block_metadata_lines(d,g)),f(z=this["$is_next_line_section?"](d,e([],{})))?z["$=="](1)?(z=this.$initialize_section(d,g,e([],{})),w=n(d.$read_lines_until(e(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(m=function(a){null==a&&(a=c);return a.$lstrip()},m.$$s=this,m.$$arity=1,m)).$join(" "),
f(q(u,"ManpageNamePurposeRx")["$=~"](w))?(f(k=p["$[]"]("manname-title"))?k:(r=["manname-title",z.$title()],n(p,"[]=",a.to_a(r)),r[b(r.length,1)]),f(z.$id())&&(r=["manname-id",z.$id()],n(p,"[]=",a.to_a(r)),r[b(r.length,1)]),r=["manpurpose",(k=y["~"])===c?c:k["$[]"](2)],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],f((M=(k=y["~"])===c?c:k["$[]"](1))["$include?"](q(u,"ATTR_REF_HEAD")))&&(M=g.$sub_attributes(M)),f(M["$include?"](","))?M=(ia=n(M.$split(","),"map",[],(A=function(a){null==a&&(a=c);return a.$lstrip()},
A.$$s=this,A.$$arity=1,A)))["$[]"](0):ia=[M],r=["manname",M],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],r=["mannames",ia],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],g.$backend()["$=="]("manpage")&&(r=["docname",M],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],r=["outfilesuffix","."+K],n(p,"[]=",a.to_a(r)),r[b(r.length,1)])):D="non-conforming name section body"):D="name section must be at level 1":D="name section expected",f(D)?(d.$restore_save(),this.$logger().$error(this.$message_with_context(D,e(["source_location"],
{source_location:d.$cursor()}))),r=["manname",M=f(k=p["$[]"]("docname"))?k:"command"],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],r=["mannames",[M]],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],g.$backend()["$=="]("manpage")&&(r=["docname",M],n(p,"[]=",a.to_a(r)),r[b(r.length,1)],r=["outfilesuffix","."+K],n(p,"[]=",a.to_a(r)),r[b(r.length,1)])):d.$discard_save());return c},L.$$arity=3);a.defs(d,"$next_section",H=function(d,g,m){var A,r,p,t,K,M,z=c,w,y,D=c,ia=y=c,E;null==m&&(m=e([],{}));var L=K=M=!1;if(f(f(A=(r=
g.$context()["$=="]("document"))?g.$blocks()["$empty?"]():g.$context()["$=="]("document"))?f(r=f(p=z=g["$header?"]())?p:m.$delete("invalid-header"))?r:this["$is_next_line_section?"](d,m)["$!"]():A)){var H=(w=g).$doctype()["$=="]("book");if(f(f(A=z)?A:f(r=H)?m["$[]"](1)["$!="]("abstract"):r)){L=K=q(u,"Block").$new(g,"preamble",e(["content_model"],{content_model:"compound"}));if(f(f(A=H)?g["$attr?"]("preface-title"):A)){var x=[g.$attr("preface-title")];n(L,"title=",a.to_a(x));x[b(x.length,1)]}g.$blocks()["$<<"](L)}z=
g;y=0;if(f(g.$attributes()["$key?"]("fragment")))var B=-1;else f(H)?(A=[1,0],B=A[0],D=A[1],A):B=1}else H=(w=g.$document()).$doctype()["$=="]("book"),z=this.$initialize_section(d,g,m),m=f(y=m["$[]"]("title"))?e(["title"],{title:y}):e([],{}),B=h(y=z.$level(),1),y["$=="](0)?M=H:f((A=y["$=="](1))?z.$special():y["$=="](1))&&!f(f(A=f(r=(ia=z.$sectname())["$=="]("appendix"))?r:ia["$=="]("preface"))?A:ia["$=="]("abstract"))&&(B=c);for(d.$skip_blank_lines();f(d["$has_more_lines?"]());){this.$parse_block_metadata_lines(d,
w,m);if(f(E=this["$is_next_line_section?"](d,m)))if(f(w["$attr?"]("leveloffset"))&&(E=h(E,w.$attr("leveloffset").$to_i()),f(k(E,0))&&(E=0)),f(l(E,y)))f(B)?f(f(r=f(p=E["$=="](B))?p:f(t=D)?E["$=="](D):t)?r:k(B,0))||(r=f(D)?"expected levels "+D+" or "+B:"expected level "+B,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+r+", got level "+E,e(["source_location"],{source_location:d.$cursor()})))):this.$logger().$error(this.$message_with_context(""+ia+" sections do not support nested sections",
e(["source_location"],{source_location:d.$cursor()}))),p=this.$next_section(d,z,m),r=a.to_ary(p),E=null==r[0]?c:r[0],m=null==r[1]?c:r[1],p,z.$assign_numeral(E),z.$blocks()["$<<"](E);else if(f((r=E["$=="](0))?z["$=="](w):E["$=="](0)))f(H)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",e(["source_location"],{source_location:d.$cursor()}))),p=this.$next_section(d,z,m),r=a.to_ary(p),E=null==r[0]?c:r[0],m=null==r[1]?c:r[1],p,z.$assign_numeral(E),
z.$blocks()["$<<"](E);else break;else if(x=d.$cursor(),f(E=this.$next_block(d,f(r=K)?r:z,m,e(["parse_metadata"],{parse_metadata:!1})))){if(f(M))if(f(z["$blocks?"]()["$!"]()))f(E.$style()["$!="]("partintro"))&&(E.$context()["$=="]("paragraph")?(x=["open"],n(E,"context=",a.to_a(x)),x[b(x.length,1)],x=["partintro"],n(E,"style=",a.to_a(x)),x[b(x.length,1)]):(x=[K=q(u,"Block").$new(z,"open",e(["content_model"],{content_model:"compound"}))],n(E,"parent=",a.to_a(x)),x[b(x.length,1)],x=["partintro"],n(K,
"style=",a.to_a(x)),x[b(x.length,1)],z.$blocks()["$<<"](K)));else if(z.$blocks().$size()["$=="](1)){var C=z.$blocks()["$[]"](0);f(f(r=K["$!"]())?C.$content_model()["$=="]("compound"):r)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",e(["source_location"],{source_location:x}))):f(C.$content_model()["$!="]("compound"))&&(x=[K=q(u,"Block").$new(z,"open",e(["content_model"],{content_model:"compound"}))],n(E,"parent=",a.to_a(x)),x[b(x.length,1)],x=["partintro"],
n(K,"style=",a.to_a(x)),x[b(x.length,1)],z.$blocks().$shift(),C.$style()["$=="]("partintro")&&(x=["paragraph"],n(C,"context=",a.to_a(x)),x[b(x.length,1)],x=[c],n(C,"style=",a.to_a(x)),x[b(x.length,1)]),K["$<<"](C),z.$blocks()["$<<"](K))}(f(r=K)?r:z).$blocks()["$<<"](E);m.$clear()}if(f(r=d.$skip_blank_lines()))r;else break}if(f(M))f(f(A=z["$blocks?"]())?z.$blocks()["$[]"](-1).$context()["$=="]("section"):A)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",
e(["source_location"],{source_location:d.$cursor()})));else if(f(L))if(f(L["$blocks?"]())){if(!f(f(A=f(r=H)?r:w.$blocks()["$[]"](1))?A:q(u,"Compliance").$unwrap_standalone_preamble()["$!"]()))for(w.$blocks().$shift();f(d=L.$blocks().$shift());)w["$<<"](d)}else w.$blocks().$shift();return[f(z["$!="](g))?z:c,m.$merge()]},H.$$arity=-3);a.defs(d,"$next_block",x=function(d,g,m,A){try{var r,p,t,K,z,M,w,R=c,D=c,E=c,ia=c,L=c,H=c,x=c,B=c,C=c,U=c,F=c,S=c,Q=c,fa=c,v=c,G=c,W=c,Y=c,I=c,ja=c,Ca=c,Z=c,oa=c,aa=c,
X=c,ta=c,ya=c,V=c,ma=c,xa=c,da=c,La=c,ba=c,Ia=c,qa=c,J=c,ca=c,Aa=c,Ea=c,O=c,P=c,za=c,wa=c,Pa=c,ua=c,T=c,na=c,Ra=c,Oa=c,la=c;null==y["~"]&&(y["~"]=c);null==m&&(m=e([],{}));null==A&&(A=e([],{}));if(!f(R=d.$skip_blank_lines()))return c;f(f(r=D=A["$[]"]("text_only"))?l(R,0):r)&&(A.$delete("text_only"),D=c);E=g.$document();if(f(A.$fetch("parse_metadata",!0)))for(;f(this.$parse_block_metadata_line(d,E,m,A));)d.$shift(),f(p=d.$skip_blank_lines())?p:a.ret(c);f(ia=E.$extensions())&&(r=[ia["$blocks?"](),ia["$block_macros?"]()],
L=r[0],H=r[1],r);d.$mark();r=[d.$read_line(),E.$attributes(),m["$[]"](1)];x=r[0];B=r[1];C=r[2];r;U=F=S=Q=c;f(fa=this["$is_delimited_block?"](x,!0))&&(F=S=fa.$context(),Q=fa.$terminator(),f(C)?C["$=="](F.$to_s())||(f(fa.$masq()["$include?"](C))?F=C.$to_sym():f(f(r=fa.$masq()["$include?"]("admonition"))?q(u,"ADMONITION_STYLES")["$include?"](C):r)?F="admonition":f(f(r=L)?ia["$registered_for_block?"](C,F):r)?F=C.$to_sym():(f(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for "+
F+" block: "+C,e(["source_location"],{source_location:d.$cursor_at_mark()}))),C=F.$to_s())):C=(v=["style",F.$to_s()],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]));if(!f(fa))for(;f(!0);){if(f(f(p=f(t=C)?q(u,"Compliance").$strict_verbatim_paragraphs():t)?q(u,"VERBATIM_STYLES")["$include?"](C):p)){F=C.$to_sym();d.$unshift_line(x);break}if(f(D))G=x["$start_with?"](" ",q(u,"TAB"));else if(W=q(u,"Compliance").$markdown_syntax(),f(x["$start_with?"](" "))){if(p=[!0," "],G=p[0],Y=p[1],p,f(f(p=f(t=W)?n(x.$lstrip(),
"start_with?",a.to_a(q(u,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):t)?q(u,"MarkdownThematicBreakRx")["$match?"](x):p)){U=q(u,"Block").$new(g,"thematic_break",e(["content_model"],{content_model:"empty"}));break}}else if(f(x["$start_with?"](q(u,"TAB"))))p=[!0,q(u,"TAB")],G=p[0],Y=p[1],p;else if(p=[!1,x.$chr()],G=p[0],Y=p[1],p,I=f(W)?q(u,"HYBRID_LAYOUT_BREAK_CHARS"):q(u,"LAYOUT_BREAK_CHARS"),f(f(p=I["$key?"](Y))?f(W)?q(u,"ExtLayoutBreakRx")["$match?"](x):f(t=this["$uniform?"](x,Y,ja=x.$length()))?l(ja,
2):t:p)){U=q(u,"Block").$new(g,I["$[]"](Y),e(["content_model"],{content_model:"empty"}));break}else if(f(f(p=x["$end_with?"]("]"))?x["$include?"]("::"):p))if(f(f(p=f(t=Y["$=="]("i"))?t:x["$start_with?"]("video:","audio:"))?q(u,"BlockMediaMacroRx")["$=~"](x):p)){p=[((t=y["~"])===c?c:t["$[]"](1)).$to_sym(),(t=y["~"])===c?c:t["$[]"](2),(t=y["~"])===c?c:t["$[]"](3)];Ca=p[0];Z=p[1];oa=p[2];p;U=q(u,"Block").$new(g,Ca,e(["content_model"],{content_model:"empty"}));f(oa)&&(aa=Ca,X="video"["$==="](aa)?["poster",
"width","height"]:"audio"["$==="](aa)?[]:["alt","width","height"],U.$parse_attributes(oa,X,e(["sub_input","into"],{sub_input:!0,into:m})));f(m["$key?"]("style"))&&m.$delete("style");if(f(Z["$include?"](q(u,"ATTR_REF_HEAD")))){if(f(f(p=f(t=(ta=U.$sub_attributes(Z))["$empty?"]())?(f(K=B["$[]"]("attribute-missing"))?K:q(u,"Compliance").$attribute_missing())["$=="]("drop-line"):t)?U.$sub_attributes(h(Z," "),e(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():
p))return m.$clear(),c;Z=ta}Ca["$=="]("image")&&(E.$register("images",[Z,(v=["imagesdir",B["$[]"]("imagesdir")],n(m,"[]=",a.to_a(v)),v[b(v.length,1)])]),f(p=m["$[]"]("alt"))?p:(v=["alt",f(t=C)?t:(v=["default-alt",q(u,"Helpers").$basename(Z,!0).$tr("_-"," ")],n(m,"[]=",a.to_a(v)),v[b(v.length,1)])],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]),f((ya=m.$delete("scaledwidth"))["$nil_or_empty?"]())||(v=["scaledwidth",f(q(u,"TrailingDigitsRx")["$match?"](ya))?""+ya+"%":ya],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]),
f(m["$[]"]("title"))&&(v=[V=m.$delete("title")],n(U,"title=",a.to_a(v)),v[b(v.length,1)],U.$assign_caption(m.$delete("caption"),"figure")));v=["target",Z];n(m,"[]=",a.to_a(v));v[b(v.length,1)];break}else if(f(f(p=(t=Y["$=="]("t"))?x["$start_with?"]("toc:"):Y["$=="]("t"))?q(u,"BlockTocMacroRx")["$=~"](x):p)){U=q(u,"Block").$new(g,"toc",e(["content_model"],{content_model:"empty"}));f((p=y["~"])===c?c:p["$[]"](1))&&U.$parse_attributes((p=y["~"])===c?c:p["$[]"](1),[],e(["into"],{into:m}));break}else if(f(f(H)?
f(p=f(t=q(u,"CustomBlockMacroRx")["$=~"](x))?ma=ia["$registered_for_block_macro?"]((K=y["~"])===c?c:K["$[]"](1)):t)?p:xa=this.$logger()["$debug?"]():f(p=this.$logger()["$debug?"]())?xa=q(u,"CustomBlockMacroRx")["$=~"](x):p))if(f(xa))this.$logger().$debug(this.$message_with_context("unknown name for block macro: "+((p=y["~"])===c?c:p["$[]"](1)),e(["source_location"],{source_location:d.$cursor_at_mark()})));else{da=(p=y["~"])===c?c:p["$[]"](3);if(f((Z=(p=y["~"])===c?c:p["$[]"](2))["$include?"](q(u,
"ATTR_REF_HEAD")))){if(f(f(p=f(t=(ta=g.$sub_attributes(Z))["$empty?"]())?(f(K=B["$[]"]("attribute-missing"))?K:q(u,"Compliance").$attribute_missing())["$=="]("drop-line"):t)?g.$sub_attributes(h(Z," "),e(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():p))return m.$clear(),c;Z=ta}(La=ma.$config())["$[]"]("content_model")["$=="]("attributes")?f(da)&&E.$parse_attributes(da,f(p=f(t=La["$[]"]("positional_attrs"))?t:La["$[]"]("pos_attrs"))?
p:[],e(["sub_input","into"],{sub_input:!0,into:m})):(v=["text",f(p=da)?p:""],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]);f(ba=La["$[]"]("default_attrs"))&&n(m,"update",[ba],(z=function(a,b){null==b&&(b=c);return b},z.$$s=this,z.$$arity=2,z));if(f(U=ma.$process_method()["$[]"](g,Z,m))){m.$replace(U.$attributes());break}else return m.$clear(),c}if(f(f(p=f(t=G["$!"]())?(Y=f(K=Y)?K:x.$chr())["$=="]("<"):t)?q(u,"CalloutListRx")["$=~"](x):p)){d.$unshift_line(x);U=this.$parse_callout_list(d,y["~"],g,E.$callouts());
v=["style","arabic"];n(m,"[]=",a.to_a(v));v[b(v.length,1)];break}else if(f(q(u,"UnorderedListRx")["$match?"](x))){d.$unshift_line(x);f(f(p=f(t=C["$!"]())?q(u,"Section")["$==="](g):t)?g.$sectname()["$=="]("bibliography"):p)&&(v=["style",C="bibliography"],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]);U=this.$parse_list(d,"ulist",g,C);break}else if(f(q(u,"OrderedListRx")["$match?"](x))){d.$unshift_line(x);U=this.$parse_list(d,"olist",g,C);f(U.$style())&&(v=["style",U.$style()],n(m,"[]=",a.to_a(v)),v[b(v.length,
1)]);break}else if(f(f(p=f(t=x["$include?"]("::"))?t:x["$include?"](";;"))?q(u,"DescriptionListRx")["$=~"](x):p)){d.$unshift_line(x);U=this.$parse_description_list(d,y["~"],g);break}else if(f(f(p=f(t=C["$=="]("float"))?t:C["$=="]("discrete"))?f(q(u,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](x,d.$peek_line()):f(t=G["$!"]())?this["$atx_section_title?"](x):t:p)){d.$unshift_line(x);t=this.$parse_section_title(d,E,m["$[]"]("id"));p=a.to_ary(t);Ia=null==p[0]?c:p[0];qa=null==
p[1]?c:p[1];V=null==p[2]?c:p[2];J=null==p[3]?c:p[3];t;f(qa)&&(v=["reftext",qa],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]);U=q(u,"Block").$new(g,"floating_title",e(["content_model"],{content_model:"empty"}));v=[V];n(U,"title=",a.to_a(v));v[b(v.length,1)];m.$delete("title");v=[f(p=Ia)?p:f(B["$key?"]("sectids"))?q(u,"Section").$generate_id(U.$title(),E):c];n(U,"id=",a.to_a(v));v[b(v.length,1)];v=[J];n(U,"level=",a.to_a(v));v[b(v.length,1)];break}else if(f(f(p=C)?C["$!="]("normal"):p))if(f(q(u,"PARAGRAPH_STYLES")["$include?"](C))){F=
C.$to_sym();S="paragraph";d.$unshift_line(x);break}else if(f(q(u,"ADMONITION_STYLES")["$include?"](C))){F="admonition";S="paragraph";d.$unshift_line(x);break}else if(f(f(p=L)?ia["$registered_for_block?"](C,"paragraph"):p)){F=C.$to_sym();S="paragraph";d.$unshift_line(x);break}else f(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for paragraph: "+C,e(["source_location"],{source_location:d.$cursor_at_mark()}))),C=c;d.$unshift_line(x);if(f(f(p=G)?C["$!"]():
p))ca=this.$read_paragraph_lines(d,Aa=R["$=="](0)?A["$[]"]("list_type"):c,e(["skip_line_comments"],{skip_line_comments:D})),this["$adjust_indentation!"](ca),U=f(f(p=D)?p:Aa["$=="]("dlist"))?q(u,"Block").$new(g,"paragraph",e(["content_model","source","attributes"],{content_model:"simple",source:ca,attributes:m})):q(u,"Block").$new(g,"literal",e(["content_model","source","attributes"],{content_model:"verbatim",source:ca,attributes:m}));else{ca=this.$read_paragraph_lines(d,(p=R["$=="](0))?A["$[]"]("list_type"):
R["$=="](0),e(["skip_line_comments"],{skip_line_comments:!0}));if(f(D)){if(f(f(p=G)?C["$=="]("normal"):p))this["$adjust_indentation!"](ca);U=q(u,"Block").$new(g,"paragraph",e(["content_model","source","attributes"],{content_model:"simple",source:ca,attributes:m}))}else if(f(f(p=f(t=q(u,"ADMONITION_STYLE_HEADS")["$include?"](Y))?x["$include?"](":"):t)?q(u,"AdmonitionParagraphRx")["$=~"](x):p))v=[0,(p=y["~"])===c?c:p.$post_match()],n(ca,"[]=",a.to_a(v)),v[b(v.length,1)],v=["name",Ea=(v=["style",(p=
y["~"])===c?c:p["$[]"](1)],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]).$downcase()],n(m,"[]=",a.to_a(v)),v[b(v.length,1)],v=["textlabel",f(p=m.$delete("caption"))?p:B["$[]"](""+Ea+"-caption")],n(m,"[]=",a.to_a(v)),v[b(v.length,1)],U=q(u,"Block").$new(g,"admonition",e(["content_model","source","attributes"],{content_model:"simple",source:ca,attributes:m}));else if(f(f(p=f(t=W)?Y["$=="](">"):t)?x["$start_with?"]("> "):p)){n(ca,"map!",[],(M=function(a){null==a&&(a=c);return a["$=="](">")?a.$slice(1,a.$length()):
f(a["$start_with?"]("> "))?a.$slice(2,a.$length()):a},M.$$s=this,M.$$arity=1,M));if(f(ca["$[]"](-1)["$start_with?"]("-- "))&&(O=(O=ca.$pop()).$slice(3,O.$length()),!f(ca["$empty?"]())))for(;f(ca["$[]"](-1)["$empty?"]());)ca.$pop();v=["style","quote"];n(m,"[]=",a.to_a(v));v[b(v.length,1)];U=this.$build_block("quote","compound",!1,g,q(u,"Reader").$new(ca),m);f(O)&&(t=U.$apply_subs(O).$split(", ",2),p=a.to_ary(t),P=null==p[0]?c:p[0],za=null==p[1]?c:p[1],t,f(P)&&(v=["attribution",P],n(m,"[]=",a.to_a(v)),
v[b(v.length,1)]),f(za)&&(v=["citetitle",za],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]))}else if(f(f(p=f(t=(K=Y["$=="]('"'))?l(ca.$size(),1):Y["$=="]('"'))?ca["$[]"](-1)["$start_with?"]("-- "):t)?ca["$[]"](-2)["$end_with?"]('"'):p)){v=[0,x.$slice(1,x.$length())];n(ca,"[]=",a.to_a(v));v[b(v.length,1)];for(O=(O=ca.$pop()).$slice(3,O.$length());f(ca["$[]"](-1)["$empty?"]());)ca.$pop();ca["$<<"](ca.$pop().$chop());v=["style","quote"];n(m,"[]=",a.to_a(v));v[b(v.length,1)];U=q(u,"Block").$new(g,"quote",e(["content_model",
"source","attributes"],{content_model:"simple",source:ca,attributes:m}));t=U.$apply_subs(O).$split(", ",2);p=a.to_ary(t);P=null==p[0]?c:p[0];za=null==p[1]?c:p[1];t;f(P)&&(v=["attribution",P],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]);f(za)&&(v=["citetitle",za],n(m,"[]=",a.to_a(v)),v[b(v.length,1)])}else{if(f(f(p=G)?C["$=="]("normal"):p))this["$adjust_indentation!"](ca);U=q(u,"Block").$new(g,"paragraph",e(["content_model","source","attributes"],{content_model:"simple",source:ca,attributes:m}))}this.$catalog_inline_anchors(ca.$join(q(u,
"LF")),U,E,d)}break}if(!f(U))if(aa=F,"listing"["$==="](aa)||"source"["$==="](aa))f(f(r=F["$=="]("source"))?r:f(p=m["$[]"](1)["$!"]())?wa=f(t=m["$[]"](2))?t:B["$[]"]("source-language"):p)&&(f(wa)?(v=["style","source"],n(m,"[]=",a.to_a(v)),v[b(v.length,1)],v=["language",wa],n(m,"[]=",a.to_a(v)),v[b(v.length,1)],q(u,"AttributeList").$rekey(m,[c,c,"linenums"])):(q(u,"AttributeList").$rekey(m,[c,"language","linenums"]),!f(m["$key?"]("language"))&&f(B["$key?"]("source-language"))&&(v=["language",B["$[]"]("source-language")],
n(m,"[]=",a.to_a(v)),v[b(v.length,1)])),!f(m["$key?"]("linenums"))&&f(f(r=m["$[]"]("linenums-option"))?r:B["$[]"]("source-linenums-option"))&&(v=["linenums",""],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]),!f(m["$key?"]("indent"))&&f(B["$key?"]("source-indent"))&&(v=["indent",B["$[]"]("source-indent")],n(m,"[]=",a.to_a(v)),v[b(v.length,1)])),U=this.$build_block("listing","verbatim",Q,g,d,m);else if("fenced_code"["$==="](aa))v=["style","source"],n(m,"[]=",a.to_a(v)),v[b(v.length,1)],f(l(ja=x.$length(),3))&&
(f(Pa=(wa=x.$slice(3,ja)).$index(","))?f(l(Pa,0))?(wa=wa.$slice(0,Pa).$strip(),f(k(Pa,b(ja,4)))&&(v=["linenums",""],n(m,"[]=",a.to_a(v)),v[b(v.length,1)])):f(l(ja,4))&&(v=["linenums",""],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]):wa=wa.$lstrip()),f(wa["$nil_or_empty?"]())?f(B["$key?"]("source-language"))&&(v=["language",B["$[]"]("source-language")],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]):(v=["language",wa],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]),!f(m["$key?"]("linenums"))&&f(f(r=m["$[]"]("linenums-option"))?
r:B["$[]"]("source-linenums-option"))&&(v=["linenums",""],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]),!f(m["$key?"]("indent"))&&f(B["$key?"]("source-indent"))&&(v=["indent",B["$[]"]("source-indent")],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]),Q=Q.$slice(0,3),U=this.$build_block("listing","verbatim",Q,g,d,m);else if("table"["$==="](aa))ua=d.$cursor(),T=q(u,"Reader").$new(d.$read_lines_until(e(["terminator","skip_line_comments","context","cursor"],{terminator:Q,skip_line_comments:!0,context:"table",cursor:"at_mark"})),
ua),f(Q["$start_with?"]("|","!"))||(f(r=m["$[]"]("format"))?r:(v=["format",f(Q["$start_with?"](","))?"csv":"dsv"],n(m,"[]=",a.to_a(v)),v[b(v.length,1)])),U=this.$parse_table(T,g,m);else if("sidebar"["$==="](aa))U=this.$build_block(F,"compound",Q,g,d,m);else if("admonition"["$==="](aa))v=["name",Ea=C.$downcase()],n(m,"[]=",a.to_a(v)),v[b(v.length,1)],v=["textlabel",f(r=m.$delete("caption"))?r:B["$[]"](""+Ea+"-caption")],n(m,"[]=",a.to_a(v)),v[b(v.length,1)],U=this.$build_block(F,"compound",Q,g,d,m);
else if("open"["$==="](aa)||"abstract"["$==="](aa)||"partintro"["$==="](aa))U=this.$build_block("open","compound",Q,g,d,m);else if("literal"["$==="](aa))U=this.$build_block(F,"verbatim",Q,g,d,m);else if("example"["$==="](aa))U=this.$build_block(F,"compound",Q,g,d,m);else if("quote"["$==="](aa)||"verse"["$==="](aa))q(u,"AttributeList").$rekey(m,[c,"attribution","citetitle"]),U=this.$build_block(F,F["$=="]("verse")?"verbatim":"compound",Q,g,d,m);else if("stem"["$==="](aa)||"latexmath"["$==="](aa)||
"asciimath"["$==="](aa))F["$=="]("stem")&&(v=["style",q(u,"STEM_TYPE_ALIASES")["$[]"](f(r=m["$[]"](2))?r:B["$[]"]("stem"))],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]),U=this.$build_block("stem","raw",Q,g,d,m);else if("pass"["$==="](aa))U=this.$build_block(F,"raw",Q,g,d,m);else{if("comment"["$==="](aa))return this.$build_block(F,"skip",Q,g,d,m),m.$clear(),c;if(f(f(r=L)?ma=ia["$registered_for_block?"](F,S):r)){if((na=(La=ma.$config())["$[]"]("content_model"))["$=="]("skip")||(f((Ra=f(r=La["$[]"]("positional_attrs"))?
r:La["$[]"]("pos_attrs"))["$nil_or_empty?"]())||q(u,"AttributeList").$rekey(m,h([c],Ra)),f(ba=La["$[]"]("default_attrs"))&&n(ba,"each",[],(w=function(e,d){var g;null==e&&(e=c);null==d&&(d=c);return f(g=m["$[]"](e))?g:(v=[e,d],n(m,"[]=",a.to_a(v)),v[b(v.length,1)])},w.$$s=this,w.$$arity=2,w)),v=["cloaked-context",S],n(m,"[]=",a.to_a(v)),v[b(v.length,1)]),!f(U=this.$build_block(F,na,Q,g,d,m,e(["extension"],{extension:ma}))))return m.$clear(),c}else this.$raise("Unsupported block type "+F+" at "+d.$cursor())}f(E.$sourcemap())&&
(v=[d.$cursor_at_mark()],n(U,"source_location=",a.to_a(v)),v[b(v.length,1)]);f(m["$[]"]("title"))&&(v=[V=m.$delete("title")],n(U,"title=",a.to_a(v)),v[b(v.length,1)],f(f(r=Oa=q(u,"CAPTION_ATTR_NAMES")["$[]"](U.$context()))?E.$attributes()["$[]"](Oa):r)&&U.$assign_caption(m.$delete("caption")));v=[m["$[]"]("style")];n(U,"style=",a.to_a(v));v[b(v.length,1)];f(la=f(r=U.$id())?r:(v=[m["$[]"]("id")],n(U,"id=",a.to_a(v)),v[b(v.length,1)]))&&(f(f(V)?V["$include?"](q(u,"ATTR_REF_HEAD")):U["$title?"]())&&
U.$title(),f(E.$register("refs",[la,U]))||this.$logger().$warn(this.$message_with_context("id assigned to block already in use: "+la,e(["source_location"],{source_location:d.$cursor_at_mark()}))));f(m["$empty?"]())||U.$update_attributes(m);U.$commit_subs();f(U["$sub?"]("callouts"))&&!f(this.$catalog_callouts(U.$source(),E))&&U.$remove_sub("callouts");return U}catch(kb){if(kb===a.returner)return kb.$v;throw kb;}},x.$$arity=-3);a.defs(d,"$read_paragraph_lines",B=function(c,d,g){null==g&&(g=e([],{}));
var h=["break_on_blank_lines",!0];n(g,"[]=",a.to_a(h));h[b(h.length,1)];h=["break_on_list_continuation",!0];n(g,"[]=",a.to_a(h));h[b(h.length,1)];h=["preserve_last_line",!0];n(g,"[]=",a.to_a(h));h[b(h.length,1)];d=f(d)?f(q(u,"Compliance").$block_terminates_paragraph())?q(u,"StartOfBlockOrListProc"):q(u,"StartOfListProc"):f(q(u,"Compliance").$block_terminates_paragraph())?q(u,"StartOfBlockProc"):q(u,"NoOp");return n(c,"read_lines_until",[g],d.$to_proc())},B.$$arity=-3);a.defs(d,"$is_delimited_block?",
C=function(e,d){var g,h;null==d&&(d=c);if(!f(f(g=l(h=e.$length(),1))?q(u,"DELIMITED_BLOCK_HEADS")["$[]"](e.$slice(0,2)):g))return c;if(h["$=="](2)){var n=e;var m=2}else if(f(k(h,5))?(n=e,m=h):n=e.$slice(0,m=4),f(f(g=q(u,"Compliance").$markdown_syntax())?n["$start_with?"]("`"):g))if(m["$=="](4))if(!n["$=="]("````")&&(n=n.$chop())["$=="]("```"))e=n,h=m=3;else return c;else{if(!n["$=="]("```"))return c}else if(m["$=="](3))return c;var A=q(u,"DELIMITED_BLOCKS")["$[]"](n);g=a.to_ary(A);var p=null==g[0]?
c:g[0];var r=null==g[1]?c:g[1];A;return f(f(g=p)?f(A=h["$=="](m))?A:this["$uniform?"](e.$slice(1,h),q(u,"DELIMITED_BLOCK_TAILS")["$[]"](n),b(h,1)):g)?f(d)?q(u,"BlockMatchData").$new(p,r,n,e):!0:c},C.$$arity=-2);a.defs(d,"$build_block",F=function(a,b,d,g,h,n,k){var m,A,p;null==k&&(k=e([],{}));b["$=="]("skip")?(m=[!0,"simple"],A=m[0],p=m[1]):b["$=="]("raw")?(m=[!1,"simple"],A=m[0],p=m[1]):(m=[!1,b],A=m[0],p=m[1]);m;if(f(d["$nil?"]()))p["$=="]("verbatim")?p=h.$read_lines_until(e(["break_on_blank_lines",
"break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),p=this.$read_paragraph_lines(h,!1,e(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:A}))),d=c;else if(f(p["$!="]("compound")))p=h.$read_lines_until(e(["terminator","skip_processing","context","cursor"],{terminator:d,skip_processing:A,context:a,cursor:"at_mark"})),d=c;else if(d["$=="](!1))p=c,d=h;else{p=c;var r=h.$cursor();d=q(u,"Reader").$new(h.$read_lines_until(e(["terminator",
"skip_processing","context","cursor"],{terminator:d,skip_processing:A,context:a,cursor:"at_mark"})),r)}if(b["$=="]("verbatim"))if(h=(f(m=n["$[]"]("tabsize"))?m:g.$document().$attributes()["$[]"]("tabsize")).$to_i(),f(A=n["$[]"]("indent")))this["$adjust_indentation!"](p,A.$to_i(),h);else{if(f(l(h,0)))this["$adjust_indentation!"](p,-1,h)}else if(b["$=="]("skip"))return c;if(f(k=k["$[]"]("extension")))if(n.$delete("style"),f(a=k.$process_method()["$[]"](g,f(m=d)?m:q(u,"Reader").$new(p),n.$merge())))n.$replace(a.$attributes()),
f(a.$content_model()["$=="]("compound")?(p=a.$lines())["$empty?"]()["$!"]():a.$content_model()["$=="]("compound"))&&(b="compound",d=q(u,"Reader").$new(p));else return c;else a=q(u,"Block").$new(g,a,e(["content_model","source","attributes"],{content_model:b,source:p,attributes:n}));b["$=="]("compound")&&this.$parse_blocks(d,a);return a},F.$$arity=-7);a.defs(d,"$parse_blocks",S=function(a,b,e){var d,g,h=c;null==e&&(e=c);if(f(e))for(;f(f(d=f(g=h=this.$next_block(a,b,e.$merge()))?b.$blocks()["$<<"](h):
g)?d:a["$has_more_lines?"]()););else for(;f(f(d=f(g=h=this.$next_block(a,b))?b.$blocks()["$<<"](h):g)?d:a["$has_more_lines?"]()););return c},S.$$arity=-3);a.defs(d,"$parse_list",Q=function(a,b,e,d){var g,h;null==y["~"]&&(y["~"]=c);e=q(u,"List").$new(e,b);for(b=q(u,"ListRxMap")["$[]"](b);f(f(g=a["$has_more_lines?"]())?b["$=~"](a.$peek_line()):g);){if(f(h=this.$parse_list_item(a,e,y["~"],(g=y["~"])===c?c:g["$[]"](1),d)))e.$items()["$<<"](h);if(f(g=a.$skip_blank_lines()))g;else break}return e},Q.$$arity=
4);a.defs(d,"$catalog_callouts",v=function(a,b){var e,d=c,g=c;d=!1;g=0;f(a["$include?"]("<"))&&n(a,"scan",[q(u,"CalloutScanRx")],(e=function(){var a;f(((a=y["~"])===c?c:a["$[]"](0))["$start_with?"]("\\"))||b.$callouts().$register(((a=y["~"])===c?c:a["$[]"](2))["$=="](".")?(g=h(g,1)).$to_s():(a=y["~"])===c?c:a["$[]"](2));return d=!0},e.$$s=this,e.$$arity=0,e));return d},v.$$arity=2);a.defs(d,"$catalog_inline_anchor",G=function(a,b,d,g,h){var n;null==h&&(h=d.$document());f(f(n=b)?b["$include?"](q(u,
"ATTR_REF_HEAD")):n)&&(b=h.$sub_attributes(b));f(h.$register("refs",[a,q(u,"Inline").$new(d,"anchor",b,e(["type","id"],{type:"ref",id:a}))]))||(f(q(u,"Reader")["$==="](g))&&(g=g.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+a,e(["source_location"],{source_location:g}))));return c},G.$$arity=-5);a.defs(d,"$catalog_inline_anchors",I=function(a,b,d,g){var k,m;f(f(k=a["$include?"]("[["))?k:a["$include?"]("or:"))&&n(a,"scan",[q(u,"InlineAnchorScanRx")],
(m=function(){var a=m.$$s||this,n,k,A=c,p=c;if(f(k=(n=y["~"])===c?c:n["$[]"](1))){if(f(A=(n=y["~"])===c?c:n["$[]"](2))&&f(f(n=A["$include?"](q(u,"ATTR_REF_HEAD")))?(A=d.$sub_attributes(A))["$empty?"]():n))return c}else if(k=(n=y["~"])===c?c:n["$[]"](3),f(A=(n=y["~"])===c?c:n["$[]"](4))&&(f(A["$include?"]("]"))&&(A=A.$gsub("\\]","]")),f(f(n=A["$include?"](q(u,"ATTR_REF_HEAD")))?(A=d.$sub_attributes(A))["$empty?"]():n)))return c;if(f(d.$register("refs",[k,q(u,"Inline").$new(b,"anchor",A,e(["type","id"],
{type:"ref",id:k}))])))return c;A=g.$cursor_at_mark();f(l(p=h(((n=y["~"])===c?c:n.$pre_match()).$count(q(u,"LF")),f(((n=y["~"])===c?c:n["$[]"](0))["$start_with?"](q(u,"LF")))?1:0),0))&&(A=A.$dup()).$advance(p);return a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+k,e(["source_location"],{source_location:A})))},m.$$s=this,m.$$arity=0,m));return c},I.$$arity=4);a.defs(d,"$catalog_inline_biblio_anchor",X=function(a,b,d,g){f(d.$document().$register("refs",[a,q(u,"Inline").$new(d,
"anchor",f(b)?"["+b+"]":b,e(["type","id"],{type:"bibref",id:a}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+a,e(["source_location"],{source_location:g.$cursor()})));return c},X.$$arity=4);a.defs(d,"$parse_description_list",V=function(e,d,g){var h;null==y["~"]&&(y["~"]=c);g=q(u,"List").$new(g,"dlist");var k=q(u,"DescriptionListSiblingRx")["$[]"](d["$[]"](2));for(g.$items()["$<<"](d=this.$parse_list_item(e,g,d,k));f(f(h=e["$has_more_lines?"]())?
k["$=~"](e.$peek_line()):h);){var l=this.$parse_list_item(e,g,y["~"],k);if(f(d["$[]"](1)))g.$items()["$<<"](d=l);else d["$[]"](0)["$<<"](l["$[]"](0)["$[]"](0)),l=[1,l["$[]"](1)],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]}return g},V.$$arity=3);a.defs(d,"$parse_callout_list",ba=function(d,g,k,l){var m,A,p,r;k=q(u,"List").$new(k,"colist");var t=1;for(p=0;f(f(m=g)?m:f(A=g=q(u,"CalloutListRx").$match(d.$peek_line()))?d.$mark():A);)(r=g["$[]"](1))["$=="](".")&&(r=(p=h(p,1)).$to_s()),r["$=="](t.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+
t+", got "+r,e(["source_location"],{source_location:d.$cursor_at_mark()}))),f(g=this.$parse_list_item(d,k,g,"<1>"))&&(k.$items()["$<<"](g),f((r=l.$callout_ids(k.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+k.$items().$size()+">",e(["source_location"],{source_location:d.$cursor_at_mark()}))):(r=["coids",r],n(g.$attributes(),"[]=",a.to_a(r)),r[b(r.length,1)])),t=h(t,1),g=c;l.$next_list();return k},ba.$$arity=4);a.defs(d,"$parse_list_item",
J=function(d,g,h,k,l){var m,A,p,r=c,t=c,z,K=c,w=c,M,D=c,R=c;null==l&&(l=c);if((p=g.$context())["$=="]("dlist")){if(r=!0,t=q(u,"ListItem").$new(g,l=h["$[]"](1)),f(f(m=l["$start_with?"]("[["))?q(u,"LeadingInlineAnchorRx")["$=~"](l):m)&&this.$catalog_inline_anchor((m=y["~"])===c?c:m["$[]"](1),f(m=(A=y["~"])===c?c:A["$[]"](2))?m:((A=y["~"])===c?c:A.$post_match()).$lstrip(),t,d),f(z=h["$[]"](3))&&(K=!0),h=q(u,"ListItem").$new(g,z),f(g.$document().$sourcemap())){var v=[d.$cursor()];n(t,"source_location=",
a.to_a(v));v[b(v.length,1)];f(K)?(v=[t.$source_location()],n(h,"source_location=",a.to_a(v)),v[b(v.length,1)]):w=!0}}else if(K=!0,h=q(u,"ListItem").$new(g,z=h["$[]"](2)),f(g.$document().$sourcemap())&&(v=[d.$cursor()],n(h,"source_location=",a.to_a(v)),v[b(v.length,1)]),p["$=="]("ulist"))v=[k],n(h,"marker=",a.to_a(v)),v[b(v.length,1)],f(z["$start_with?"]("["))&&(f(f(m=l)?l["$=="]("bibliography"):m)?f(q(u,"InlineBiblioAnchorRx")["$=~"](z))&&this.$catalog_inline_biblio_anchor((m=y["~"])===c?c:m["$[]"](1),
(m=y["~"])===c?c:m["$[]"](2),h,d):f(z["$start_with?"]("[["))?f(q(u,"LeadingInlineAnchorRx")["$=~"](z))&&this.$catalog_inline_anchor((m=y["~"])===c?c:m["$[]"](1),(m=y["~"])===c?c:m["$[]"](2),h,d):f(z["$start_with?"]("[ ] ","[x] ","[*] "))&&(g.$set_option("checklist"),v=["checkbox",""],n(h.$attributes(),"[]=",a.to_a(v)),v[b(v.length,1)],f(z["$start_with?"]("[ "))||(v=["checked",""],n(h.$attributes(),"[]=",a.to_a(v)),v[b(v.length,1)]),v=[z.$slice(4,z.$length())],n(h,"text=",a.to_a(v)),v[b(v.length,1)]));
else{if(p["$=="]("olist")){A=this.$resolve_ordered_list_marker(k,M=g.$items().$size(),!0,d);m=a.to_ary(A);k=null==m[0]?c:m[0];var E=null==m[1]?c:m[1];A;v=[k];n(h,"marker=",a.to_a(v));v[b(v.length,1)];f((m=M["$=="](0))?l["$!"]():M["$=="](0))&&(v=[f(m=E)?m:(f(A=q(u,"ORDERED_LIST_STYLES")["$[]"](b(k.$length(),1)))?A:"arabic").$to_s()],n(g,"style=",a.to_a(v)),v[b(v.length,1)])}else v=[k],n(h,"marker=",a.to_a(v)),v[b(v.length,1)];f(f(m=z["$start_with?"]("[["))?q(u,"LeadingInlineAnchorRx")["$=~"](z):m)&&
this.$catalog_inline_anchor((m=y["~"])===c?c:m["$[]"](1),(m=y["~"])===c?c:m["$[]"](2),h,d)}d.$shift();g=d.$cursor();d=q(u,"Reader").$new(this.$read_lines_for_list_item(d,p,k,K),g);if(f(d["$has_more_lines?"]())){f(w)&&(v=[g],n(h,"source_location=",a.to_a(v)),v[b(v.length,1)]);w=d.$skip_line_comments();f(k=d.$peek_line())&&(f(w["$empty?"]())||d.$unshift_lines(w),f(k["$empty?"]())||(D=!0,f(r)||(K=c)));if(f(K=this.$next_block(d,h,e([],{}),e(["text_only","list_type"],{text_only:f(K)?c:!0,list_type:p}))))h.$blocks()["$<<"](K);
for(;f(d["$has_more_lines?"]());)if(f(K=this.$next_block(d,h,e([],{}),e(["list_type"],{list_type:p}))))h.$blocks()["$<<"](K);f(f(m=f(A=D)?R=h.$blocks()["$[]"](0):A)?R.$context()["$=="]("paragraph"):m)&&h.$fold_first()}return f(r)?[[t],f(f(m=h["$text?"]())?m:h["$blocks?"]())?h:c]:h},J.$$arity=-5);a.defs(d,"$read_lines_for_list_item",oa=function(d,g,h,k){var l,m,A,p,r,t,z,K=c,w=c,M=c,v=c,D=c,E=c,R=c,x=c;w=R=x=c;null==h&&(h=c);null==k&&(k=!0);K=[];w="inactive";M=!1;v=c;for(D=g["$=="]("dlist");f(d["$has_more_lines?"]());){E=
d.$read_line();if(f(this["$is_sibling_list_item?"](E,g,h)))break;R=f(K["$empty?"]())?c:K["$[]"](-1);if(R["$=="](q(u,"LIST_CONTINUATION"))&&(w["$=="]("inactive")&&(w="active",k=!0,f(M)||(x=[-1,""],n(K,"[]=",a.to_a(x)),x[b(x.length,1)])),E["$=="](q(u,"LIST_CONTINUATION")))){f(w["$!="]("frozen"))&&(w="frozen",K["$<<"](E));E=c;continue}if(f(x=this["$is_delimited_block?"](E,!0)))if(w["$=="]("active"))K["$<<"](E),K.$concat(d.$read_lines_until(e(["terminator","read_last_line","context"],{terminator:x.$terminator(),
read_last_line:!0,context:c}))),w="inactive";else break;else if(f(f(l=f(m=D)?w["$!="]("active"):m)?q(u,"BlockAttributeLineRx")["$match?"](E):l))break;else if(f((l=w["$=="]("active"))?E["$empty?"]()["$!"]():w["$=="]("active")))if(f(q(u,"LiteralParagraphRx")["$match?"](E)))d.$unshift_line(E),f(D)?K.$concat(n(d,"read_lines_until",[e(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(A=function(a){var b=
A.$$s||this;null==a&&(a=c);return b["$is_sibling_list_item?"](a,g,h)},A.$$s=this,A.$$arity=1,A))):K.$concat(d.$read_lines_until(e(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),w="inactive";else if(f(f(l=f(m=q(u,"BlockTitleRx")["$match?"](E))?m:q(u,"BlockAttributeLineRx")["$match?"](E))?l:q(u,"AttributeEntryRx")["$match?"](E)))K["$<<"](E);else f(R=n(f(M)?["dlist"]:q(u,"NESTABLE_LIST_CONTEXTS"),
"find",[],(p=function(a){null==a&&(a=c);return q(u,"ListRxMap")["$[]"](a)["$match?"](E)},p.$$s=this,p.$$arity=1,p)))&&(M=!0,f((l=R["$=="]("dlist"))?((m=y["~"])===c?c:m["$[]"](3))["$nil_or_empty?"]():R["$=="]("dlist"))&&(k=!1)),K["$<<"](E),w="inactive";else if(f(f(l=R)?R["$empty?"]():l)){if(f(E["$empty?"]())){if(!f(E=f(l=d.$skip_blank_lines())?d.$read_line():l))break;if(f(this["$is_sibling_list_item?"](E,g,h)))break}if(E["$=="](q(u,"LIST_CONTINUATION")))v=K.$size(),K["$<<"](E);else if(f(k))if(f(this["$is_sibling_list_item?"](E,
g,h)))break;else if(f(R=n(q(u,"NESTABLE_LIST_CONTEXTS"),"find",[],(r=function(a){null==a&&(a=c);return q(u,"ListRxMap")["$[]"](a)["$=~"](E)},r.$$s=this,r.$$arity=1,r))))K["$<<"](E),M=!0,f((l=R["$=="]("dlist"))?((m=y["~"])===c?c:m["$[]"](3))["$nil_or_empty?"]():R["$=="]("dlist"))&&(k=!1);else if(f(q(u,"LiteralParagraphRx")["$match?"](E)))d.$unshift_line(E),f(D)?K.$concat(n(d,"read_lines_until",[e(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,
break_on_list_continuation:!0})],(t=function(a){var b=t.$$s||this;null==a&&(a=c);return b["$is_sibling_list_item?"](a,g,h)},t.$$s=this,t.$$arity=1,t))):K.$concat(d.$read_lines_until(e(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break;else f(M)||K.$pop(),K["$<<"](E),k=!0}else f(E["$empty?"]())||(k=!0),f(R=n(f(M)?["dlist"]:q(u,"NESTABLE_LIST_CONTEXTS"),"find",[],(z=function(a){null==
a&&(a=c);return q(u,"ListRxMap")["$[]"](a)["$=~"](E)},z.$$s=this,z.$$arity=1,z)))&&(M=!0,f((l=R["$=="]("dlist"))?((m=y["~"])===c?c:m["$[]"](3))["$nil_or_empty?"]():R["$=="]("dlist"))&&(k=!1)),K["$<<"](E);E=c}f(E)&&d.$unshift_line(E);for(f(v)&&K.$delete_at(v);!f(K["$empty?"]());)if(f((w=K["$[]"](-1))["$empty?"]()))K.$pop();else{w["$=="](q(u,"LIST_CONTINUATION"))&&K.$pop();break}return K},oa.$$arity=-3);a.defs(d,"$initialize_section",Y=function(d,g,h){var k,m=c,A=c,p=c,r=c,t=c;null==h&&(h=e([],{}));
var z=g.$document();var K=(k=z.$doctype())["$=="]("book");f(z.$sourcemap())&&(m=d.$cursor());var w=h["$[]"](1);var M=this.$parse_section_title(d,z,h["$[]"]("id"));var v=a.to_ary(M);var y=null==v[0]?c:v[0];var E=null==v[1]?c:v[1];var D=null==v[2]?c:v[2];var x=null==v[3]?c:v[3];var L=null==v[4]?c:v[4];M;if(f(E))A=["reftext",E],n(h,"[]=",a.to_a(A)),A[b(A.length,1)];else h["$[]"]("reftext");f(w)?f(f(v=K)?w["$=="]("abstract"):v)?(v=["chapter",1],w=v[0],x=v[1],v):f(f(v=w["$start_with?"]("sect"))?q(u,"SectionLevelStyleRx")["$match?"](w):
v)?w="section":(v=[w,!0],w=v[0],p=v[1],v,x["$=="](0)&&(x=1),r=w["$=="]("appendix")):f(K)?w=x["$=="](0)?"part":f(l(x,1))?"section":"chapter":f(k["$=="]("manpage")?D.$casecmp("synopsis")["$=="](0):k["$=="]("manpage"))?(v=["synopsis",!0],w=v[0],p=v[1],v):w="section";k=q(u,"Section").$new(g,x);v=[y,D,w,m];k["$id="](v[0]);k["$title="](v[1]);k["$sectname="](v[2]);k["$source_location="](v[3]);v;f(p)?(A=[!0],n(k,"special=",a.to_a(A)),A[b(A.length,1)],f(r)?(A=[!0],n(k,"numbered=",a.to_a(A)),A[b(A.length,1)]):
z.$attributes()["$[]"]("sectnums")["$=="]("all")&&(A=[f(f(v=K)?x["$=="](1):v)?"chapter":!0],n(k,"numbered=",a.to_a(A)),A[b(A.length,1)])):f(f(v=z.$attributes()["$[]"]("sectnums"))?l(x,0):v)?(A=[f(k.$special())?f(v=g.$numbered())?!0:v:!0],n(k,"numbered=",a.to_a(A)),A[b(A.length,1)]):f(f(v=f(M=K)?x["$=="](0):M)?z.$attributes()["$[]"]("partnums"):v)&&(A=[!0],n(k,"numbered=",a.to_a(A)),A[b(A.length,1)]);f(g=f(v=k.$id())?v:(A=[f(z.$attributes()["$key?"]("sectids"))?t=q(u,"Section").$generate_id(k.$title(),
z):c],n(k,"id=",a.to_a(A)),A[b(A.length,1)]))&&(f(t)||f(D["$include?"](q(u,"ATTR_REF_HEAD")))&&k.$title(),f(z.$register("refs",[g,k]))||this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+g,e(["source_location"],{source_location:d.$cursor_at_line(b(d.$lineno(),f(L)?1:2))}))));k.$update_attributes(h);d.$skip_blank_lines();return k},Y.$$arity=-3);a.defs(d,"$is_next_line_section?",O=function(a,b){var e,d,g=c;return f(f(e=g=b["$[]"](1))?f(d=g["$=="]("discrete"))?
d:g["$=="]("float"):e)?c:f(q(u,"Compliance").$underline_style_section_titles())?(a=a.$peek_lines(2,f(e=g)?g["$=="]("comment"):e),this["$is_section_title?"](f(e=a["$[]"](0))?e:"",a["$[]"](1))):this["$atx_section_title?"](f(e=a.$peek_line())?e:"")},O.$$arity=2);a.defs(d,"$is_next_line_doctitle?",qa=function(a,b,e){var d,g=c;return f(e)?f(d=g=this["$is_next_line_section?"](a,b))?h(g,e.$to_i())["$=="](0):d:this["$is_next_line_section?"](a,b)["$=="](0)},qa.$$arity=3);a.defs(d,"$is_section_title?",P=function(a,
b){var e;null==b&&(b=c);return f(e=this["$atx_section_title?"](a))?e:f(b["$nil_or_empty?"]())?c:this["$setext_section_title?"](a,b)},P.$$arity=-2);a.defs(d,"$atx_section_title?",T=function(a){var e;return f(f(q(u,"Compliance").$markdown_syntax())?f(e=a["$start_with?"]("=","#"))?q(u,"ExtAtxSectionTitleRx")["$=~"](a):e:f(e=a["$start_with?"]("="))?q(u,"AtxSectionTitleRx")["$=~"](a):e)?b(((e=y["~"])===c?c:e["$[]"](1)).$length(),1):c},T.$$arity=1);a.defs(d,"$setext_section_title?",na=function(a,e){var d,
g,h,n,l=c,m=c;return f(f(d=f(g=f(h=n=q(u,"SETEXT_SECTION_LEVELS")["$[]"](l=e.$chr()))?this["$uniform?"](e,l,m=e.$length()):h)?q(u,"SetextSectionTitleRx")["$match?"](a):g)?k(b(a.$length(),m).$abs(),2):d)?n:c},na.$$arity=2);a.defs(d,"$parse_section_title",Ka=function(a,e,d){var g,n,l,m,A,p=c,r=c,t=c,z=c,K=c,w=c;null==d&&(d=c);var v=c;var M=a.$read_line();f(f(q(u,"Compliance").$markdown_syntax())?f(g=M["$start_with?"]("=","#"))?q(u,"ExtAtxSectionTitleRx")["$=~"](M):g:f(g=M["$start_with?"]("="))?q(u,
"AtxSectionTitleRx")["$=~"](M):g)?(g=[b(((n=y["~"])===c?c:n["$[]"](1)).$length(),1),(n=y["~"])===c?c:n["$[]"](2),!0],p=g[0],r=g[1],t=g[2],g,!f(d)&&f(f(g=f(n=r["$end_with?"]("]]"))?q(u,"InlineSectionAnchorRx")["$=~"](r):n)?((n=y["~"])===c?c:n["$[]"](1))["$!"]():g)&&(g=[r.$slice(0,b(r.$length(),((n=y["~"])===c?c:n["$[]"](0)).$length())),(n=y["~"])===c?c:n["$[]"](2),(n=y["~"])===c?c:n["$[]"](3)],r=g[0],d=g[1],v=g[2],g)):f(f(g=f(n=f(l=f(m=f(A=q(u,"Compliance").$underline_style_section_titles())?z=a.$peek_line(!0):
A)?p=q(u,"SETEXT_SECTION_LEVELS")["$[]"](K=z.$chr()):m)?this["$uniform?"](z,K,w=z.$length()):l)?r=f(l=q(u,"SetextSectionTitleRx")["$=~"](M))?(m=y["~"])===c?c:m["$[]"](1):l:n)?k(b(M.$length(),w).$abs(),2):g)?(t=!1,!f(d)&&f(f(g=f(n=r["$end_with?"]("]]"))?q(u,"InlineSectionAnchorRx")["$=~"](r):n)?((n=y["~"])===c?c:n["$[]"](1))["$!"]():g)&&(g=[r.$slice(0,b(r.$length(),((n=y["~"])===c?c:n["$[]"](0)).$length())),(n=y["~"])===c?c:n["$[]"](2),(n=y["~"])===c?c:n["$[]"](3)],r=g[0],d=g[1],v=g[2],g),a.$shift()):
this.$raise("Unrecognized section at "+a.$cursor_at_prev_line());f(e["$attr?"]("leveloffset"))&&(p=h(p,e.$attr("leveloffset").$to_i()),f(k(p,0))&&(p=0));return[d,v,r,p,t]},Ka.$$arity=-3);a.defs(d,"$parse_header_metadata",ea=function(d,g){var k,l,m,A,r=c,t=c,z=c,K=c,w=c,v=c,y=c,E=c,D=c,x=c,L=E=c,H=c;D=y=w=K=t=c;null==g&&(g=c);r=f(k=g)?g.$attributes():k;this.$process_attribute_entries(d,g);k=[t=e([],{}),c,c];z=k[0];K=k[1];w=k[2];k;f(f(k=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():k)?(f((v=
this.$process_authors(d.$read_line()))["$empty?"]())||(f(g)&&(n(v,"each",[],(l=function(e,d){null==e&&(e=c);null==d&&(d=c);if(f(r["$key?"](e)))return c;e=[e,f(p("::","String")["$==="](d))?g.$apply_header_subs(d):d];n(r,"[]=",a.to_a(e));return e[b(e.length,1)]},l.$$s=this,l.$$arity=2,l)),K=r["$[]"]("author"),w=r["$[]"]("authorinitials"),t=r["$[]"]("authors")),z=v),this.$process_attribute_entries(d,g),y=e([],{}),f(f(k=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():k)&&(E=d.$read_line(),f(D=
q(u,"RevisionInfoLineRx").$match(E))?(f(D["$[]"](1))&&(x=["revnumber",D["$[]"](1).$rstrip()],n(y,"[]=",a.to_a(x)),x[b(x.length,1)]),f((E=D["$[]"](2).$strip())["$empty?"]())||(x=f(f(k=D["$[]"](1)["$!"]())?E["$start_with?"]("v"):k)?["revnumber",E.$slice(1,E.$length())]:["revdate",E],n(y,"[]=",a.to_a(x)),x[b(x.length,1)]),f(D["$[]"](3))&&(x=["revremark",D["$[]"](3).$rstrip()],n(y,"[]=",a.to_a(x)),x[b(x.length,1)])):d.$unshift_line(E)),f(y["$empty?"]())||(f(g)&&n(y,"each",[],(m=function(e,d){null==e&&
(e=c);null==d&&(d=c);if(f(r["$key?"](e)))return c;x=[e,g.$apply_header_subs(d)];n(r,"[]=",a.to_a(x));return x[b(x.length,1)]},m.$$s=this,m.$$arity=2,m)),z.$update(y)),this.$process_attribute_entries(d,g),d.$skip_blank_lines()):v=e([],{});if(f(g)){if(f(f(k=r["$key?"]("author"))?(L=r["$[]"]("author"))["$!="](K):k))v=this.$process_authors(L,!0,!1),f(r["$[]"]("authorinitials")["$!="](w))&&v.$delete("authorinitials");else if(f(f(k=r["$key?"]("authors"))?(L=r["$[]"]("authors"))["$!="](t):k))v=this.$process_authors(L,
!0);else{k=[[],1,"author_1",!1,!1];H=k[0];t=k[1];K=k[2];w=k[3];y=k[4];for(k;f(r["$key?"](K));)(D=r["$[]"](K))["$=="](v["$[]"](K))?(H["$<<"](c),y=!0):(H["$<<"](D),w=!0),K="author_"+(t=h(t,1));f(w)?(f(y)&&n(H,"each_with_index",[],(A=function(e,d){var g=A.$$s||this,k,l=c;null==e&&(e=c);null==d&&(d=c);if(f(e))return c;x=[d,n([v["$[]"]("firstname_"+(l=h(d,1))),v["$[]"]("middlename_"+l),v["$[]"]("lastname_"+l)].$compact(),"map",[],(k=function(a){null==a&&(a=c);return a.$tr(" ","_")},k.$$s=g,k.$$arity=1,
k)).$join(" ")];n(H,"[]=",a.to_a(x));return x[b(x.length,1)]},A.$$s=this,A.$$arity=2,A)),v=this.$process_authors(H,!0,!1)):v=e([],{})}f(v["$empty?"]())?f(k=z["$[]"]("authorcount"))?k:(x=["authorcount",(x=["authorcount",0],n(r,"[]=",a.to_a(x)),x[b(x.length,1)])],n(z,"[]=",a.to_a(x)),x[b(x.length,1)]):(r.$update(v),f(f(k=r["$key?"]("email")["$!"]())?r["$key?"]("email_1"):k)&&(x=["email",r["$[]"]("email_1")],n(r,"[]=",a.to_a(x)),x[b(x.length,1)]))}return z},ea.$$arity=-2);a.defs(d,"$process_authors",
ra=function(d,g,k){var l,m,A=c,p=c,r=c;null==g&&(g=!1);null==k&&(k=!0);A=e([],{});p=0;n(f(f(l=k)?d["$include?"](";"):l)?d.$split(q(u,"AuthorDelimiterRx")):[].concat(a.to_a(d)),"each",[],(m=function(d){var k=m.$$s||this,l,r,t,z,K=c,w=c,v=c,y=c,E=c,D=c,x=c,M=c;null==d&&(d=c);if(f(d["$empty?"]()))return c;K=e([],{});(p=h(p,1))["$=="](1)?n(q(u,"AuthorKeys"),"each",[],(l=function(e){null==e&&(e=c);e=[e.$to_sym(),e];n(K,"[]=",a.to_a(e));return e[b(e.length,1)]},l.$$s=k,l.$$arity=1,l)):n(q(u,"AuthorKeys"),
"each",[],(r=function(e){null==e&&(e=c);e=[e.$to_sym(),""+e+"_"+p];n(K,"[]=",a.to_a(e));return e[b(e.length,1)]},r.$$s=k,r.$$arity=1,r));if(f(g)){if(f(d["$include?"]("<"))&&(w=[K["$[]"]("author"),d.$tr("_"," ")],n(A,"[]=",a.to_a(w)),w[b(w.length,1)],d=d.$gsub(q(u,"XmlSanitizeRx"),"")),(v=d.$split(c,3)).$size()["$=="](3))v["$<<"](v.$pop().$squeeze(" "))}else f(y=q(u,"AuthorInfoLineRx").$match(d))&&(v=y.$to_a()).$shift();f(v)?(E=(w=[K["$[]"]("firstname"),D=v["$[]"](0).$tr("_"," ")],n(A,"[]=",a.to_a(w)),
w[b(w.length,1)]),w=[K["$[]"]("authorinitials"),D.$chr()],n(A,"[]=",a.to_a(w)),w[b(w.length,1)],f(v["$[]"](1))&&(f(v["$[]"](2))?(w=[K["$[]"]("middlename"),x=v["$[]"](1).$tr("_"," ")],n(A,"[]=",a.to_a(w)),w[b(w.length,1)],w=[K["$[]"]("lastname"),M=v["$[]"](2).$tr("_"," ")],n(A,"[]=",a.to_a(w)),w[b(w.length,1)],E=h(h(h(h(D," "),x)," "),M),w=[K["$[]"]("authorinitials"),""+D.$chr()+x.$chr()+M.$chr()]):(w=[K["$[]"]("lastname"),M=v["$[]"](1).$tr("_"," ")],n(A,"[]=",a.to_a(w)),w[b(w.length,1)],E=h(h(D," "),
M),w=[K["$[]"]("authorinitials"),""+D.$chr()+M.$chr()]),n(A,"[]=",a.to_a(w)),w[b(w.length,1)]),f(t=A["$[]"](K["$[]"]("author")))?t:(w=[K["$[]"]("author"),E],n(A,"[]=",a.to_a(w)),w[b(w.length,1)]),f(f(t=g)?t:v["$[]"](3)["$!"]())||(w=[K["$[]"]("email"),v["$[]"](3)],n(A,"[]=",a.to_a(w)),w[b(w.length,1)])):(w=[K["$[]"]("author"),(w=[K["$[]"]("firstname"),D=d.$squeeze(" ").$strip()],n(A,"[]=",a.to_a(w)),w[b(w.length,1)])],n(A,"[]=",a.to_a(w)),w[b(w.length,1)],w=[K["$[]"]("authorinitials"),D.$chr()],n(A,
"[]=",a.to_a(w)),w[b(w.length,1)]);p["$=="](1)?w=["authors",A["$[]"](K["$[]"]("author"))]:(p["$=="](2)&&n(q(u,"AuthorKeys"),"each",[],(z=function(e){null==e&&(e=c);return f(A["$key?"](e))?(w=[""+e+"_1",A["$[]"](e)],n(A,"[]=",a.to_a(w)),w[b(w.length,1)]):c},z.$$s=k,z.$$arity=1,z)),w=["authors",""+A["$[]"]("authors")+", "+A["$[]"](K["$[]"]("author"))]);n(A,"[]=",a.to_a(w));return w[b(w.length,1)]},m.$$s=this,m.$$arity=1,m));r=["authorcount",p];n(A,"[]=",a.to_a(r));r[b(r.length,1)];return A},ra.$$arity=
-2);a.defs(d,"$parse_block_metadata_lines",ha=function(a,b,c,d){var g;null==c&&(c=e([],{}));for(null==d&&(d=e([],{}));f(this.$parse_block_metadata_line(a,b,c,d));)if(a.$shift(),f(g=a.$skip_blank_lines()))g;else break;return c},ha.$$arity=-3);a.defs(d,"$parse_block_metadata_line",va=function(d,g,h,k){var l,m,A=c,p=c,r=c;null==y["~"]&&(y["~"]=c);null==k&&(k=e([],{}));if(f(f(l=A=d.$peek_line())?f(k["$[]"]("text_only"))?A["$start_with?"]("[","/"):p=A["$start_with?"]("[",".","/",":"):l))if(f(A["$start_with?"]("[")))if(f(A["$start_with?"]("[["))){if(f(f(l=
A["$end_with?"]("]]"))?q(u,"BlockAnchorRx")["$=~"](A):l))return d=["id",(l=y["~"])===c?c:l["$[]"](1)],n(h,"[]=",a.to_a(d)),d[b(d.length,1)],f(d=(l=y["~"])===c?c:l["$[]"](2))&&(d=["reftext",f(d["$include?"](q(u,"ATTR_REF_HEAD")))?g.$sub_attributes(d):d],n(h,"[]=",a.to_a(d)),d[b(d.length,1)]),!0}else{if(f(f(l=A["$end_with?"]("]"))?q(u,"BlockAttributeListRx")["$=~"](A):l))return k=h["$[]"](1),f(g.$parse_attributes((l=y["~"])===c?c:l["$[]"](1),[],e(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,
into:h}))["$[]"](1))&&(d=[1,f(l=this.$parse_style_attribute(h,d))?l:k],n(h,"[]=",a.to_a(d)),d[b(d.length,1)]),!0}else if(f(f(l=p)?A["$start_with?"]("."):l)){if(f(q(u,"BlockTitleRx")["$=~"](A)))return d=["title",(l=y["~"])===c?c:l["$[]"](1)],n(h,"[]=",a.to_a(d)),d[b(d.length,1)],!0}else if(f(f(l=p["$!"]())?l:A["$start_with?"]("/"))){if(f(A["$start_with?"]("//"))){if(A["$=="]("//"))return!0;if(f(f(l=p)?this["$uniform?"](A,"/",r=A.$length()):l)){if(r["$=="](3))return c;d.$read_lines_until(e(["terminator",
"skip_first_line","preserve_last_line","skip_processing","context"],{terminator:A,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"}));return!0}return f(A["$start_with?"]("///"))?c:!0}}else if(f(f(l=f(m=p)?A["$start_with?"](":"):m)?q(u,"AttributeEntryRx")["$=~"](A):l))return this.$process_attribute_entry(d,g,h,y["~"]),!0;return c},va.$$arity=-4);a.defs(d,"$process_attribute_entries",Ba=function(a,b,e){null==e&&(e=c);for(a.$skip_comment_lines();f(this.$process_attribute_entry(a,
b,e));)a.$shift(),a.$skip_comment_lines()},Ba.$$arity=-3);a.defs(d,"$process_attribute_entry",la=function(a,e,d,g){var h,n,k,l,m=c;null==d&&(d=c);null==g&&(g=c);if(f(f(h=g)?h:g=f(a["$has_more_lines?"]())?q(u,"AttributeEntryRx").$match(a.$peek_line()):c)){if(f((l=g["$[]"](2))["$nil_or_empty?"]()))l="";else if(f(l["$end_with?"](q(u,"LINE_CONTINUATION"),q(u,"LINE_CONTINUATION_LEGACY")))){h=[l.$slice(b(l.$length(),2),2),l.$slice(0,b(l.$length(),2)).$rstrip()];var A=h[0];l=h[1];for(h;f(f(n=a.$advance())?
(m=f(k=a.$peek_line())?k:"")["$empty?"]()["$!"]():n)&&(m=m.$lstrip(),f(h=m["$end_with?"](A))&&(m=m.$slice(0,b(m.$length(),2)).$rstrip()),l=""+l+(f(l["$end_with?"](q(u,"HARD_LINE_BREAK")))?q(u,"LF"):" ")+m,f(h)););}this.$store_attribute(g["$[]"](1),l,e,d);return!0}return c},la.$$arity=-3);a.defs(d,"$store_attribute",Ma=function(a,e,d,g){var n;null==d&&(d=c);null==g&&(g=c);f(a["$end_with?"]("!"))?(a=a.$chop(),e=c):f(a["$start_with?"]("!"))&&(a=a.$slice(1,a.$length()),e=c);(a=this.$sanitize_attribute_name(a))["$=="]("numbered")?
a="sectnums":a["$=="]("hardbreaks")&&(a="hardbreaks-option");f(d)?f(e)?(a["$=="]("leveloffset")&&(f(e["$start_with?"]("+"))?e=h(d.$attr("leveloffset",0).$to_i(),e.$slice(1,e.$length()).$to_i()).$to_s():f(e["$start_with?"]("-"))&&(e=b(d.$attr("leveloffset",0).$to_i(),e.$slice(1,e.$length()).$to_i()).$to_s())),f(d=d.$set_attribute(a,e))&&(e=d,f(g)&&p(q(u,"Document"),"AttributeEntry").$new(a,e).$save_to(g))):f(f(n=d.$delete_attribute(a))?g:n)&&p(q(u,"Document"),"AttributeEntry").$new(a,e).$save_to(g):
f(g)&&p(q(u,"Document"),"AttributeEntry").$new(a,e).$save_to(g);return[a,e]},Ma.$$arity=-3);a.defs(d,"$resolve_list_marker",Da=function(a,b,e,d,f){null==e&&(e=0);null==d&&(d=!1);null==f&&(f=c);return a["$=="]("ulist")?b:a["$=="]("olist")?this.$resolve_ordered_list_marker(b,e,d,f)["$[]"](0):"<1>"},Da.$$arity=-3);a.defs(d,"$resolve_ordered_list_marker",Na=function(a,b,d,g){var k,l,m=c,A=c,p=c,r=c;null==b&&(b=0);null==d&&(d=!1);null==g&&(g=c);if(f(a["$start_with?"](".")))return[a];m=A=n(q(u,"ORDERED_LIST_STYLES"),
"find",[],(k=function(b){null==b&&(b=c);return q(u,"OrderedListMarkerRxMap")["$[]"](b)["$match?"](a)},k.$$s=this,k.$$arity=1,k));"arabic"["$==="](m)?(f(d)&&(p=h(b,1),r=a.$to_i()),a="1."):"loweralpha"["$==="](m)?(f(d)&&(p=h("a"["$[]"](0).$ord(),b).$chr(),r=a.$chop()),a="a."):"upperalpha"["$==="](m)?(f(d)&&(p=h("A"["$[]"](0).$ord(),b).$chr(),r=a.$chop()),a="A."):"lowerroman"["$==="](m)?(f(d)&&(p=q(u,"Helpers").$int_to_roman(h(b,1)).$downcase(),r=a.$chop()),a="i)"):"upperroman"["$==="](m)&&(f(d)&&(p=
q(u,"Helpers").$int_to_roman(h(b,1)),r=a.$chop()),a="I)");f(f(l=d)?p["$!="](r):l)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+p+", got "+r,e(["source_location"],{source_location:g.$cursor()})));return[a,A]},Na.$$arity=-2);a.defs(d,"$is_sibling_list_item?",La=function(a,b,e){var d,g;return f(p("::","Regexp")["$==="](e))?e["$match?"](a):f(d=q(u,"ListRxMap")["$[]"](b)["$=~"](a))?e["$=="](this.$resolve_list_marker(b,(g=y["~"])===c?c:g["$[]"](1))):d},La.$$arity=3);a.defs(d,
"$parse_table",Pa=function(e,d,g){var k,m,A,r=c,t=c,z=c,w=c,K,v=c,y=A=c;d=q(u,"Table").$new(d,g);f(f(k=g["$key?"]("cols"))?(r=this.$parse_colspecs(g["$[]"]("cols")))["$empty?"]()["$!"]():k)&&(d.$create_columns(r),t=!0);var D=f(k=e.$skip_blank_lines())?k:0;r=p(q(u,"Table"),"ParserContext").$new(e,d,g);k=[r.$format(),-1,c];var E=k[0];var x=k[1];var M=k[2];k;f(f(k=f(m=l(D,0))?m:g["$[]"]("header-option"))?k:g["$[]"]("noheader-option"))||(z=!0);for(k=!1;k||f(w=e.$read_line());){k=!1;if(f(f(m=K=l(x=h(x,
1),0))?w["$empty?"]():m))w=c,f(M)&&(M=h(M,1));else if(E["$=="]("psv"))if(f(r["$starts_with_delimiter?"](w)))w=w.$slice(1,w.$length()),r.$close_open_cell(),f(M)&&(M=c);else{var L=this.$parse_cellspec(w,"start",r.$delimiter());m=a.to_ary(L);D=null==m[0]?c:m[0];w=null==m[1]?c:m[1];L;f(D)?(r.$close_open_cell(D),f(M)&&(M=c)):f(f(m=M)?M["$=="](x):m)&&(m=[!1,c],z=m[0],M=m[1],m)}f(K)||(e.$mark(),f(z)&&(f(f(m=e["$has_more_lines?"]())?e.$peek_line()["$empty?"]():m)?M=1:z=!1));for(m=!1;m||f(!0);)if(m=!1,f(f(L=
w)?v=r.$match_delimiter(w):L)){L=[v.$pre_match(),v.$post_match()];K=L[0];w=L[1];L;D=E;if("csv"["$==="](D)){if(f(r["$buffer_has_unclosed_quotes?"](K))){r.$skip_past_delimiter(K);if(f(w["$empty?"]()))break;m=!0;continue}A=[""+r.$buffer()+K]}else if("dsv"["$==="](D)){if(f(K["$end_with?"]("\\"))){r.$skip_past_escaped_delimiter(K);if(f(w["$empty?"]())){A=[""+r.$buffer()+q(u,"LF")];n(r,"buffer=",a.to_a(A));A[b(A.length,1)];r.$keep_cell_open();break}m=!0;continue}A=[""+r.$buffer()+K]}else{if(f(K["$end_with?"]("\\"))){r.$skip_past_escaped_delimiter(K);
if(f(w["$empty?"]())){A=[""+r.$buffer()+q(u,"LF")];n(r,"buffer=",a.to_a(A));A[b(A.length,1)];r.$keep_cell_open();break}m=!0;continue}A=this.$parse_cellspec(K);L=a.to_ary(A);D=null==L[0]?c:L[0];K=null==L[1]?c:L[1];A;r.$push_cellspec(D);A=[""+r.$buffer()+K]}n(r,"buffer=",a.to_a(A));A[b(A.length,1)];f(w["$empty?"]())&&(w=c);r.$close_cell()}else{A=[""+r.$buffer()+w+q(u,"LF")];n(r,"buffer=",a.to_a(A));A[b(A.length,1)];D=E;"csv"["$==="](D)?f(r["$buffer_has_unclosed_quotes?"]())?(f(f(L=M)?x["$=="](0):L)&&
(L=[!1,c],z=L[0],M=L[1],L),r.$keep_cell_open()):r.$close_cell(!0):"dsv"["$==="](D)?r.$close_cell(!0):r.$keep_cell_open();break}if(f(r["$cell_open?"]()))f(e["$has_more_lines?"]())||r.$close_cell(!0);else if(f(m=e.$skip_blank_lines()))m;else break}f(f(k=(y=d.$attributes(),f(m=y["$[]"]("colcount"))?m:(A=["colcount",d.$columns().$size()],n(y,"[]=",a.to_a(A)),A[b(A.length,1)]))["$=="](0))?k:t)||d.$assign_column_widths();f(z)&&(A=[!0],n(d,"has_header_option=",a.to_a(A)),A[b(A.length,1)],A=["header-option",
""],n(g,"[]=",a.to_a(A)),A[b(A.length,1)]);d.$partition_header_footer(g);return d},Pa.$$arity=3);a.defs(d,"$parse_colspecs",Oa=function(d){var g,h,k=c;f(d["$include?"](" "))&&(d=d.$delete(" "));if(d["$=="](d.$to_i().$to_s()))return n(p("::","Array"),"new",[d.$to_i()],(g=function(){return e(["width"],{width:1})},g.$$s=this,g.$$arity=0,g));k=[];n(f(d["$include?"](","))?d.$split(",",-1):d.$split(";",-1),"each",[],(h=function(d){var g=h.$$s||this,l,m=c,A=c,r=c,p=c,t=r=c;null==d&&(d=c);if(f(d["$empty?"]()))return k["$<<"](e(["width"],
{width:1}));if(f(m=q(u,"ColumnSpecRx").$match(d))){A=e([],{});if(f(m["$[]"](2))){d=m["$[]"](2).$split(".");var z=a.to_ary(d);r=null==z[0]?c:z[0];p=null==z[1]?c:z[1];d;f(f(z=r["$nil_or_empty?"]()["$!"]())?q(u,"TableCellHorzAlignments")["$key?"](r):z)&&(r=["halign",q(u,"TableCellHorzAlignments")["$[]"](r)],n(A,"[]=",a.to_a(r)),r[b(r.length,1)]);f(f(z=p["$nil_or_empty?"]()["$!"]())?q(u,"TableCellVertAlignments")["$key?"](p):z)&&(r=["valign",q(u,"TableCellVertAlignments")["$[]"](p)],n(A,"[]=",a.to_a(r)),
r[b(r.length,1)])}r=f(t=m["$[]"](3))?["width",t["$=="]("~")?-1:t.$to_i()]:["width",1];n(A,"[]=",a.to_a(r));r[b(r.length,1)];f(f(z=m["$[]"](4))?q(u,"TableCellStyles")["$key?"](m["$[]"](4)):z)&&(r=["style",q(u,"TableCellStyles")["$[]"](m["$[]"](4))],n(A,"[]=",a.to_a(r)),r[b(r.length,1)]);return f(m["$[]"](1))?n(1,"upto",[m["$[]"](1).$to_i()],(l=function(){return k["$<<"](A.$merge())},l.$$s=g,l.$$arity=0,l)):k["$<<"](A)}return c},h.$$s=this,h.$$arity=1,h));return k},Oa.$$arity=1);a.defs(d,"$parse_cellspec",
Ga=function(d,g,h){null==g&&(g="end");null==h&&(h=c);var k=[c,""];k;if(g["$=="]("start"))if(f(d["$include?"](h))){h=d.$partition(h);k=a.to_ary(h);var l=null==k[0]?c:k[0];g=null==k[2]?c:k[2];h;if(f(l=q(u,"CellSpecStartRx").$match(l))){if(f(l["$[]"](0)["$empty?"]()))return[e([],{}),g]}else return[c,d]}else return[c,d];else if(f(l=q(u,"CellSpecEndRx").$match(d))){if(f(l["$[]"](0).$lstrip()["$empty?"]()))return[e([],{}),d.$rstrip()];g=l.$pre_match()}else return[e([],{}),d];d=e([],{});if(f(l["$[]"](1))){h=
l["$[]"](1).$split(".");k=a.to_ary(h);var m=null==k[0]?c:k[0];var A=null==k[1]?c:k[1];h;m=f(m["$nil_or_empty?"]())?1:m.$to_i();A=f(A["$nil_or_empty?"]())?1:A.$to_i();l["$[]"](2)["$=="]("+")?(m["$=="](1)||(h=["colspan",m],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]),A["$=="](1)||(h=["rowspan",A],n(d,"[]=",a.to_a(h)),h[b(h.length,1)])):l["$[]"](2)["$=="]("*")&&!m["$=="](1)&&(h=["repeatcol",m],n(d,"[]=",a.to_a(h)),h[b(h.length,1)])}f(l["$[]"](3))&&(h=l["$[]"](3).$split("."),k=a.to_ary(h),m=null==k[0]?c:k[0],
A=null==k[1]?c:k[1],h,f(f(k=m["$nil_or_empty?"]()["$!"]())?q(u,"TableCellHorzAlignments")["$key?"](m):k)&&(h=["halign",q(u,"TableCellHorzAlignments")["$[]"](m)],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]),f(f(k=A["$nil_or_empty?"]()["$!"]())?q(u,"TableCellVertAlignments")["$key?"](A):k)&&(h=["valign",q(u,"TableCellVertAlignments")["$[]"](A)],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]));f(f(k=l["$[]"](4))?q(u,"TableCellStyles")["$key?"](l["$[]"](4)):k)&&(h=["style",q(u,"TableCellStyles")["$[]"](l["$[]"](4))],
n(d,"[]=",a.to_a(h)),h[b(h.length,1)]);return[d,g]},Ga.$$arity=-2);a.defs(d,"$parse_style_attribute",Qa=function(d,g){var k,l,m,A,r=c,p=c,t=c,z=c,w=c,v=c,K=c;null==g&&(g=c);if(f(f(k=f(l=r=d["$[]"](1))?r["$include?"](" ")["$!"]():l)?q(u,"Compliance").$shorthand_property_syntax():k)){p=c;t="";z=e([],{});n(r,"each_char",[],(m=function(a){var b=m.$$s||this,e=c;null==a&&(a=c);return function(){e=a;return"."["$==="](e)?(b.$yield_buffered_attribute(z,p,t,g),t="",p="role"):"#"["$==="](e)?(b.$yield_buffered_attribute(z,
p,t,g),t="",p="id"):"%"["$==="](e)?(b.$yield_buffered_attribute(z,p,t,g),t="",p="option"):t=h(t,a)}()},m.$$s=this,m.$$arity=1,m));if(f(p))return this.$yield_buffered_attribute(z,p,t,g),f(w=z["$[]"]("style"))&&(v=["style",w],n(d,"[]=",a.to_a(v)),v[b(v.length,1)]),f(z["$key?"]("id"))&&(v=["id",z["$[]"]("id")],n(d,"[]=",a.to_a(v)),v[b(v.length,1)]),f(z["$key?"]("role"))&&(v=["role",f((K=d["$[]"]("role"))["$nil_or_empty?"]())?z["$[]"]("role").$join(" "):""+K+" "+z["$[]"]("role").$join(" ")],n(d,"[]=",
a.to_a(v)),v[b(v.length,1)]),f(z["$key?"]("option"))&&n(z["$[]"]("option"),"each",[],(A=function(e){null==e&&(e=c);v=[""+e+"-option",""];n(d,"[]=",a.to_a(v));return v[b(v.length,1)]},A.$$s=this,A.$$arity=1,A)),w;v=["style",r];n(d,"[]=",a.to_a(v));return v[b(v.length,1)]}v=["style",r];n(d,"[]=",a.to_a(v));return v[b(v.length,1)]},Qa.$$arity=-2);a.defs(d,"$yield_buffered_attribute",Wa=function(d,g,h,k){var l,m=c;if(f(g))if(f(h["$empty?"]()))f(k)?this.$logger().$warn(this.$message_with_context("invalid empty "+
g+" detected in style attribute",e(["source_location"],{source_location:k.$cursor_at_prev_line()}))):this.$logger().$warn("invalid empty "+g+" detected in style attribute");else if(g["$=="]("id"))f(d["$key?"]("id"))&&(f(k)?this.$logger().$warn(this.$message_with_context("multiple ids detected in style attribute",e(["source_location"],{source_location:k.$cursor_at_prev_line()}))):this.$logger().$warn("multiple ids detected in style attribute")),m=[g,h],n(d,"[]=",a.to_a(m)),m[b(m.length,1)];else(f(l=
d["$[]"](g))?l:(m=[g,[]],n(d,"[]=",a.to_a(m)),m[b(m.length,1)]))["$<<"](h);else f(h["$empty?"]())||(m=["style",h],n(d,"[]=",a.to_a(m)),m[b(m.length,1)]);return c},Wa.$$arity=4);a.defs(d,"$adjust_indentation!",Ua=function(e,d,g){var A,r,p,t,z,w,v,K=this,D=c,y=c,E=c;null==d&&(d=0);null==g&&(g=0);if(f(e["$empty?"]()))return c;f(f(A=l(g,0))?n(e,"any?",[],(r=function(a){null==a&&(a=c);return a["$include?"](q(u,"TAB"))},r.$$s=K,r.$$arity=1,r)):A)&&(D=m(" ",g),function(){var d=a.new_brk();try{return n(e,
"map!",[],(p=function(e){var d=p.$$s||this,k,l,A=c,r=c,t=c,z=c,w=c;null==e&&(e=c);if(f(e["$empty?"]()))return e;if(f(A=e.$index(q(u,"TAB")))){if(A["$=="](0)&&(r=0,function(){var b=a.new_brk();try{return n(e,"each_byte",[],(k=function(e){null==e&&(e=c);e["$=="](9)||a.brk(c,b);return r=h(r,1)},k.$$s=d,k.$$brk=b,k.$$arity=1,k))}catch(jb){if(jb===b)return jb.$v;throw jb;}}(),e=""+m(D,r)+e.$slice(r,e.$length()),!f(e["$include?"](q(u,"TAB")))))return e;z=t=0;w="";n(e,"each_char",[],(l=function(a){var e;
null==a&&(a=c);a["$=="](q(u,"TAB"))?(a=h(z,t))["$%"](g)["$=="](0)?(t=h(t,b(g,1)),w=h(w,D)):((e=b(g,a["$%"](g)))["$=="](1)||(t=h(t,b(e,1))),w=h(w,m(" ",e))):w=h(w,a);return z=h(z,1)},l.$$s=d,l.$$arity=1,l));return w}return e},p.$$s=K,p.$$brk=d,p.$$arity=1,p))}catch($a){if($a===d)return $a.$v;throw $a;}}());if(f(k(d,0)))return c;y=c;(function(){var d=a.new_brk();try{return n(e,"each",[],(t=function(e){var g;null==e&&(e=c);if(f(e["$empty?"]()))return c;(e=b(e.$length(),e.$lstrip().$length()))["$=="](0)&&
(y=c,a.brk(c,d));return f(f(g=y)?k(y,e):g)?c:y=e},t.$$s=K,t.$$brk=d,t.$$arity=1,t))}catch($a){if($a===d)return $a.$v;throw $a;}})();d["$=="](0)?f(y)&&n(e,"map!",[],(z=function(a){null==a&&(a=c);return f(a["$empty?"]())?a:a.$slice(y,a.$length())},z.$$s=K,z.$$arity=1,z)):(E=m(" ",d),f(y)?n(e,"map!",[],(w=function(a){null==a&&(a=c);return f(a["$empty?"]())?a:h(E,a.$slice(y,a.$length()))},w.$$s=K,w.$$arity=1,w)):n(e,"map!",[],(v=function(a){null==a&&(a=c);return f(a["$empty?"]())?a:h(E,a)},v.$$s=K,v.$$arity=
1,v)));return c},Ua.$$arity=-2);a.defs(d,"$uniform?",Sa=function(a,b,c){return a.$count(b)["$=="](c)},Sa.$$arity=3);return(a.defs(d,"$sanitize_attribute_name",A=function(a){return a.$gsub(q(u,"InvalidAttributeNameCharsRx"),"").$downcase()},A.$$arity=1),c)&&"sanitize_attribute_name"})(d[0],null,d)}(g[0],g)};Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=[],k=a.nil,l=a.const_get_qualified,m=a.const_get_relative,
g=a.module,c=a.klass,p=a.truthy,q=a.hash2,t=a.send;a.add_stubs("$include $attr_accessor $root? $posixify $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $descends_from? $slice $to_s $relative_path_from $new $include? $tr $partition_path $each $pop $<< $join_path $[] $web_root? $unc? $index $split $delete $[]= $- $join $raise $! $fetch $warn $logger $empty? $nil_or_empty? $chomp $!= $> $size $end_with? $uri_prefix $gsub".split(" "));return function(d,h){d=[g(d,"Asciidoctor")].concat(h);
(function(d,$super,g){d=c(d,$super,"PathResolver");var f=[d].concat(g),h,n,r,z,u,w,v,y,D,x,H,B,C;d.$$prototype.file_separator=d.$$prototype._partition_path_web=d.$$prototype._partition_path_sys=d.$$prototype.working_dir=k;d.$include(m(f,"Logging"));a.const_set(f[0],"DOT",".");a.const_set(f[0],"DOT_DOT","..");a.const_set(f[0],"DOT_SLASH","./");a.const_set(f[0],"SLASH","/");a.const_set(f[0],"BACKSLASH","\\");a.const_set(f[0],"DOUBLE_SLASH","//");a.const_set(f[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/);
d.$attr_accessor("file_separator");d.$attr_accessor("working_dir");a.def(d,"$initialize",h=function(a,b){var c,d;null==a&&(a=k);null==b&&(b=k);this.file_separator=p(c=p(d=a)?d:l(l("::","File"),"ALT_SEPARATOR"))?c:l(l("::","File"),"SEPARATOR");this.working_dir=p(b)?p(this["$root?"](b))?this.$posixify(b):l("::","File").$expand_path(b):l("::","Dir").$pwd();this._partition_path_sys=q([],{});return this._partition_path_web=q([],{})},h.$$arity=-1);a.def(d,"$absolute_path?",n=function(a){var b;return p(b=
a["$start_with?"](m(f,"SLASH")))?b:this.file_separator["$=="](m(f,"BACKSLASH"))?m(f,"WindowsRootRx")["$match?"](a):this.file_separator["$=="](m(f,"BACKSLASH"))},n.$$arity=1);p(m(f,"RUBY_ENGINE")["$=="]("opal")?l("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):m(f,"RUBY_ENGINE")["$=="]("opal"))?a.def(d,"$root?",r=function(a){var b;return p(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},r.$$arity=1):a.alias(d,"root?","absolute_path?");a.def(d,"$unc?",z=function(a){return a["$start_with?"](m(f,
"DOUBLE_SLASH"))},z.$$arity=1);a.def(d,"$web_root?",u=function(a){return a["$start_with?"](m(f,"SLASH"))},u.$$arity=1);a.def(d,"$descends_from?",w=function(a,c){var d;return c["$=="](a)?0:c["$=="](m(f,"SLASH"))?p(d=a["$start_with?"](m(f,"SLASH")))?1:d:p(d=a["$start_with?"](b(c,m(f,"SLASH"))))?b(c.$length(),1):d},w.$$arity=2);a.def(d,"$relative_path",v=function(b,c){var d;if(p(this["$root?"](b))){if(p(d=this["$descends_from?"](b,c)))return b.$slice(d,b.$length());try{return m(f,"Pathname").$new(b).$relative_path_from(m(f,
"Pathname").$new(c)).$to_s()}catch(ca){if(a.rescue(ca,[m(f,"StandardError")]))try{return b}finally{a.pop_exception()}else throw ca;}}else return b},v.$$arity=2);a.def(d,"$posixify",y=function(a){return p(a)?p(this.file_separator["$=="](m(f,"BACKSLASH"))?a["$include?"](m(f,"BACKSLASH")):this.file_separator["$=="](m(f,"BACKSLASH")))?a.$tr(m(f,"BACKSLASH"),m(f,"SLASH")):a:""},y.$$arity=1);a.alias(d,"posixfy","posixify");a.def(d,"$expand_path",D=function(b){var c,d,g=k,h=c=k;var n=this.$partition_path(b);
c=a.to_ary(n);g=null==c[0]?k:c[0];c=null==c[1]?k:c[1];n;return p(b["$include?"](m(f,"DOT_DOT")))?(h=[],t(g,"each",[],(d=function(a){null==a&&(a=k);return a["$=="](m(f,"DOT_DOT"))?h.$pop():h["$<<"](a)},d.$$s=this,d.$$arity=1,d)),this.$join_path(h,c)):this.$join_path(g,c)},D.$$arity=1);a.def(d,"$partition_path",x=function(c,d){var g,h,n=k;null==d&&(d=k);if(p(g=(h=p(d)?this._partition_path_web:this._partition_path_sys)["$[]"](c)))return g;g=this.$posixify(c);p(d)?p(this["$web_root?"](g))?n=m(f,"SLASH"):
p(g["$start_with?"](m(f,"DOT_SLASH")))&&(n=m(f,"DOT_SLASH")):p(this["$root?"](g))?n=p(this["$unc?"](g))?m(f,"DOUBLE_SLASH"):p(g["$start_with?"](m(f,"SLASH")))?m(f,"SLASH"):g.$slice(0,b(g.$index(m(f,"SLASH")),1)):p(g["$start_with?"](m(f,"DOT_SLASH")))&&(n=m(f,"DOT_SLASH"));d=(p(n)?g.$slice(n.$length(),g.$length()):g).$split(m(f,"SLASH"));d.$delete(m(f,"DOT"));c=[c,[d,n]];t(h,"[]=",a.to_a(c));h=c.length;h="number"===typeof h?h-1:h["$-"](1);return c[h]},x.$$arity=-2);a.def(d,"$join_path",H=function(a,
b){null==b&&(b=k);return p(b)?""+b+a.$join(m(f,"SLASH")):a.$join(m(f,"SLASH"))},H.$$arity=-2);a.def(d,"$system_path",B=function(c,d,g,h){var n,r,u,z=k,w=k,v=k,N=k,y=z=k,D=k,x=k,E=y=k;null==d&&(d=k);null==g&&(g=k);null==h&&(h=q([],{}));p(g)&&(p(this["$root?"](g))||this.$raise(l("::","SecurityError"),"Jail is not an absolute path: "+g),g=this.$posixify(g));if(p(c)){if(p(this["$root?"](c))){z=this.$expand_path(c);if(p(p(n=g)?this["$descends_from?"](z,g)["$!"]():n)){if(p(h.$fetch("recover",!0))){this.$logger().$warn(""+
(p(n=h["$[]"]("target_name"))?n:"path")+" is outside of jail; recovering automatically");var L=this.$partition_path(z);n=a.to_ary(L);w=null==n[0]?k:n[0];L;L=this.$partition_path(g);n=a.to_ary(L);v=null==n[0]?k:n[0];N=null==n[1]?k:n[1];L;return this.$join_path(b(v,w),N)}this.$raise(l("::","SecurityError"),""+(p(n=h["$[]"]("target_name"))?n:"path")+" "+c+" is outside of jail: "+g+" (disallowed in safe mode)")}return z}L=this.$partition_path(c);n=a.to_ary(L);w=null==n[0]?k:n[0];L}else w=[];if(p(w["$empty?"]())){if(p(d["$nil_or_empty?"]()))return p(n=
g)?n:this.working_dir;if(p(this["$root?"](d)))if(p(g))d=this.$posixify(d);else return this.$expand_path(d);else L=this.$partition_path(d),n=a.to_ary(L),w=null==n[0]?k:n[0],L,d=p(n=g)?n:this.working_dir}else p(d["$nil_or_empty?"]())?d=p(n=g)?n:this.working_dir:p(this["$root?"](d))?p(g)&&(d=this.$posixify(d)):d=""+(p(n=g)?n:this.working_dir).$chomp("/")+"/"+d;p(p(n=p(L=g)?z=this["$descends_from?"](d,g)["$!"]():L)?this.file_separator["$=="](m(f,"BACKSLASH")):n)?(L=this.$partition_path(d),n=a.to_ary(L),
y=null==n[0]?k:n[0],D=null==n[1]?k:n[1],L,L=this.$partition_path(g),n=a.to_ary(L),v=null==n[0]?k:n[0],N=null==n[1]?k:n[1],L,p(D["$!="](N))&&(p(h.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(p(n=h["$[]"]("target_name"))?n:"path")+" is outside of jail root; recovering automatically"),y=v,z=!1):this.$raise(l("::","SecurityError"),"start path for "+(p(n=h["$[]"]("target_name"))?n:"path")+" "+d+" refers to location outside jail root: "+g+" (disallowed in safe mode)"))):(L=this.$partition_path(d),
n=a.to_ary(L),y=null==n[0]?k:n[0],N=null==n[1]?k:n[1],L);p((x=b(y,w))["$include?"](m(f,"DOT_DOT")))&&(n=[x,[]],y=n[0],x=n[1],n,p(g)?(p(v)||(L=this.$partition_path(g),n=a.to_ary(L),v=null==n[0]?k:n[0],L),E=!1,t(y,"each",[],(r=function(a){var b=r.$$s||this,d;null==a&&(a=k);if(a["$=="](m(f,"DOT_DOT"))){a=x.$size();var n=v.$size();a="number"===typeof a&&"number"===typeof n?a>n:a["$>"](n);if(p(a))return x.$pop();if(p(h.$fetch("recover",!0))){if(p(E))return k;b.$logger().$warn(""+(p(d=h["$[]"]("target_name"))?
d:"path")+" has illegal reference to ancestor of jail; recovering automatically");return E=!0}return b.$raise(l("::","SecurityError"),""+(p(d=h["$[]"]("target_name"))?d:"path")+" "+c+" refers to location outside jail: "+g+" (disallowed in safe mode)")}return x["$<<"](a)},r.$$s=this,r.$$arity=1,r))):t(y,"each",[],(u=function(a){null==a&&(a=k);return a["$=="](m(f,"DOT_DOT"))?x.$pop():x["$<<"](a)},u.$$s=this,u.$$arity=1,u)));return p(z)?(z=this.$join_path(x,N),p(this["$descends_from?"](z,g))?z:p(h.$fetch("recover",
!0))?(this.$logger().$warn(""+(p(n=h["$[]"]("target_name"))?n:"path")+" is outside of jail; recovering automatically"),p(v)||(L=this.$partition_path(g),n=a.to_ary(L),v=null==n[0]?k:n[0],L),this.$join_path(b(v,w),N)):this.$raise(l("::","SecurityError"),""+(p(n=h["$[]"]("target_name"))?n:"path")+" "+c+" is outside of jail: "+g+" (disallowed in safe mode)")):this.$join_path(x,N)},B.$$arity=-2);return(a.def(d,"$web_path",C=function(b,c){var d,g,h=k,n=k,l=k,q=k,r=k;null==c&&(c=k);b=this.$posixify(b);c=
this.$posixify(c);h=k;p(p(d=c["$nil_or_empty?"]())?d:this["$web_root?"](b))||(b=p(c["$end_with?"](m(f,"SLASH")))?""+c+b:""+c+m(f,"SLASH")+b,p(h=m(f,"Helpers").$uri_prefix(b))&&(b=b["$[]"](a.Range.$new(h.$length(),-1,!1))));b=this.$partition_path(b,!0);d=a.to_ary(b);n=null==d[0]?k:d[0];l=null==d[1]?k:d[1];b;q=[];t(n,"each",[],(g=function(a){var b;null==a&&(a=k);return a["$=="](m(f,"DOT_DOT"))?p(q["$empty?"]())?p(p(b=l)?l["$!="](m(f,"DOT_SLASH")):b)?k:q["$<<"](a):q["$[]"](-1)["$=="](m(f,"DOT_DOT"))?
q["$<<"](a):q.$pop():q["$<<"](a)},g.$$s=this,g.$$arity=1,g));p((r=this.$join_path(q,l))["$include?"](" "))&&(r=r.$gsub(" ","%20"));return p(h)?""+h+r:r},C.$$arity=-2),k)&&"web_path"})(d[0],null,d)}(h[0],h)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,
b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var m=[],g=a.nil,c=a.const_get_qualified,p=a.const_get_relative,q=a.module,t=a.klass,w=a.hash2,n=a.truthy,f=a.send,e=a.gvars,v=a.hash;a.add_stubs("$include $attr_reader $+ $attr_accessor $! $=== $split $file $dir $dirname $path $basename $lineno $prepare_lines $drop $empty? $nil_or_empty? $peek_line $> $slice $[] $length $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $join $read_lines $unshift $start_with? $== $* $read_lines_until $size $clear $cursor $[]= $!= $fetch $cursor_at_mark $warn $logger $message_with_context $new $tap $each $instance_variables $instance_variable_get $instance_variable_set $class $object_id $inspect $private $prepare_source_array $prepare_source_string $valid_encoding? $to_s $raise $to_i $attributes $catalog $pop_include $parse $path= $dup $end_with? $keys $rindex $rootname $key? $attr $>= $nil? $extensions? $include_processors? $extensions $include_processors $map $skip_front_matter! $pop $adjust_indentation! $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $downcase $error $none? $any? $all? $strip $send $resolve_expr_val $replace_next_line $rstrip $sub_attributes $attribute_missing $info $parse_attributes $find $handles? $instance $process_method $safe $resolve_include_path $method $split_delimited_value $partition $< $/ $to_a $uniq $sort $call $each_line $infinite? $push_include $delete $value? $create_include_cursor $delete_at $read $uriish? $attr? $require_library $normalize_system_path $file? $relative_path $path_resolver $base_dir $to_f".split(" "));
return function(d,m){d=[q(d,"Asciidoctor")].concat(m);(function(d,$super,e){d=t(d,$super,"Reader");var l=[d].concat(e),m,q,r,z,v,y,x,D,E,L,H,B,C,F,Q,G,S,I,X,V,oa,Y,J,ba,O,P,T,na,ea,ra,ha,va,Ba,la,Ma,Da,Na;d.$$prototype.file=d.$$prototype.lines=d.$$prototype.look_ahead=d.$$prototype.unescape_next_line=d.$$prototype.lineno=d.$$prototype.process_lines=d.$$prototype.dir=d.$$prototype.path=d.$$prototype.mark=d.$$prototype.source_lines=d.$$prototype.saved=g;d.$include(p(l,"Logging"));(function(c,$super,
d){c=t(c,$super,"Cursor");[c].concat(d);var e,f,h;c.$$prototype.lineno=c.$$prototype.path=g;c.$attr_reader("file","dir","path","lineno");a.def(c,"$initialize",e=function(a,b,c,d){var e;null==b&&(b=g);null==c&&(c=g);null==d&&(d=1);return e=[a,b,c,d],this.file=e[0],this.dir=e[1],this.path=e[2],this.lineno=e[3],e},e.$$arity=-2);a.def(c,"$advance",f=function(a){return this.lineno=b(this.lineno,a)},f.$$arity=1);a.def(c,"$line_info",h=function(){return""+this.path+": line "+this.lineno},h.$$arity=0);return a.alias(c,
"to_s","line_info")})(l[0],null,l);d.$attr_reader("file");d.$attr_reader("dir");d.$attr_reader("path");d.$attr_reader("lineno");d.$attr_reader("source_lines");d.$attr_accessor("process_lines");d.$attr_accessor("unterminated");a.def(d,"$initialize",m=function(b,d,e){null==b&&(b=g);null==d&&(d=g);null==e&&(e=w([],{}));if(n(d["$!"]()))this.file=g,this.dir=".",this.path="<stdin>",this.lineno=1;else if(n(c("::","String")["$==="](d))){this.file=d;d=c("::","File").$split(this.file);var f=a.to_ary(d);this.dir=
null==f[0]?g:f[0];this.path=null==f[1]?g:f[1];d;this.lineno=1}else n(this.file=d.$file())?(this.dir=n(f=d.$dir())?f:c("::","File").$dirname(this.file),this.path=n(f=d.$path())?f:c("::","File").$basename(this.file)):(this.dir=n(f=d.$dir())?f:".",this.path=n(f=d.$path())?f:"<stdin>"),this.lineno=n(f=d.$lineno())?f:1;this.lines=this.$prepare_lines(b,e);this.source_lines=this.lines.$drop(0);this.mark=g;this.look_ahead=0;this.process_lines=!0;this.unescape_next_line=!1;return this.saved=this.unterminated=
g},m.$$arity=-1);a.def(d,"$has_more_lines?",q=function(){return n(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},q.$$arity=0);a.def(d,"$empty?",r=function(){return n(this.lines["$empty?"]())?(this.look_ahead=0,!0):!1},r.$$arity=0);a.alias(d,"eof?","empty?");a.def(d,"$next_line_empty?",z=function(){return this.$peek_line()["$nil_or_empty?"]()},z.$$arity=0);a.def(d,"$peek_line",v=function(a){var b,c=g;null==a&&(a=!1);return n(n(b=a)?b:h(this.look_ahead,0))?n(this.unescape_next_line)?(c=this.lines["$[]"](0)).$slice(1,
c.$length()):this.lines["$[]"](0):n(this.lines["$empty?"]())?(this.look_ahead=0,g):n(c=this.$process_line(this.lines["$[]"](0)))?c:this.$peek_line()},v.$$arity=-1);a.def(d,"$peek_lines",y=function(b,c){var d,e,h=this,m=g,q=g;null==b&&(b=g);null==c&&(c=!1);m=h.look_ahead;q=[];(function(){var m=a.new_brk();try{return f(n(d=b)?d:p(l,"MAX_INT"),"times",[],(e=function(){var b=e.$$s||this,d;null==b.lineno&&(b.lineno=g);if(n(d=n(c)?b.$shift():b.$read_line()))return q["$<<"](d);n(c)&&(b.lineno=k(b.lineno,
1));a.brk(g,m)},e.$$s=h,e.$$brk=m,e.$$arity=0,e))}catch(A){if(A===m)return A.$v;throw A;}})();n(q["$empty?"]())||(h.$unshift_all(q),n(c)&&(h.look_ahead=m));return q},y.$$arity=-1);a.def(d,"$read_line",x=function(){var a;return n(n(a=h(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():g},x.$$arity=0);a.def(d,"$read_lines",D=function(){var a;for(a=[];n(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},D.$$arity=0);a.alias(d,"readlines","read_lines");a.def(d,"$read",E=function(){return this.$read_lines().$join(p(l,
"LF"))},E.$$arity=0);a.def(d,"$advance",L=function(){return n(this.$shift())?!0:!1},L.$$arity=0);a.def(d,"$unshift_line",H=function(a){this.$unshift(a);return g},H.$$arity=1);a.alias(d,"restore_line","unshift_line");a.def(d,"$unshift_lines",B=function(a){this.$unshift_all(a);return g},B.$$arity=1);a.alias(d,"restore_lines","unshift_lines");a.def(d,"$replace_next_line",C=function(a){this.$shift();this.$unshift(a);return!0},C.$$arity=1);a.alias(d,"replace_line","replace_next_line");a.def(d,"$skip_blank_lines",
F=function(){var a,c;if(n(this["$empty?"]()))return g;for(a=0;n(c=this.$peek_line());)if(n(c["$empty?"]()))this.$shift(),a=b(a,1);else return a},F.$$arity=0);a.def(d,"$skip_comment_lines",Q=function(){var a,b=g,c=g;if(n(this["$empty?"]()))return g;for(;n(n(a=b=this.$peek_line())?b["$empty?"]()["$!"]():a);)if(n(b["$start_with?"]("//")))if(n(b["$start_with?"]("///")))if(n(n(a=h(c=b.$length(),3))?b["$=="]("/"["$*"](c)):a))this.$read_lines_until(w(["terminator","skip_first_line","read_last_line","skip_processing",
"context"],{terminator:b,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else this.$shift();else break;return g},Q.$$arity=0);a.def(d,"$skip_line_comments",G=function(){var a,b,c=g;if(n(this["$empty?"]()))return[];for(b=[];n(n(a=c=this.$peek_line())?c["$empty?"]()["$!"]():a);)if(n(c["$start_with?"]("//")))b["$<<"](this.$shift());else break;return b},G.$$arity=0);a.def(d,"$terminate",S=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();
this.look_ahead=0;return g},S.$$arity=0);a.def(d,"$read_lines_until",I=function(b){var c,d,e,h,m=I.$$p,q=m||g,r=g,A=g,u=g,t=g,z=g,v=g,y=g,x=g,D=g,E=g,L=g,H=g,B=g;m&&(I.$$p=null);null==b&&(b=w([],{}));r=[];n(n(c=this.process_lines)?b["$[]"]("skip_processing"):c)&&(this.process_lines=!1,A=!0);n(u=b["$[]"]("terminator"))?(t=n(c=b["$[]"]("cursor"))?c:this.$cursor(),v=z=!1):(z=b["$[]"]("break_on_blank_lines"),v=b["$[]"]("break_on_list_continuation"));y=b["$[]"]("skip_line_comments");x=D=E=g;for(n(b["$[]"]("skip_first_line"))&&
this.$shift();n(n(d=x["$!"]())?L=this.$read_line():d);)x=function(){for(;n(!0);)return n(n(e=u)?L["$=="](u):e)||n(n(e=z)?L["$empty?"]():e)?!0:n(n(e=n(h=v)?D:h)?L["$=="](p(l,"LIST_CONTINUATION")):e)?(H=["preserve_last_line",!0],f(b,"[]=",a.to_a(H)),H[k(H.length,1)],!0):n((e=q!==g)?a.yield1(q,L):q!==g)?!0:!1;return g}(),n(x)?(n(b["$[]"]("read_last_line"))&&(r["$<<"](L),D=!0),n(b["$[]"]("preserve_last_line"))&&(this.$unshift(L),E=!0)):n(n(d=n(e=y)?L["$start_with?"]("//"):e)?L["$start_with?"]("///")["$!"]():
d)||(r["$<<"](L),D=!0);n(A)&&(this.process_lines=!0,n(n(c=E)?u["$!"]():c)&&(this.look_ahead=k(this.look_ahead,1)));n(n(c=n(d=u)?u["$!="](L):d)?B=b.$fetch("context",u):c)&&(t["$=="]("at_mark")&&(t=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+B+" block",w(["source_location"],{source_location:t}))),this.unterminated=!0);return r},I.$$arity=-1);a.def(d,"$shift",X=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=k(this.look_ahead,
1));return this.lines.$shift()},X.$$arity=0);a.def(d,"$unshift",V=function(a){this.lineno=k(this.lineno,1);this.look_ahead=b(this.look_ahead,1);return this.lines.$unshift(a)},V.$$arity=1);a.def(d,"$unshift_all",oa=function(c){this.lineno=k(this.lineno,c.$size());this.look_ahead=b(this.look_ahead,c.$size());return f(this.lines,"unshift",a.to_a(c))},oa.$$arity=1);a.def(d,"$cursor",Y=function(){return p(l,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},Y.$$arity=0);a.def(d,"$cursor_at_line",
J=function(a){return p(l,"Cursor").$new(this.file,this.dir,this.path,a)},J.$$arity=1);a.def(d,"$cursor_at_mark",ba=function(){return n(this.mark)?f(p(l,"Cursor"),"new",a.to_a(this.mark)):this.$cursor()},ba.$$arity=0);a.def(d,"$cursor_before_mark",O=function(){if(n(this.mark)){var b=this.mark;var c=a.to_ary(b);var d=null==c[0]?g:c[0];var e=null==c[1]?g:c[1];var f=null==c[2]?g:c[2];c=null==c[3]?g:c[3];b;return p(l,"Cursor").$new(d,e,f,k(c,1))}return p(l,"Cursor").$new(this.file,this.dir,this.path,k(this.lineno,
1))},O.$$arity=0);a.def(d,"$cursor_at_prev_line",P=function(){return p(l,"Cursor").$new(this.file,this.dir,this.path,k(this.lineno,1))},P.$$arity=0);a.def(d,"$mark",T=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},T.$$arity=0);a.def(d,"$line_info",na=function(){return""+this.path+": line "+this.lineno},na.$$arity=0);a.def(d,"$lines",ea=function(){return this.lines.$drop(0)},ea.$$arity=0);a.def(d,"$string",ra=function(){return this.lines.$join(p(l,"LF"))},ra.$$arity=0);a.def(d,
"$source",ha=function(){return this.source_lines.$join(p(l,"LF"))},ha.$$arity=0);a.def(d,"$save",va=function(){var b;this.saved=f(w([],{}),"tap",[],(b=function(d){var e=b.$$s||this,h;null==d&&(d=g);return f(e.$instance_variables(),"each",[],(h=function(b){var e=h.$$s||this,l,m=g;null==b&&(b=g);if(n(n(l=b["$=="]("@saved"))?l:b["$=="]("@source_lines")))return g;b=[b,n(c("::","Array")["$==="](m=e.$instance_variable_get(b)))?m.$drop(0):m];f(d,"[]=",a.to_a(b));return b[k(b.length,1)]},h.$$s=e,h.$$arity=
1,h))},b.$$s=this,b.$$arity=1,b));return g},va.$$arity=0);a.def(d,"$restore_save",Ba=function(){var a;return n(this.saved)?(f(this.saved,"each",[],(a=function(b,c){var d=a.$$s||this;null==b&&(b=g);null==c&&(c=g);return d.$instance_variable_set(b,c)},a.$$s=this,a.$$arity=2,a)),this.saved=g):g},Ba.$$arity=0);a.def(d,"$discard_save",la=function(){return this.saved=g},la.$$arity=0);a.def(d,"$to_s",Ma=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+
this.lineno+"}>"},Ma.$$arity=0);d.$private();a.def(d,"$prepare_lines",Da=function(b,d){null==d&&(d=w([],{}));try{return n(d["$[]"]("normalize"))?n(c("::","Array")["$==="](b))?p(l,"Helpers").$prepare_source_array(b):p(l,"Helpers").$prepare_source_string(b):n(c("::","Array")["$==="](b))?b.$drop(0):n(b)?b.$split(p(l,"LF"),-1):[]}catch(Oa){if(a.rescue(Oa,[p(l,"StandardError")]))try{return n((n(c("::","Array")["$==="](b))?b.$join():b.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise(c("::","ArgumentError"),
"source is either binary or contains invalid Unicode data")}finally{a.pop_exception()}else throw Oa;}},Da.$$arity=-2);return(a.def(d,"$process_line",Na=function(a){n(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},Na.$$arity=1),g)&&"process_line"})(d[0],null,d);(function(d,$super,m){d=t(d,$super,"PreprocessorReader");var q=[d].concat(m),r,z,y,x,D,E,H,B,C,L,F,Q,G,S,I,Z,X,V,J,ba;d.$$prototype.include_stack=d.$$prototype.lines=d.$$prototype.file=d.$$prototype.dir=d.$$prototype.path=
d.$$prototype.lineno=d.$$prototype.maxdepth=d.$$prototype.process_lines=d.$$prototype.includes=d.$$prototype.document=d.$$prototype.unescape_next_line=d.$$prototype.include_processor_extensions=d.$$prototype.look_ahead=d.$$prototype.skipping=d.$$prototype.conditional_stack=g;d.$attr_reader("include_stack");a.def(d,"$initialize",r=function(b,c,d,e){var k,l;r.$$p&&(r.$$p=null);null==c&&(c=g);null==d&&(d=g);null==e&&(e=w([],{}));this.document=b;f(this,a.find_super_dispatcher(this,"initialize",r,!1),
[c,d,e],null);n(h(l=(n(k=b.$attributes()["$[]"]("max-include-depth"))?k:64).$to_i(),0))?this.maxdepth=w(["abs","curr","rel"],{abs:l,curr:l,rel:l}):this.maxdepth=g;this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=g},r.$$arity=-2);a.def(d,"$has_more_lines?",z=function(){return n(this.$peek_line())?!0:!1},z.$$arity=0);a.def(d,"$empty?",y=function(){return n(this.$peek_line())?!1:!0},y.$$arity=0);a.alias(d,
"eof?","empty?");a.def(d,"$peek_line",x=function(b){var c=x.$$p,d;c&&(x.$$p=null);var e=0;var h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];null==b&&(b=!1);if(n(c=f(this,a.find_super_dispatcher(this,"peek_line",x,!1),d,c)))return c;if(n(this.include_stack["$empty?"]()))return g;this.$pop_include();return this.$peek_line(b)},x.$$arity=-1);a.def(d,"$push_include",D=function(d,e,l,m,r){var u,t=g,z=g;null==e&&(e=g);null==l&&(l=g);null==m&&(m=1);null==r&&(r=w([],{}));this.include_stack["$<<"]([this.lines,
this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);if(n(this.file=e)){if(n(c("::","String")["$==="](e)))this.dir=c("::","File").$dirname(e);else if(n(p(q,"RUBY_ENGINE_OPAL")))this.dir=c("::","URI").$parse(c("::","File").$dirname(e=e.$to_s()));else{var v=[(t=c("::","File").$dirname(e.$path()))["$=="]("/")?"":t];f(this.dir=e.$dup(),"path=",a.to_a(v));v[k(v.length,1)];e=e.$to_s()}this.path=l=n(u=l)?u:c("::","File").$basename(e);n(this.process_lines=f(e,"end_with?",a.to_a(p(q,
"ASCIIDOC_EXTENSIONS").$keys())))&&(v=[l.$slice(0,l.$rindex(".")),n(r["$[]"]("partial-option"))?g:!0],f(this.includes,"[]=",a.to_a(v)),v[k(v.length,1)])}else this.dir=".",this.process_lines=!0,n(this.path=l)?(v=[p(q,"Helpers").$rootname(l),n(r["$[]"]("partial-option"))?g:!0],f(this.includes,"[]=",a.to_a(v)),v[k(v.length,1)]):this.path="<stdin>";this.lineno=m;n(n(u=this.maxdepth)?r["$key?"]("depth"):u)&&(n(h(e=r["$[]"]("depth").$to_i(),0))?(n(h(l=b(this.include_stack.$size(),e),z=this.maxdepth["$[]"]("abs")))&&
(l=e=z),this.maxdepth=w(["abs","curr","rel"],{abs:z,curr:l,rel:e})):this.maxdepth=w(["abs","curr","rel"],{abs:this.maxdepth["$[]"]("abs"),curr:this.include_stack.$size(),rel:0}));if(n((this.lines=this.$prepare_lines(d,w(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:r["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(n(r["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+r["$[]"]("leveloffset"));this.lines["$<<"]("");if(n(d=this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+
d);else this.lines["$<<"](":leveloffset!:");this.lineno=k(this.lineno,2)}this.look_ahead=0}return this},D.$$arity=-2);a.def(d,"$include_depth",E=function(){return this.include_stack.$size()},E.$$arity=0);a.def(d,"$exceeds_max_depth?",H=function(){var a,b;return n(a=n(b=this.maxdepth)?l(this.include_stack.$size(),this.maxdepth["$[]"]("curr")):b)?this.maxdepth["$[]"]("rel"):a},H.$$arity=0);a.alias(d,"exceeded_max_depth?","exceeds_max_depth?");a.def(d,"$shift",B=function(){var b=B.$$p,c=g,d;b&&(B.$$p=
null);var e=0;var h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];return n(this.unescape_next_line)?(this.unescape_next_line=!1,(c=f(this,a.find_super_dispatcher(this,"shift",B,!1),d,b)).$slice(1,c.$length())):f(this,a.find_super_dispatcher(this,"shift",B,!1),d,b)},B.$$arity=0);a.def(d,"$include_processors?",C=function(){var a;return n(this.include_processor_extensions["$nil?"]())?n(n(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=
this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},C.$$arity=0);a.def(d,"$create_include_cursor",L=function(a,b,d){var e=g;n(c("::","String")["$==="](a))?e=c("::","File").$dirname(a):n(p(q,"RUBY_ENGINE_OPAL"))?e=c("::","File").$dirname(a=a.$to_s()):(e=(e=c("::","File").$dirname(a.$path()))["$=="]("")?"/":e,a=a.$to_s());return p(q,"Cursor").$new(a,e,b,d)},L.$$arity=3);a.def(d,"$to_s",F=function(){var a;
return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+f(this.include_stack,"map",[],(a=function(a){null==a&&(a=g);return a.$to_s()},a.$$s=this,a.$$arity=1,a)).$join(", ")+"]}>"},F.$$arity=0);d.$private();a.def(d,"$prepare_lines",Q=function(c,d){var e,h,l=Q.$$p,m,r=g,u=g,t;l&&(Q.$$p=null);var z=0;var v=arguments.length;for(t=Array(v);z<v;z++)t[z]=arguments[z];null==d&&(d=w([],{}));l=
f(this,a.find_super_dispatcher(this,"prepare_lines",Q,!1),t,l);n(n(e=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):e)&&n(m=this["$skip_front_matter!"](l))&&(e=["front-matter",m.$join(p(q,"LF"))],f(this.document.$attributes(),"[]=",a.to_a(e)),e[k(e.length,1)]);if(n(d.$fetch("condense",!0))){for(;n(n(h=r=l["$[]"](0))?r["$empty?"]():h);)n(h=l.$shift())?this.lineno=b(this.lineno,1):h;for(;n(n(h=u=l["$[]"](-1))?u["$empty?"]():h);)l.$pop()}if(n(d["$[]"]("indent")))p(q,"Parser")["$adjust_indentation!"](l,
d["$[]"]("indent").$to_i(),this.document.$attr("tabsize").$to_i());return l},Q.$$arity=-2);a.def(d,"$process_line",G=function(a){var c,d;if(!n(this.process_lines))return a;if(n(a["$empty?"]()))return this.look_ahead=b(this.look_ahead,1),a;if(n(n(c=n(d=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():d)?a["$include?"]("::"):c)){if(n(n(c=a["$include?"]("if"))?p(q,"ConditionalDirectiveRx")["$=~"](a):c)){if(((c=e["~"])===g?g:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=
b(this.look_ahead,1),a.$slice(1,a.$length());if(n(this.$preprocess_conditional_directive((c=e["~"])===g?g:c["$[]"](2),(c=e["~"])===g?g:c["$[]"](3),(c=e["~"])===g?g:c["$[]"](4),(c=e["~"])===g?g:c["$[]"](5))))return this.$shift(),g;this.look_ahead=b(this.look_ahead,1);return a}if(n(this.skipping))return this.$shift(),g;if(n(n(c=a["$start_with?"]("inc","\\inc"))?p(q,"IncludeDirectiveRx")["$=~"](a):c)){if(((c=e["~"])===g?g:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,
1),a.$slice(1,a.$length());if(n(this.$preprocess_include_directive((c=e["~"])===g?g:c["$[]"](2),(c=e["~"])===g?g:c["$[]"](3))))return g;this.look_ahead=b(this.look_ahead,1);return a}this.look_ahead=b(this.look_ahead,1);return a}if(n(this.skipping))return this.$shift(),g;this.look_ahead=b(this.look_ahead,1);return a},G.$$arity=1);a.def(d,"$preprocess_conditional_directive",S=function(a,b,c,d){var h,l,m,r,u,t=g,z=g,v=g,y=g,x=y=t=g;n(t=b["$empty?"]())||(b=b.$downcase());if(a["$=="]("endif"))return n(d)?
this.$logger().$error(this.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+b+"["+d+"]",w(["source_location"],{source_location:this.$cursor()}))):n(this.conditional_stack["$empty?"]())?this.$logger().$error(this.$message_with_context("unmatched preprocessor directive: endif::"+b+"[]",w(["source_location"],{source_location:this.$cursor()}))):n(n(h=t)?h:b["$=="]((z=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=
n(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$logger().$error(this.$message_with_context("mismatched preprocessor directive: endif::"+b+"[], expected endif::"+z["$[]"]("target")+"[]",w(["source_location"],{source_location:this.$cursor()}))),!0;if(n(this.skipping))v=!1;else if(y=a,"ifdef"["$==="](y)){if(n(t))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+d+"]",w(["source_location"],
{source_location:this.$cursor()}))),!0;y=c;v=","["$==="](y)?f(b.$split(",",-1),"none?",[],(l=function(a){var b=l.$$s||this;null==b.document&&(b.document=g);null==a&&(a=g);return b.document.$attributes()["$key?"](a)},l.$$s=this,l.$$arity=1,l)):"+"["$==="](y)?f(b.$split("+",-1),"any?",[],(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=g);null==a&&(a=g);return b.document.$attributes()["$key?"](a)["$!"]()},m.$$s=this,m.$$arity=1,m)):this.document.$attributes()["$key?"](b)["$!"]()}else if("ifndef"["$==="](y)){if(n(t))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+
d+"]",w(["source_location"],{source_location:this.$cursor()}))),!0;y=c;v=","["$==="](y)?f(b.$split(",",-1),"any?",[],(r=function(a){var b=r.$$s||this;null==b.document&&(b.document=g);null==a&&(a=g);return b.document.$attributes()["$key?"](a)},r.$$s=this,r.$$arity=1,r)):"+"["$==="](y)?f(b.$split("+",-1),"all?",[],(u=function(a){var b=u.$$s||this;null==b.document&&(b.document=g);null==a&&(a=g);return b.document.$attributes()["$key?"](a)},u.$$s=this,u.$$arity=1,u)):this.document.$attributes()["$key?"](b)}else if("ifeval"["$==="](y))if(n(t))if(n(n(h=
d)?p(q,"EvalExpressionRx")["$=~"](d.$strip()):h))t=(h=e["~"])===g?g:h["$[]"](1),y=(h=e["~"])===g?g:h["$[]"](2),x=(h=e["~"])===g?g:h["$[]"](3),v=n(this.$resolve_expr_val(t).$send(y,this.$resolve_expr_val(x)))?!1:!0;else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - "+(n(d)?"invalid expression":"missing expression")+": ifeval::["+d+"]",w(["source_location"],{source_location:this.$cursor()}))),!0;else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+
b+"["+d+"]",w(["source_location"],{source_location:this.$cursor()}))),!0;n(n(h=a["$=="]("ifeval"))?h:d["$!"]())?(n(v)&&(this.skipping=!0),this.conditional_stack["$<<"](w(["target","skip","skipping"],{target:b,skip:v,skipping:this.skipping}))):n(n(h=this.skipping)?h:v)||(this.$replace_next_line(d.$rstrip()),this.$unshift(""),n(d["$start_with?"]("include::"))&&(this.look_ahead=k(this.look_ahead,1)));return!0},S.$$arity=4);a.def(d,"$preprocess_include_directive",I=function(d,m){var r,u,t,z,y,x,D,E,H,
B,C,L=this,U=g,F=g,Q=g,G=g,fa=g,W=g,S=g,I=g,ja=g,Ca=g,X=g,A=g,K=g,ia=g,M=g,R=g,Z=g,V=g,ya=g,ma=g,J=g,da=g,ba=g,O=Z=g;U=L.document;if(n(n(r=(F=d)["$include?"](p(q,"ATTR_REF_HEAD")))?(F=U.$sub_attributes(d,w(["attribute_missing"],{attribute_missing:(Q=n(u=U.$attributes()["$[]"]("attribute-missing"))?u:p(q,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":Q})))["$empty?"]():r)){if(n((r=Q["$=="]("drop-line"))?U.$sub_attributes(b(d," "),w(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",
drop_line_severity:"ignore"}))["$empty?"]():Q["$=="]("drop-line")))return f(L.$logger(),"info",[],(t=function(){var a=t.$$s||this;return a.$message_with_context("include dropped due to missing attribute: include::"+d+"["+m+"]",w(["source_location"],{source_location:a.$cursor()}))},t.$$s=L,t.$$arity=0,t)),L.$shift(),!0;if(n(U.$parse_attributes(m,[],w(["sub_input"],{sub_input:!0}))["$[]"]("optional-option")))return f(L.$logger(),"info",[],(z=function(){var a=z.$$s||this;return a.$message_with_context("optional include dropped "+
(n(Q["$=="]("warn")?U.$sub_attributes(b(d," "),w(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Q["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+d+"["+m+"]",w(["source_location"],{source_location:a.$cursor()}))},z.$$s=L,z.$$arity=0,z)),L.$shift(),!0;L.$logger().$warn(L.$message_with_context("include dropped "+(n((r=Q["$=="]("warn"))?U.$sub_attributes(b(d," "),w(["attribute_missing",
"drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Q["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+d+"["+m+"]",w(["source_location"],{source_location:L.$cursor()})));return L.$replace_next_line("Unresolved directive in "+L.path+" - include::"+d+"["+m+"]")}if(n(n(r=L["$include_processors?"]())?G=f(L.include_processor_extensions,"find",[],(y=function(a){null==a&&(a=g);return a.$instance()["$handles?"](F)},y.$$s=
L,y.$$arity=1,y)):r))return L.$shift(),G.$process_method()["$[]"](U,L,F,U.$parse_attributes(m,[],w(["sub_input"],{sub_input:!0}))),!0;if(n(l(U.$safe(),c(p(q,"SafeMode"),"SECURE"))))return L.$replace_next_line("link:"+F+"[]");if(n(L.maxdepth)){if(n(l(L.include_stack.$size(),L.maxdepth["$[]"]("curr"))))return L.$logger().$error(L.$message_with_context("maximum include depth of "+L.maxdepth["$[]"]("rel")+" exceeded",w(["source_location"],{source_location:L.$cursor()}))),g;fa=U.$parse_attributes(m,[],
w(["sub_input"],{sub_input:!0}));u=L.$resolve_include_path(F,m,fa);r=a.to_ary(u);W=null==r[0]?g:r[0];S=null==r[1]?g:r[1];I=null==r[2]?g:r[2];u;if(S["$=="]("file"))ja=c("::","File").$method("open"),Ca=p(q,"FILE_READ_MODE");else if(S["$=="]("uri"))ja=c("::","OpenURI").$method("open_uri"),Ca=p(q,"URI_READ_MODE");else return W;X=A=g;n(m)&&(n(fa["$key?"]("lines"))?(X=[],f(L.$split_delimited_value(fa["$[]"]("lines")),"each",[],(x=function(c){null==c&&(c=g);if(n(c["$include?"](".."))){var d=c.$partition("..");
var e=a.to_ary(d);c=null==e[0]?g:e[0];var f=null==e[2]?g:e[2];d;d=X;n(e=f["$empty?"]())||(e=f=f.$to_i(),e="number"===typeof e?0>e:e["$<"](0));c=n(e)?[c.$to_i(),1/0]:a.Range.$new(c.$to_i(),f,!1).$to_a();return X=b(d,c)}return X["$<<"](c.$to_i())},x.$$s=L,x.$$arity=1,x)),X=n(X["$empty?"]())?g:X.$sort().$uniq()):n(fa["$key?"]("tag"))?n(n(r=(K=fa["$[]"]("tag"))["$empty?"]())?r:K["$=="]("!"))||(A=n(K["$start_with?"]("!"))?v(K.$slice(1,K.$length()),!1):v(K,!0)):n(fa["$key?"]("tags"))&&(A=w([],{}),f(L.$split_delimited_value(fa["$[]"]("tags")),
"each",[],(D=function(b){var c;null==b&&(b=g);if(n(n(c=b["$empty?"]())?c:b["$=="]("!")))return g;b=n(b["$start_with?"]("!"))?[b.$slice(1,b.$length()),!1]:[b,!0];f(A,"[]=",a.to_a(b));return b[k(b.length,1)]},D.$$s=L,D.$$arity=1,D)),n(A["$empty?"]())&&(A=g)));if(n(X)){r=[[],g,0];ia=r[0];M=r[1];R=r[2];r;try{(function(){var d=a.new_brk();try{return f(ja,"call",[W,Ca],(E=function(d){var e=E.$$s||this,h,k=g;null==d&&(d=g);k=g;return function(){var l=a.new_brk();try{return f(d,"each_line",[],(h=function(d){var e,
f,h=g;null==d&&(d=g);R=b(R,1);if(n(n(e=k)?e:n(f=c("::","Float")["$==="](h=X["$[]"](0)))?k=h["$infinite?"]():f))return M=n(e=M)?e:R,ia["$<<"](d);h["$=="](R)&&(M=n(e=M)?e:R,ia["$<<"](d),X.$shift());if(n(X["$empty?"]()))a.brk(g,l);else return g},h.$$s=e,h.$$brk=l,h.$$arity=1,h))}catch(bb){if(bb===l)return bb.$v;throw bb;}}()},E.$$s=L,E.$$brk=d,E.$$arity=1,E))}catch(Ya){if(Ya===d)return Ya.$v;throw Ya;}})()}catch(Za){if(a.rescue(Za,[p(q,"StandardError")]))try{return L.$logger().$error(L.$message_with_context("include "+
S+" not readable: "+W,w(["source_location"],{source_location:L.$cursor()}))),L.$replace_next_line("Unresolved directive in "+L.path+" - include::"+F+"["+m+"]")}finally{a.pop_exception()}else throw Za;}L.$shift();n(M)&&(Z=["partial-option",""],f(fa,"[]=",a.to_a(Z)),Z[k(Z.length,1)],L.$push_include(ia,W,I,M,fa))}else if(n(A)){r=[[],g,0,[],c("::","Set").$new(),g];ia=r[0];M=r[1];R=r[2];V=r[3];ya=r[4];ma=r[5];r;n(A["$key?"]("**"))?n(A["$key?"]("*"))?(J=da=A.$delete("**"),ba=A.$delete("*")):J=da=ba=A.$delete("**"):
(J=da=A["$value?"](!0)["$!"](),ba=A.$delete("*"));try{f(ja,"call",[W,Ca],(H=function(c){var d=H.$$s||this,h,k=g,l=g;null==c&&(c=g);var m=["::","[]"];k=m[0];l=m[1];m;return f(c,"each_line",[],(h=function(c){var d=h.$$s||this,m,r,u,t=g,z=g,v=g;null==c&&(c=g);R=b(R,1);return n(n(m=n(r=c["$include?"](k))?c["$include?"](l):r)?p(q,"TagDirectiveRx")["$=~"](c):m)?(t=(m=e["~"])===g?g:m["$[]"](2),n((m=e["~"])===g?g:m["$[]"](1))?t["$=="](ma)?(V.$pop(),r=n(V["$empty?"]())?[g,da]:V["$[]"](-1),m=a.to_ary(r),ma=
null==m[0]?g:m[0],J=null==m[1]?g:m[1],r):n(A["$key?"](t))?(z=d.$create_include_cursor(W,F,R),n(v=f(V,"rindex",[],(u=function(a,b){null==a&&(a=g);return a["$=="](t)},u.$$s=d,u.$$arity=2,u)))?(v["$=="](0)?V.$shift():V.$delete_at(v),d.$logger().$warn(d.$message_with_context("mismatched end tag (expected '"+ma+"' but found '"+t+"') at line "+R+" of include "+S+": "+W,w(["source_location","include_location"],{source_location:d.$cursor(),include_location:z})))):d.$logger().$warn(d.$message_with_context("unexpected end tag '"+
t+"' at line "+R+" of include "+S+": "+W,w(["source_location","include_location"],{source_location:d.$cursor(),include_location:z})))):g:n(A["$key?"](t))?(ya["$<<"](t),V["$<<"]([ma=t,J=A["$[]"](t),R])):n(ba["$nil?"]()["$!"]())?(J=n(n(m=ma)?J["$!"]():m)?!1:ba,V["$<<"]([ma=t,J,R])):g):n(J)?(M=n(m=M)?m:R,ia["$<<"](c)):g},h.$$s=d,h.$$arity=1,h))},H.$$s=L,H.$$arity=1,H))}catch(Za){if(a.rescue(Za,[p(q,"StandardError")]))try{return L.$logger().$error(L.$message_with_context("include "+S+" not readable: "+
W,w(["source_location"],{source_location:L.$cursor()}))),L.$replace_next_line("Unresolved directive in "+L.path+" - include::"+F+"["+m+"]")}finally{a.pop_exception()}else throw Za;}n(V["$empty?"]())||f(V,"each",[],(B=function(a,b,c){b=B.$$s||this;null==a&&(a=g);null==c&&(c=g);return b.$logger().$warn(b.$message_with_context("detected unclosed tag '"+a+"' starting at line "+c+" of include "+S+": "+W,w(["source_location","include_location"],{source_location:b.$cursor(),include_location:b.$create_include_cursor(W,
F,c)})))},B.$$s=L,B.$$arity=3,B));n((Z=k(A.$keys(),ya.$to_a()))["$empty?"]())||L.$logger().$warn(L.$message_with_context("tag"+(n(h(Z.$size(),1))?"s":"")+" '"+Z.$join(", ")+"' not found in include "+S+": "+W,w(["source_location"],{source_location:L.$cursor()})));L.$shift();n(M)&&(n(n(r=n(u=da)?ba:u)?A["$empty?"]():r)||(Z=["partial-option",""],f(fa,"[]=",a.to_a(Z)),Z[k(Z.length,1)]),L.$push_include(ia,W,I,M,fa))}else try{O=f(ja,"call",[W,Ca],(C=function(a){null==a&&(a=g);return a.$read()},C.$$s=L,
C.$$arity=1,C)),L.$shift(),L.$push_include(O,W,I,1,fa)}catch(Za){if(a.rescue(Za,[p(q,"StandardError")]))try{return L.$logger().$error(L.$message_with_context("include "+S+" not readable: "+W,w(["source_location"],{source_location:L.$cursor()}))),L.$replace_next_line("Unresolved directive in "+L.path+" - include::"+F+"["+m+"]")}finally{a.pop_exception()}else throw Za;}return!0}return g},I.$$arity=2);a.def(d,"$resolve_include_path",Z=function(a,b,d){var e,h,k,l=g,m=g;l=g;l=this.document;if(n(n(e=p(q,
"Helpers")["$uriish?"](a))?e:n(c("::","String")["$==="](this.dir))?g:a=""+this.dir+"/"+a)){if(!n(l["$attr?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");n(l["$attr?"]("cache-uri"))?n((h=c("::","OpenURI","skip_raise"))&&(e=c(h,"Cache","skip_raise"))?"constant":g)||p(q,"Helpers").$require_library("open-uri/cached","open-uri-cached"):n(p(q,"RUBY_ENGINE_OPAL")["$!"]())&&c("::","OpenURI");return[c("::","URI").$parse(a),"uri",a]}m=l.$normalize_system_path(a,this.dir,g,w(["target_name"],
{target_name:"include file"}));if(!n(c("::","File")["$file?"](m))){if(n(d["$[]"]("optional-option")))return f(this.$logger(),"info",[],(k=function(){var a=k.$$s||this;return a.$message_with_context("optional include dropped because include file not found: "+m,w(["source_location"],{source_location:a.$cursor()}))},k.$$s=this,k.$$arity=0,k)),this.$shift(),!0;this.$logger().$error(this.$message_with_context("include file not found: "+m,w(["source_location"],{source_location:this.$cursor()})));return this.$replace_next_line("Unresolved directive in "+
this.path+" - include::"+a+"["+b+"]")}l=l.$path_resolver().$relative_path(m,l.$base_dir());return[m,"file",l]},Z.$$arity=3);a.def(d,"$pop_include",X=function(){if(n(h(this.include_stack.$size(),0))){var b=this.include_stack.$pop();var c=a.to_ary(b);this.lines=null==c[0]?g:c[0];this.file=null==c[1]?g:c[1];this.dir=null==c[2]?g:c[2];this.path=null==c[3]?g:c[3];this.lineno=null==c[4]?g:c[4];this.maxdepth=null==c[5]?g:c[5];this.process_lines=null==c[6]?g:c[6];b;this.look_ahead=0}return g},X.$$arity=0);
a.def(d,"$split_delimited_value",V=function(a){return n(a["$include?"](","))?a.$split(","):a.$split(";")},V.$$arity=1);a.def(d,"$skip_front_matter!",J=function(c,d){var e;null==d&&(d=!0);var h=g;if(c["$[]"](0)["$=="]("---")){var k=c.$drop(0);c.$shift();h=[];n(d)&&(this.lineno=b(this.lineno,1));for(;n(n(e=c["$empty?"]()["$!"]())?c["$[]"](0)["$!="]("---"):e);)h["$<<"](c.$shift()),n(d)&&(this.lineno=b(this.lineno,1));n(c["$empty?"]())?(f(c,"unshift",a.to_a(k)),n(d)&&(this.lineno=0),h=g):(c.$shift(),
n(d)&&(this.lineno=b(this.lineno,1)))}return h},J.$$arity=-2);return(a.def(d,"$resolve_expr_val",ba=function(a){var b,c;n(n(b=n(c=a["$start_with?"]('"'))?a["$end_with?"]('"'):c)?b:n(c=a["$start_with?"]("'"))?a["$end_with?"]("'"):c)?(b=!0,a=a.$slice(1,k(a.$length(),1))):b=!1;n(a["$include?"](p(q,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,w(["attribute_missing"],{attribute_missing:"drop"})));return n(b)?a:n(a["$empty?"]())?g:a["$=="]("true")?!0:a["$=="]("false")?!1:n(a.$rstrip()["$empty?"]())?
" ":n(a["$include?"]("."))?a.$to_f():a.$to_i()},ba.$$arity=1),g)&&"resolve_expr_val"})(d[0],p(d,"Reader"),d)}(m[0],m)};Opal.modules["asciidoctor/section"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=[],k=a.nil,l=a.const_get_relative,m=a.module,g=a.klass,c=a.hash2,p=a.send,q=a.truthy;a.add_stubs("$attr_accessor $attr_reader $=== $+ $level $special $generate_id $title $== $> $sectnum $reftext $! $empty? $sub_placeholder $sub_quotes $compat_mode $[] $attributes $context $assign_numeral $class $object_id $inspect $size $length $chr $[]= $- $gsub $downcase $delete $tr_s $end_with? $chop $start_with? $slice $key? $catalog $unique_id_start_index".split(" "));
return function(d,h){d=[m(d,"Asciidoctor")].concat(h);(function(d,$super,e){d=g(d,$super,"Section");var h=[d].concat(e),n,m,r,t,w,u,z;d.$$prototype.document=d.$$prototype.level=d.$$prototype.parent=d.$$prototype.numeral=d.$$prototype.numbered=d.$$prototype.sectname=d.$$prototype.title=d.$$prototype.blocks=k;d.$attr_accessor("index");d.$attr_accessor("sectname");d.$attr_accessor("special");d.$attr_accessor("numbered");d.$attr_reader("caption");a.def(d,"$initialize",n=function(d,e,g,m){var r,u;n.$$p&&
(n.$$p=null);null==d&&(d=k);null==e&&(e=k);null==g&&(g=!1);null==m&&(m=c([],{}));p(this,a.find_super_dispatcher(this,"initialize",n,!1),[d,"section",m],null);q(l(h,"Section")["$==="](d))?(r=[q(u=e)?u:b(d.$level(),1),d.$special()],this.level=r[0],this.special=r[1]):(r=[q(u=e)?u:1,!1],this.level=r[0],this.special=r[1]);r;this.numbered=g;return this.index=0},n.$$arity=-1);a.alias(d,"name","title");a.def(d,"$generate_id",m=function(){return l(h,"Section").$generate_id(this.$title(),this.document)},m.$$arity=
0);a.def(d,"$sectnum",r=function(a,b){var c;null==a&&(a=".");null==b&&(b=k);b=q(c=b)?c:b["$=="](!1)?"":a;var d=this.level;d="number"===typeof d?1<d:d["$>"](1);return q(q(c=d)?l(h,"Section")["$==="](this.parent):c)?""+this.parent.$sectnum(a,a)+this.numeral+b:""+this.numeral+b},r.$$arity=-1);a.def(d,"$xreftext",t=function(a){var b,c=k,d=k,e=k;null==a&&(a=k);q(q(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:q(a)?(q(this.numbered)?"full"["$==="](a)?(a=q(q(b=(d=this.sectname)["$=="]("chapter"))?b:
d["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$sub_placeholder(this.$sub_quotes(q(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=q(e=this.document.$attributes()["$[]"](""+d+"-refsig"))?""+e+" "+this.$sectnum(".",",")+" "+a:""+this.$sectnum(".",",")+" "+a):a="short"["$==="](a)?q(e=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+e+" "+this.$sectnum(".",""):this.$sectnum(".",""):q(q(b=(d=this.sectname)["$=="]("chapter"))?
b:d["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title():a=q(q(b=(d=this.sectname)["$=="]("chapter"))?b:d["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},t.$$arity=-1);a.def(d,"$<<",w=function(b){var c=w.$$p,d;c&&(w.$$p=null);var e=0;var g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_numeral(b);return p(this,a.find_super_dispatcher(this,
"<<",w,!1),d,c)},w.$$arity=1);a.def(d,"$to_s",u=function(){var b=u.$$p,c;b&&(u.$$p=null);var d=0;var e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return q(this.title)?(b=q(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+b.$inspect()+", blocks: "+this.blocks.$size()+"}>"):p(this,a.find_super_dispatcher(this,"to_s",u,!1),c,b)},u.$$arity=0);return(a.defs(d,"$generate_id",z=function(c,d){var e,g,n,m=
k,r=g=k;var u=d.$attributes();var t=q(e=u["$[]"]("idprefix"))?e:"_";q(n=u["$[]"]("idseparator"))?(q(e=n.$length()["$=="](1))?u=e:q(g=(m=n["$empty?"]())["$!"]())?(g=["idseparator",n.$chr()],p(u,"[]=",a.to_a(g)),n=g,u=g.length,u="number"===typeof u?u-1:u["$-"](1),u=n=n[u]):u=g,q(u)&&(r=q(q(e=n["$=="]("-"))?e:n["$=="]("."))?" .-":" "+n+".-")):(e=["_"," _.-"],n=e[0],r=e[1],e);c=""+t+c.$downcase().$gsub(l(h,"InvalidSectionIdCharsRx"),"");q(m)?c=c.$delete(" "):(c=c.$tr_s(r,n),q(c["$end_with?"](n))&&(c=
c.$chop()),q(q(e=t["$empty?"]())?c["$start_with?"](n):e)&&(c=c.$slice(1,c.$length())));if(q(d.$catalog()["$[]"]("refs")["$key?"](c))){d=d.$catalog()["$[]"]("refs");for(e=l(h,"Compliance").$unique_id_start_index();q(d["$[]"](t=""+c+n+e));)e=b(e,1);return t}return c},z.$$arity=2),k)&&"generate_id"})(d[0],l(d,"AbstractBlock"),d)}(h[0],h)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=[],h=a.nil,k=a.const_get_qualified,l=a.const_get_relative,m=a.module,g=a.klass,c=a.truthy,p=a.hash2;a.add_stubs("$join $new $rstrip $read $primary_stylesheet_data $write $primary_stylesheet_name $stylesheet_basename $for $read_stylesheet $coderay_stylesheet_data $coderay_stylesheet_name $pygments_stylesheet_data $pygments_stylesheet_name".split(" "));
return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=g(b,$super,"Stylesheets");var e=[b].concat(d),f,m,q,r,t,w,u,z,v,y,x,D,B;b.$$prototype.primary_stylesheet_data=h;a.const_set(e[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(e[0],"STYLESHEETS_DIR",k("::","File").$join(l(e,"DATA_DIR"),"stylesheets"));b.__instance__=b.$new();a.defs(b,"$instance",f=function(){null==this.__instance__&&(this.__instance__=h);return this.__instance__},f.$$arity=0);a.def(b,"$primary_stylesheet_name",
m=function(){return l(e,"DEFAULT_STYLESHEET_NAME")},m.$$arity=0);a.def(b,"$primary_stylesheet_data",q=function(){var a;return this.primary_stylesheet_data=c(a=this.primary_stylesheet_data)?a:k("::","File").$read(k("::","File").$join(l(e,"STYLESHEETS_DIR"),"asciidoctor-default.css"),p(["mode"],{mode:l(e,"FILE_READ_MODE")})).$rstrip()},q.$$arity=0);a.def(b,"$embed_primary_stylesheet",r=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},r.$$arity=0);a.def(b,"$write_primary_stylesheet",
t=function(a){null==a&&(a=".");return k("::","File").$write(k("::","File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),p(["mode"],{mode:l(e,"FILE_WRITE_MODE")}))},t.$$arity=-1);a.def(b,"$coderay_stylesheet_name",w=function(){return l(e,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},w.$$arity=0);a.def(b,"$coderay_stylesheet_data",u=function(){return l(e,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},u.$$arity=0);a.def(b,"$embed_coderay_stylesheet",
z=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},z.$$arity=0);a.def(b,"$write_coderay_stylesheet",v=function(a){null==a&&(a=".");return k("::","File").$write(k("::","File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),p(["mode"],{mode:l(e,"FILE_WRITE_MODE")}))},v.$$arity=-1);a.def(b,"$pygments_stylesheet_name",y=function(a){null==a&&(a=h);return l(e,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(a)},y.$$arity=-1);a.def(b,"$pygments_stylesheet_data",
x=function(a){null==a&&(a=h);return l(e,"SyntaxHighlighter").$for("pygments").$read_stylesheet(a)},x.$$arity=-1);a.def(b,"$embed_pygments_stylesheet",D=function(a){null==a&&(a=h);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},D.$$arity=-1);return(a.def(b,"$write_pygments_stylesheet",B=function(a,b){null==a&&(a=".");null==b&&(b=h);return k("::","File").$write(k("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b),p(["mode"],{mode:l(e,"FILE_WRITE_MODE")}))},
B.$$arity=-1),h)&&"write_pygments_stylesheet"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/table"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}
function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var c=[],p=a.nil,q=a.const_get_qualified,t=a.const_get_relative,w=a.module,n=a.klass,f=a.hash2,e=a.send,v=a.truthy,y=a.gvars;a.add_stubs("$attr_accessor $attr_reader $new $[] $> $to_i $< $== $[]= $- $attributes $truncate $* $/ $to_f $empty? $body $each $<< $size $+ $assign_column_widths $warn $logger $update_attributes $assign_width $round $shift $style= $head= $pop $foot= $parent $sourcemap $dup $header_row? $table $delete $start_with? $rstrip $slice $length $advance $lstrip $strip $split $include? $readlines $unshift $nil? $=~ $catalog_inline_anchor $apply_subs $convert $map $text $!= $file $lineno $to_s $include $to_set $mark $key? $nested? $document $error $message_with_context $cursor_at_prev_line $nil_or_empty? $escape $columns $match $chop $end_with? $gsub $! $push_cellspec $cell_open? $close_cell $take_cellspec $squeeze $upto $times $cursor_before_mark $rowspan $activate_rowspan $colspan $end_of_row? $close_row $private $rows $effective_column_visits".split(" "));
return function(c,d){c=[w(c,"Asciidoctor")].concat(d);(function(c,$super,d){c=n(c,$super,"Table");var q=[c].concat(d),r,u,w,z,y;c.$$prototype.attributes=c.$$prototype.document=c.$$prototype.has_header_option=c.$$prototype.rows=c.$$prototype.columns=p;a.const_set(q[0],"DEFAULT_PRECISION",4);(function(b,$super,c){b=n(b,$super,"Rows");[b].concat(c);var d,e,g;b.$$prototype.head=b.$$prototype.body=b.$$prototype.foot=p;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",d=function(a,b,c){null==
a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},d.$$arity=-1);a.alias(b,"[]","send");a.def(b,"$by_section",e=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},e.$$arity=0);return(a.def(b,"$to_h",g=function(){return f(["head","body","foot"],{head:this.head,body:this.body,foot:this.foot})},g.$$arity=0),p)&&"to_h"})(q[0],null,q);c.$attr_accessor("columns");c.$attr_accessor("rows");c.$attr_accessor("has_header_option");c.$attr_reader("caption");
a.def(c,"$initialize",r=function(c,d){var f,g,n=p,u=p,w=p;r.$$p&&(r.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",r,!1),[c,"table"],null);this.rows=t(q,"Rows").$new();this.columns=[];this.has_header_option=v(d["$[]"]("header-option"))?!0:!1;v(n=d["$[]"]("width"))?v(v(f=b(u=n.$to_i(),100))?f:h(u,1))&&!v(u["$=="](0)?v(g=n["$=="]("0"))?g:n["$=="]("0%"):u["$=="](0))&&(u=100):u=100;c=["tablepcwidth",u];e(this.attributes,"[]=",a.to_a(c));c[k(c.length,1)];v(this.document.$attributes()["$[]"]("pagewidth"))&&
(c=["tableabswidth",(w=l(m(u,100),this.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(t(q,"DEFAULT_PRECISION")))["$=="](w.$to_i())?w.$to_i():w],e(this.attributes,"[]=",a.to_a(c)),c[k(c.length,1)]);return v(d["$[]"]("rotate-option"))?(c=["orientation","landscape"],e(this.attributes,"[]=",a.to_a(c)),c[k(c.length,1)]):p},r.$$arity=2);a.def(c,"$header_row?",u=function(){var a;return v(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},u.$$arity=0);a.def(c,"$create_columns",w=function(c){var d,
f,n=p,l=p,m=p,r=p;r=p;n=[];l=p;m=0;e(c,"each",[],(d=function(a){var b=d.$$s||this,c;null==a&&(a=p);var e=a["$[]"]("width");n["$<<"](t(q,"Column").$new(b,n.$size(),a));return v(h(e,0))?(l=v(c=l)?c:[])["$<<"](n["$[]"](-1)):m=g(m,e)},d.$$s=this,d.$$arity=1,d));v(b(r=(this.columns=n).$size(),0))&&(r=["colcount",r],e(this.attributes,"[]=",a.to_a(r)),r[k(r.length,1)],v(v(f=b(m,0))?f:l)||(m=p),this.$assign_column_widths(m,l));return p},w.$$arity=1);a.def(c,"$assign_column_widths",z=function(a,c){var d,h,
n,l=p,r=p,u=p,w=p,z=p;null==a&&(a=p);null==c&&(c=p);l=t(q,"DEFAULT_PRECISION");r=u=0;v(a)?(v(c)&&(v(b(a,100))?(w=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+a+"%")):(w=m(k(100,a),c.$size()).$truncate(l),w.$to_i()["$=="](w)&&(w=w.$to_i()),a=100),z=f(["width","autowidth-option"],{width:w,"autowidth-option":""}),e(c,"each",[],(d=function(a){null==a&&(a=p);return a.$update_attributes(z)},d.$$s=this,d.$$arity=1,d))),e(this.columns,"each",[],(h=function(b){null==
b&&(b=p);return r=g(r,u=b.$assign_width(p,a,l))},h.$$s=this,h.$$arity=1,h))):(u=m(100,this.columns.$size()).$truncate(l),u.$to_i()["$=="](u)&&(u=u.$to_i()),e(this.columns,"each",[],(n=function(a){null==a&&(a=p);return r=g(r,a.$assign_width(u,p,l))},n.$$s=this,n.$$arity=1,n)));r["$=="](100)||this.columns["$[]"](-1).$assign_width(g(k(100,r),u).$round(l),p,l);return p},z.$$arity=-1);return(a.def(c,"$partition_header_footer",y=function(c){var d,f,g=p,h=p,n=p;g=["rowcount",this.rows.$body().$size()];e(this.attributes,
"[]=",a.to_a(g));g[k(g.length,1)];h=this.rows.$body().$size();v(v(d=b(h,0))?this.has_header_option:d)&&(n=this.rows.$body().$shift(),h=k(h,1),e(n,"each",[],(f=function(b){null==b&&(b=p);g=[p];e(b,"style=",a.to_a(g));return g[k(g.length,1)]},f.$$s=this,f.$$arity=1,f)),g=[[n]],e(this.rows,"head=",a.to_a(g)),g[k(g.length,1)]);v(v(d=b(h,0))?c["$[]"]("footer-option"):d)&&(g=[[this.rows.$body().$pop()]],e(this.rows,"foot=",a.to_a(g)),g[k(g.length,1)]);return p},y.$$arity=1),p)&&"partition_header_footer"})(c[0],
t(c,"AbstractBlock"),c);(function(b,$super,c){b=n(b,$super,"Column");[b].concat(c);var d,h,q,r;b.$$prototype.attributes=p;b.$attr_accessor("style");a.def(b,"$initialize",d=function(b,c,h){var n;d.$$p&&(d.$$p=null);null==h&&(h=f([],{}));e(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,"table_column"],null);this.style=h["$[]"]("style");b=["colnumber",g(c,1)];e(h,"[]=",a.to_a(b));b[k(b.length,1)];v(n=h["$[]"]("width"))?n:(b=["width",1],e(h,"[]=",a.to_a(b)),b[k(b.length,1)]);v(n=h["$[]"]("halign"))?
n:(b=["halign","left"],e(h,"[]=",a.to_a(b)),b[k(b.length,1)]);v(n=h["$[]"]("valign"))?n:(b=["valign","top"],e(h,"[]=",a.to_a(b)),b[k(b.length,1)]);return this.$update_attributes(h)},d.$$arity=-3);a.alias(b,"table","parent");a.def(b,"$assign_width",h=function(b,c,d){var f=p;v(c)&&(b=m(l(this.attributes["$[]"]("width").$to_f(),100),c).$truncate(d),b.$to_i()["$=="](b)&&(b=b.$to_i()));v(this.$parent().$attributes()["$[]"]("tableabswidth"))&&(c=["colabswidth",(f=l(m(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(d))["$=="](f.$to_i())?
f.$to_i():f],e(this.attributes,"[]=",a.to_a(c)),c[k(c.length,1)]);c=["colpcwidth",b];e(this.attributes,"[]=",a.to_a(c));return c[k(c.length,1)]},h.$$arity=3);a.def(b,"$block?",q=function(){return!1},q.$$arity=0);return(a.def(b,"$inline?",r=function(){return!1},r.$$arity=0),p)&&"inline?"})(t(c,"Table"),t(c,"AbstractNode"),c);(function(b,$super,c){b=n(b,$super,"Cell");var d=[b].concat(c),m,q,r,u,w,z,x,N,D;b.$$prototype.document=b.$$prototype.text=b.$$prototype.subs=b.$$prototype.style=b.$$prototype.inner_document=
b.$$prototype.source_location=b.$$prototype.colspan=b.$$prototype.rowspan=b.$$prototype.attributes=p;a.const_set(d[0],"DOUBLE_LF",l(t(d,"LF"),2));b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",m=function(b,c,n,l){var q=p,r=p,u=p,w=p,z=p,x=p,N=p;m.$$p&&(m.$$p=null);null==n&&(n=f([],{}));null==l&&(l=f([],{}));e(this,a.find_super_dispatcher(this,"initialize",m,!1),[b,"table_cell"],null);v(this.document.$sourcemap())&&
(this.source_location=l["$[]"]("cursor").$dup());v(b)&&(v(q=b.$table()["$header_row?"]())||(r=b.$attributes()["$[]"]("style")),this.$update_attributes(b.$attributes()));if(v(n)){if(v(n["$empty?"]()))this.colspan=this.rowspan=p;else{var D=[n.$delete("colspan"),n.$delete("rowspan")];this.colspan=D[0];this.rowspan=D[1];D;v(q)||(r=v(D=n["$[]"]("style"))?D:r);this.$update_attributes(n)}if(r["$=="]("asciidoc"))if(u=!0,w=l["$[]"]("cursor"),v((c=c.$rstrip())["$start_with?"](t(d,"LF")))){for(b=1;v((c=c.$slice(1,
c.$length()))["$start_with?"](t(d,"LF")));)b=g(b,1);w.$advance(b)}else c=c.$lstrip();else if(r["$=="]("literal"))for(z=!0,c=c.$rstrip();v(c["$start_with?"](t(d,"LF")));)c=c.$slice(1,c.$length());else x=!0,c=v(c)?c.$strip():""}else this.colspan=this.rowspan=p,r["$=="]("asciidoc")&&(u=!0,w=l["$[]"]("cursor"));if(v(u)){l=this.document.$attributes().$delete("doctitle");D=c.$split(t(d,"LF"),-1);if(!v(D["$empty?"]())&&v((N=D["$[]"](0))["$include?"]("::"))){var E=t(d,"PreprocessorReader").$new(this.document,
[N]).$readlines();v(N["$=="](E["$[]"](0))?h(E.$size(),2):N["$=="](E["$[]"](0)))||(D.$shift(),v(E["$empty?"]())||e(D,"unshift",a.to_a(E)))}this.inner_document=t(d,"Document").$new(D,f(["standalone","parent","cursor"],{standalone:!1,parent:this.document,cursor:w}));v(l["$nil?"]())||(w=["doctitle",l],e(this.document.$attributes(),"[]=",a.to_a(w)),w[k(w.length,1)]);this.subs=p}else v(z)?(this.content_model="verbatim",this.subs=t(d,"BASIC_SUBS")):(v(v(D=v(E=x)?c["$start_with?"]("[["):E)?t(d,"LeadingInlineAnchorRx")["$=~"](c):
D)&&t(d,"Parser").$catalog_inline_anchor((D=y["~"])===p?p:D["$[]"](1),(D=y["~"])===p?p:D["$[]"](2),this,l["$[]"]("cursor"),this.document),this.content_model="simple",this.subs=t(d,"NORMAL_SUBS"));this.text=c;return this.style=r},m.$$arity=-3);a.def(b,"$text",q=function(){return this.$apply_subs(this.text,this.subs)},q.$$arity=0);a.def(b,"$text=",r=function(a){return this.text=a},r.$$arity=1);a.def(b,"$content",u=function(){var a,b,c=p,g=p;return(c=this.style)["$=="]("asciidoc")?this.inner_document.$convert():
v(this.text["$include?"](t(d,"DOUBLE_LF")))?e(this.$text().$split(t(d,"BlankLineRx")),"map",[],(a=function(b){var e=a.$$s||this,g;null==b&&(b=p);return v(v(g=c)?c["$!="]("header"):g)?t(d,"Inline").$new(e.$parent(),"quoted",b,f(["type"],{type:c})).$convert():b},a.$$s=this,a.$$arity=1,a)):v((g=this.$text())["$empty?"]())?[]:v(v(b=c)?c["$!="]("header"):b)?[t(d,"Inline").$new(this.$parent(),"quoted",g,f(["type"],{type:c})).$convert()]:[g]},u.$$arity=0);a.def(b,"$lines",w=function(){return this.text.$split(t(d,
"LF"))},w.$$arity=0);a.def(b,"$source",z=function(){return this.text},z.$$arity=0);a.def(b,"$file",x=function(){var a;return v(a=this.source_location)?this.source_location.$file():a},x.$$arity=0);a.def(b,"$lineno",N=function(){var a;return v(a=this.source_location)?this.source_location.$lineno():a},N.$$arity=0);return(a.def(b,"$to_s",D=function(){var b,c=D.$$p,d;c&&(D.$$p=null);var f=0;var g=arguments.length;for(d=Array(g);f<g;f++)d[f]=arguments[f];return""+e(this,a.find_super_dispatcher(this,"to_s",
D,!1),d,c).$to_s()+" - [text: "+this.text+", colspan: "+(v(b=this.colspan)?b:1)+", rowspan: "+(v(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},D.$$arity=0),p)&&"to_s"})(t(c,"Table"),t(c,"AbstractBlock"),c);(function(c,$super,d){c=n(c,$super,"ParserContext");var h=[c].concat(d),l,m,r,u,w,z,y,x,D,E,N,B,L,H,C,F,G,Q,S;c.$$prototype.delimiter=c.$$prototype.delimiter_rx=c.$$prototype.buffer=c.$$prototype.cellspecs=c.$$prototype.cell_open=c.$$prototype.format=c.$$prototype.start_cursor_data=
c.$$prototype.reader=c.$$prototype.table=c.$$prototype.current_row=c.$$prototype.colcount=c.$$prototype.column_visits=c.$$prototype.active_rowspans=c.$$prototype.linenum=p;c.$include(t(h,"Logging"));a.const_set(h[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(h[0],"DELIMITERS",f(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));c.$attr_accessor("table");c.$attr_accessor("format");c.$attr_reader("colcount");c.$attr_accessor("buffer");
c.$attr_reader("delimiter");c.$attr_reader("delimiter_re");a.def(c,"$initialize",l=function(b,c,d){var e;null==d&&(d=f([],{}));this.start_cursor_data=(this.reader=b).$mark();this.table=c;v(d["$key?"]("format"))?v(t(h,"FORMATS")["$include?"](e=d["$[]"]("format")))?e["$=="]("tsv")?this.format="csv":v((this.format=e)["$=="]("psv")?c.$document()["$nested?"]():(this.format=e)["$=="]("psv"))&&(e="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+e,f(["source_location"],{source_location:b.$cursor_at_prev_line()}))),
b=["psv",v(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],e=b[1],b):(b=["psv",v(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],e=b[1],b);v(d["$key?"]("separator"))?v((d=d["$[]"]("separator"))["$nil_or_empty?"]())?(e=t(h,"DELIMITERS")["$[]"](e),b=a.to_ary(e),this.delimiter=null==b[0]?p:b[0],this.delimiter_rx=null==b[1]?p:b[1],e):d["$=="]("\\t")?(e=t(h,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(e),this.delimiter=null==b[0]?p:b[0],this.delimiter_rx=null==b[1]?p:b[1],e):(b=[d,new RegExp(q("::",
"Regexp").$escape(d))],this.delimiter=b[0],this.delimiter_rx=b[1],b):(e=t(h,"DELIMITERS")["$[]"](e),b=a.to_ary(e),this.delimiter=null==b[0]?p:b[0],this.delimiter_rx=null==b[1]?p:b[1],e);this.colcount=v(c.$columns()["$empty?"]())?-1:c.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},l.$$arity=-3);a.def(c,"$starts_with_delimiter?",m=function(a){return a["$start_with?"](this.delimiter)},m.$$arity=
1);a.def(c,"$match_delimiter",r=function(a){return this.delimiter_rx.$match(a)},r.$$arity=1);a.def(c,"$skip_past_delimiter",u=function(a){this.buffer=""+this.buffer+a+this.delimiter;return p},u.$$arity=1);a.def(c,"$skip_past_escaped_delimiter",w=function(a){this.buffer=""+this.buffer+a.$chop()+this.delimiter;return p},w.$$arity=1);a.def(c,"$buffer_has_unclosed_quotes?",z=function(a){var b,c,d=p,e=p;null==a&&(a=p);return(d=v(a)?g(this.buffer,a).$strip():this.buffer.$strip())["$=="]('"')?!0:v(d["$start_with?"]('"'))?
v(v(b=v(c=e=d["$end_with?"]('"'))?d["$end_with?"]('""'):c)?b:d["$start_with?"]('""'))?v(b=(d=d.$gsub('""',""))["$start_with?"]('"'))?d["$end_with?"]('"')["$!"]():b:e["$!"]():!1},z.$$arity=-1);a.def(c,"$take_cellspec",y=function(){return this.cellspecs.$shift()},y.$$arity=0);a.def(c,"$push_cellspec",x=function(a){var b;null==a&&(a=f([],{}));this.cellspecs["$<<"](v(b=a)?b:f([],{}));return p},x.$$arity=-1);a.def(c,"$keep_cell_open",D=function(){this.cell_open=!0;return p},D.$$arity=0);a.def(c,"$mark_cell_closed",
E=function(){this.cell_open=!1;return p},E.$$arity=0);a.def(c,"$cell_open?",N=function(){return this.cell_open},N.$$arity=0);a.def(c,"$cell_closed?",B=function(){return this.cell_open["$!"]()},B.$$arity=0);a.def(c,"$close_open_cell",L=function(a){null==a&&(a=f([],{}));this.$push_cellspec(a);v(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return p},L.$$arity=-1);a.def(c,"$close_cell",H=function(c){try{var d,n,l=p,m=p,r=p;null==c&&(c=!1);this.format["$=="]("psv")?(l=this.buffer,this.buffer=
"",v(m=this.$take_cellspec())?r=v(d=m.$delete("repeatcol"))?d:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",f(["source_location"],{source_location:e(q(t(h,"Reader"),"Cursor"),"new",a.to_a(this.start_cursor_data))}))),m=f([],{}),r=1)):(l=this.buffer.$strip(),this.buffer="",m=p,r=1,v(v(d=this.format["$=="]("csv")?l["$empty?"]()["$!"]():this.format["$=="]("csv"))?l["$include?"]('"'):d)&&(v(v(d=l["$start_with?"]('"'))?l["$end_with?"]('"'):
d)?v(l=l.$slice(1,k(l.$length(),2)))?l=l.$strip().$squeeze('"'):(this.$logger().$error(this.$message_with_context("unclosed quote in CSV data; setting cell to empty",f(["source_location"],{source_location:this.reader.$cursor_at_prev_line()}))),l=""):l=l.$squeeze('"')));e(1,"upto",[r],(n=function(d){var u=n.$$s||this,w,z,y,x,D=p,E=p,N=p;D=p;null==u.colcount&&(u.colcount=p);null==u.table&&(u.table=p);null==u.current_row&&(u.current_row=p);null==u.reader&&(u.reader=p);null==u.column_visits&&(u.column_visits=
p);null==u.linenum&&(u.linenum=p);null==d&&(d=p);u.colcount["$=="](-1)?(u.table.$columns()["$<<"](D=q(t(h,"Table"),"Column").$new(u.table,k(g(u.table.$columns().$size(),d),1))),v(v(w=v(z=m)?m["$key?"]("colspan"):z)?b(E=k(m["$[]"]("colspan").$to_i(),1),0):w)&&(N=u.table.$columns().$size(),e(E,"times",[],(y=function(a){var b=y.$$s||this;null==b.table&&(b.table=p);null==a&&(a=p);return b.table.$columns()["$<<"](q(t(h,"Table"),"Column").$new(b.table,g(N,a)))},y.$$s=u,y.$$arity=1,y)))):v(D=u.table.$columns()["$[]"](u.current_row.$size()))||
(u.$logger().$error(u.$message_with_context("dropping cell because it exceeds specified number of columns",f(["source_location"],{source_location:u.reader.$cursor_before_mark()}))),a.ret(p));D=q(t(h,"Table"),"Cell").$new(D,l,m,f(["cursor"],{cursor:u.reader.$cursor_before_mark()}));u.reader.$mark();v(v(w=D.$rowspan()["$!"]())?w:D.$rowspan()["$=="](1))||u.$activate_rowspan(D.$rowspan(),v(w=D.$colspan())?w:1);u.column_visits=g(u.column_visits,v(w=D.$colspan())?w:1);u.current_row["$<<"](D);return v(v(w=
u["$end_of_row?"]())?v(z=v(x=u.colcount["$!="](-1))?x:b(u.linenum,0))?z:v(x=c)?d["$=="](r):x:w)?u.$close_row():p},n.$$s=this,n.$$arity=1,n));this.cell_open=!1;return p}catch(Fa){if(Fa===a.returner)return Fa.$v;throw Fa;}},H.$$arity=-1);c.$private();a.def(c,"$close_row",C=function(){var b,c=p;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();v(b=this.active_rowspans["$[]"](0))?
b:(c=[0,0],e(this.active_rowspans,"[]=",a.to_a(c)),c[k(c.length,1)]);return p},C.$$arity=0);a.def(c,"$activate_rowspan",F=function(b,c){var d;e(1,"upto",[k(b,1)],(d=function(b){var f=d.$$s||this,h;null==f.active_rowspans&&(f.active_rowspans=p);null==b&&(b=p);b=[b,g(v(h=f.active_rowspans["$[]"](b))?h:0,c)];e(f.active_rowspans,"[]=",a.to_a(b));return b[k(b.length,1)]},d.$$s=this,d.$$arity=1,d));return p},F.$$arity=2);a.def(c,"$end_of_row?",G=function(){var a;return v(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},
G.$$arity=0);a.def(c,"$effective_column_visits",Q=function(){return g(this.column_visits,this.active_rowspans["$[]"](0))},Q.$$arity=0);return(a.def(c,"$advance",S=function(){return this.linenum=g(this.linenum,1)},S.$$arity=0),p)&&"advance"})(t(c,"Table"),null,c)}(c[0],c)};Opal.modules["asciidoctor/writer"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=[],k=a.nil,l=a.const_get_qualified,m=a.const_get_relative,g=a.module,c=a.truthy,p=a.hash2;a.add_stubs(["$respond_to?",
"$write","$+","$chomp","$include"]);return function(d,h){d=[g(d,"Asciidoctor")].concat(h);(function(d,h){d=g(d,"Writer");var f=[d].concat(h),e;a.def(d,"$write",e=function(a,d){c(d["$respond_to?"]("write"))?d.$write(b(a.$chomp(),m(f,"LF"))):l("::","File").$write(d,a,p(["mode"],{mode:m(f,"FILE_WRITE_MODE")}));return k},e.$$arity=2)})(d[0],d);(function(b,c){b=g(b,"VoidWriter");c=[b].concat(c);var d;b.$include(m(c,"Writer"));a.def(b,"$write",d=function(a,b){return k},d.$$arity=2)})(d[0],d)}(h[0],h)};
Opal.modules["asciidoctor/load"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,m=a.const_get_qualified,g=a.const_get_relative,c=a.module,p=a.hash2,q=a.truthy,t=a.send;a.add_stubs("$module_function $merge $[] $start $!= $logger $logger= $- $! $=== $dup $tap $each $partition $[]= $split $gsub $+ $respond_to? $keys $raise $join $ancestors $class $mtime $absolute_path $path $dirname $basename $extname $read $rewind $drop $record $== $new $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load".split(" "));
return function(d,k){d=c(d,"Asciidoctor");var f=[d].concat(k),e,n;d.$module_function();a.def(d,"$load",e=function(c,d){var e,k,n,r,w,v,z=l,y=l,x=l,D=l,E=l,B=l,C=l,H=l,F=l,G=l;null==d&&(d=p([],{}));try{d=d.$merge();q(z=d["$[]"]("timings"))&&z.$start("read");q(q(e=y=d["$[]"]("logger"))?y["$!="](g(f,"LoggerManager").$logger()):e)&&(x=[y],t(g(f,"LoggerManager"),"logger=",a.to_a(x)),x[b(x.length,1)]);q((D=d["$[]"]("attributes"))["$!"]())?D=p([],{}):q(m("::","Hash")["$==="](D))?D=D.$merge():q(q(e=(n=m("::",
"Java","skip_raise"))&&(k=m(n,"JavaUtil","skip_raise"))&&m(k,"Map","skip_raise")?"constant":l)?m(m(m("::","Java"),"JavaUtil"),"Map")["$==="](D):e)?D=D.$dup():q(m("::","Array")["$==="](D))?D=t(p([],{}),"tap",[],(r=function(c){var d=r.$$s||this,e;null==c&&(c=l);return t(D,"each",[],(e=function(d){null==d&&(d=l);d=d.$partition("=");var e=a.to_ary(d);var f=null==e[0]?l:e[0];e=null==e[2]?l:e[2];d;x=[f,e];t(c,"[]=",a.to_a(x));return x[b(x.length,1)]},e.$$s=d,e.$$arity=1,e))},r.$$s=this,r.$$arity=1,r)):
q(m("::","String")["$==="](D))?D=t(p([],{}),"tap",[],(w=function(c){var d=w.$$s||this,e;null==c&&(c=l);return t(D.$gsub(g(f,"SpaceDelimiterRx"),h("\\1",g(f,"NULL"))).$gsub(g(f,"EscapedSpaceRx"),"\\1").$split(g(f,"NULL")),"each",[],(e=function(d){null==d&&(d=l);d=d.$partition("=");var e=a.to_ary(d);var f=null==e[0]?l:e[0];e=null==e[2]?l:e[2];d;x=[f,e];t(c,"[]=",a.to_a(x));return x[b(x.length,1)]},e.$$s=d,e.$$arity=1,e))},w.$$s=this,w.$$arity=1,w)):q(q(e=D["$respond_to?"]("keys"))?D["$respond_to?"]("[]"):
e)?D=t(p([],{}),"tap",[],(v=function(c){var d=v.$$s||this,e;null==c&&(c=l);return t(D.$keys(),"each",[],(e=function(d){null==d&&(d=l);x=[d,D["$[]"](d)];t(c,"[]=",a.to_a(x));return x[b(x.length,1)]},e.$$s=d,e.$$arity=1,e))},v.$$s=this,v.$$arity=1,v)):this.$raise(m("::","ArgumentError"),"illegal type for attributes option: "+D.$class().$ancestors().$join(" < "));if(q(m("::","File")["$==="](c)))x=["input_mtime",c.$mtime()],t(d,"[]=",a.to_a(x)),x[b(x.length,1)],x=["docfile",E=m("::","File").$absolute_path(c.$path())],
t(D,"[]=",a.to_a(x)),x[b(x.length,1)],x=["docdir",m("::","File").$dirname(E)],t(D,"[]=",a.to_a(x)),x[b(x.length,1)],x=["docname",g(f,"Helpers").$basename(E,(x=["docfilesuffix",g(f,"Helpers").$extname(E)],t(D,"[]=",a.to_a(x)),x[b(x.length,1)]))],t(D,"[]=",a.to_a(x)),x[b(x.length,1)],B=c.$read();else if(q(c["$respond_to?"]("read"))){try{c.$rewind()}catch(ta){if(a.rescue(ta,[g(f,"StandardError")]))try{l}finally{a.pop_exception()}else throw ta;}B=c.$read()}else q(m("::","String")["$==="](c))?B=c:q(m("::",
"Array")["$==="](c))?B=c.$drop(0):q(c)&&this.$raise(m("::","ArgumentError"),"unsupported input type: "+c.$class());q(z)&&(z.$record("read"),z.$start("parse"));x=["attributes",D];t(d,"[]=",a.to_a(x));x[b(x.length,1)];C=d["$[]"]("parse")["$=="](!1)?g(f,"Document").$new(B,d):g(f,"Document").$new(B,d).$parse();q(z)&&z.$record("parse");return C}catch(ta){if(a.rescue(ta,[g(f,"StandardError")])){H=ta;try{try{F="asciidoctor: FAILED: "+(q(e=D["$[]"]("docfile"))?e:"<stdin>")+": Failed to load AsciiDoc document",
q(H["$respond_to?"]("exception"))?(G=H.$exception(""+F+" - "+H.$message()),G.$set_backtrace(H.$backtrace()),G.stack=H.stack):(G=H.$class().$new(F,H),x=[H.$stack_trace()],t(G,"stack_trace=",a.to_a(x)),x[b(x.length,1)])}catch(Aa){if(a.rescue(Aa,[g(f,"StandardError")]))try{G=H}finally{a.pop_exception()}else throw Aa;}return this.$raise(G)}finally{a.pop_exception()}}else throw ta;}},e.$$arity=-2);a.def(d,"$load_file",n=function(a,b){var c;null==b&&(b=p([],{}));return t(m("::","File"),"open",[a,g(f,"FILE_READ_MODE")],
(c=function(a){var d=c.$$s||this;null==a&&(a=l);return d.$load(a,b)},c.$$s=this,c.$$arity=1,c))},n.$$arity=-2)}(k[0],k)};Opal.modules["asciidoctor/convert"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var k=[],l=a.nil,m=a.const_get_qualified,g=a.const_get_relative,c=a.module,p=a.hash2,q=a.truthy,t=a.send;a.add_stubs("$module_function $delete $merge $=== $absolute_path $path $load $respond_to? $[]= $- $key? $[] $dirname $expand_path $join $attributes $outfilesuffix $== $raise $pwd $>= $safe $normalize_system_path $mkdir_p $directory? $! $convert $write $< $attr? $basebackend? $attr $uriish? $include? $syntax_highlighter $write_stylesheet? $write_primary_stylesheet $instance $empty? $!= $read_asset $file? $write_stylesheet $open".split(" "));
return function(d,k){d=c(d,"Asciidoctor");var f=[d].concat(k),e,n;d.$module_function();a.def(d,"$convert",e=function(c,d){var e,k,n,r,w,v,z=l,y=l,x=w=l,D=l,E=l,B=l,C=l,H=l,F=l,G=l,I=l;null==d&&(d=p([],{}));(d=d.$merge()).$delete("parse");var Q=d.$delete("to_dir");var S=d.$delete("mkdirs");var J=v=d.$delete("to_file");if((!0)["$==="](J)||l["$==="](J))q(z=Q)||q(m("::","File")["$==="](c))&&(y=m("::","File").$absolute_path(c.$path())),v=l;else if((!1)["$==="](J))v=l;else{if("/dev/null"["$==="](J))return this.$load(c,
d);q(w=v["$respond_to?"]("write"))||(J=["to_file",z=v],t(d,"[]=",a.to_a(J)),J[b(J.length,1)])}q(d["$key?"]("standalone"))||(q(q(e=y)?e:z)?(J=["standalone",!0],t(d,"[]=",a.to_a(J)),J[b(J.length,1)]):q(d["$key?"]("header_footer"))&&(J=["standalone",d["$[]"]("header_footer")],t(d,"[]=",a.to_a(J)),J[b(J.length,1)]));q(y)?(J=["to_dir",x=m("::","File").$dirname(y)],t(d,"[]=",a.to_a(J)),J[b(J.length,1)]):q(z)&&(q(Q)?(J=q(v)?["to_dir",m("::","File").$dirname(m("::","File").$expand_path(m("::","File").$join(Q,
v)))]:["to_dir",m("::","File").$expand_path(Q)],t(d,"[]=",a.to_a(J)),J[b(J.length,1)]):q(v)&&(J=["to_dir",m("::","File").$dirname(m("::","File").$expand_path(v))],t(d,"[]=",a.to_a(J)),J[b(J.length,1)]));J=this.$load(c,d);q(y)?(D=m("::","File").$join(x,""+J.$attributes()["$[]"]("docname")+J.$outfilesuffix()),D["$=="](y)&&this.$raise(m("::","IOError"),"input file and output file cannot be the same: "+D)):q(z)?(d=q(d["$key?"]("base_dir"))?m("::","File").$expand_path(d["$[]"]("base_dir")):m("::","Dir").$pwd(),
z=q(h(J.$safe(),m(g(f,"SafeMode"),"SAFE")))?d:l,q(Q)?(x=J.$normalize_system_path(Q,d,z,p(["target_name","recover"],{target_name:"to_dir",recover:!1})),q(v)?(D=J.$normalize_system_path(v,x,l,p(["target_name","recover"],{target_name:"to_dir",recover:!1})),x=m("::","File").$dirname(D)):D=m("::","File").$join(x,""+J.$attributes()["$[]"]("docname")+J.$outfilesuffix())):q(v)&&(D=J.$normalize_system_path(v,d,z,p(["target_name","recover"],{target_name:"to_dir",recover:!1})),x=m("::","File").$dirname(D)),
q(q(e=m("::","File")["$==="](c))?D["$=="](m("::","File").$absolute_path(c.$path())):e)&&this.$raise(m("::","IOError"),"input file and output file cannot be the same: "+D),q(S)?g(f,"Helpers").$mkdir_p(x):q(m("::","File")["$directory?"](x))||this.$raise(m("::","IOError"),"target directory does not exist: "+Q+" (hint: set :mkdirs option)")):(D=v,x=l);c=q(q(e=D)?w["$!"]():e)?J.$convert(p(["outfile","outdir"],{outfile:D,outdir:x})):J.$convert();return q(D)?(J.$write(c,D),q(w=w["$!"]())&&(w=J.$safe(),D=
m(g(f,"SafeMode"),"SECURE"),w="number"===typeof w&&"number"===typeof D?w<D:w["$<"](D)),q(q(e=q(k=q(n=q(r=w)?J["$attr?"]("linkcss"):r)?J["$attr?"]("copycss"):n)?J["$basebackend?"]("html"):k)?(q(k=E=J.$attr("stylesdir"))?g(f,"Helpers")["$uriish?"](E):k)["$!"]():e)&&(q(B=J.$attr("stylesheet"))&&(q(g(f,"DEFAULT_STYLESHEET_KEYS")["$include?"](B))?C=!0:q(g(f,"Helpers")["$uriish?"](B)["$!"]())&&(H=!0)),n=q(e=F=J.$syntax_highlighter())?F["$write_stylesheet?"](J):e,q(q(e=q(k=C)?k:H)?e:n)&&(k=J.$normalize_system_path(E,
x,q(h(J.$safe(),m(g(f,"SafeMode"),"SAFE")))?x:l),q(S)?g(f,"Helpers").$mkdir_p(k):q(m("::","File")["$directory?"](k))||this.$raise(m("::","IOError"),"target stylesheet directory does not exist: "+k+" (hint: set :mkdirs option)"),q(C)?g(f,"Stylesheets").$instance().$write_primary_stylesheet(k):q(H)&&(G=q((G=J.$attr("copycss"))["$empty?"]())?J.$normalize_system_path(B):J.$normalize_system_path(G),S=J.$normalize_system_path(B,k,q(h(J.$safe(),m(g(f,"SafeMode"),"SAFE")))?x:l),q(q(e=G["$!="](S))?I=J.$read_asset(G,
p(["warn_on_failure","label"],{warn_on_failure:m("::","File")["$file?"](S)["$!"](),label:"stylesheet"})):e)&&m("::","File").$write(S,I,p(["mode"],{mode:g(f,"FILE_WRITE_MODE")}))),q(n)&&F.$write_stylesheet(J,k))),J):c},e.$$arity=-2);a.def(d,"$convert_file",n=function(a,b){var c;null==b&&(b=p([],{}));return t(m("::","File"),"open",[a,g(f,"FILE_READ_MODE")],(c=function(a){var d=c.$$s||this;null==a&&(a=l);return d.$convert(a,b)},c.$$s=this,c.$$arity=1,c))},n.$$arity=-2);a.alias(d,"render","convert");
d.$module_function("render");a.alias(d,"render_file","convert_file");d.$module_function("render_file")}(k[0],k)};Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(a){var b=[],h=a.nil,k=a.const_get_qualified,l=a.const_get_relative,m=a.module,g=a.klass,c=a.send,p=a.hash2,q=a.truthy;a.add_stubs("$register_for $merge $proc $[]= $- $== $attr $[] $attr? $join $map $split $lstrip".split(" "));return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=g(b,$super,"HighlightJsAdapter");
var e=[b].concat(d),k,n,m,r;b.$register_for("highlightjs","highlight.js");a.def(b,"$initialize",k=function(b){var d=k.$$p,e;d&&(k.$$p=null);var g=0;var h=arguments.length;for(e=Array(h);g<h;g++)e[g]=arguments[g];a.slice.call(arguments,0,arguments.length);c(this,a.find_super_dispatcher(this,"initialize",k,!1),e,d);return this.name=this.pre_class="highlightjs"},k.$$arity=-1);a.def(b,"$format",n=function(b,d,e){var g;n.$$p&&(n.$$p=null);return c(this,a.find_super_dispatcher(this,"format",n,!1),[b,d,
e.$merge(p(["transform"],{transform:c(this,"proc",[],(g=function(b,e){null==e&&(e=h);b=["class","language-"+(q(d)?d:"none")+" hljs"];c(e,"[]=",a.to_a(b));e=b.length;e="number"===typeof e?e-1:e["$-"](1);return b[e]},g.$$s=this,g.$$arity=2,g))}))],null)},n.$$arity=3);a.def(b,"$docinfo?",m=function(a){return a["$=="]("footer")},m.$$arity=1);return(a.def(b,"$docinfo",r=function(a,b,d){var g,k=this,n=h;n=b.$attr("highlightjsdir",""+d["$[]"]("cdn_base_url")+"/highlight.js/"+l(e,"HIGHLIGHT_JS_VERSION"));
return'<link rel="stylesheet" href="'+n+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+d["$[]"]("self_closing_tag_slash")+'>\n<script src="'+n+'/highlight.min.js">\x3c/script>\n'+function(){return q(b["$attr?"]("highlightjs-languages"))?c(b.$attr("highlightjs-languages").$split(","),"map",[],(g=function(a){null==a&&(a=h);return'<script src="'+n+"/languages/"+a.$lstrip()+'.min.js">\x3c/script>\n'},g.$$s=k,g.$$arity=1,g)).$join():""}()+"<script>hljs.initHighlighting()\x3c/script>"},r.$$arity=
3),h)&&"docinfo"})(l(b,"SyntaxHighlighter"),k(l(b,"SyntaxHighlighter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/syntax_highlighter"]=function(a){var b=a.top,h=[],k=a.nil,l=a.const_get_qualified,m=a.const_get_relative,g=a.module,c=a.hash2,p=a.truthy,q=a.send,t=a.klass;a.add_stubs("$attr_reader $raise $class $private_class_method $extend $register $each $[]= $registry $- $[] $for $=== $new $name $private $include $== $join $map $content".split(" "));(function(b,d){b=[g(b,"Asciidoctor")].concat(d);
(function(b,d){b=g(b,"SyntaxHighlighter");var e=[b].concat(d),f,h,n,r,w,u,v,z,x,y;b.$attr_reader("name");a.def(b,"$initialize",f=function(a,b,d){null==d&&c([],{});return this.name=this.pre_class=a},f.$$arity=-2);a.def(b,"$docinfo?",h=function(a){return k},h.$$arity=1);a.def(b,"$docinfo",n=function(a){return this.$raise(l("::","NotImplementedError"),""+m(e,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")},n.$$arity=1);a.def(b,"$highlight?",
r=function(){return k},r.$$arity=0);a.def(b,"$highlight",w=function(a,b,c,d){return this.$raise(l("::","NotImplementedError"),""+m(e,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")},w.$$arity=4);a.def(b,"$format",u=function(a,b,c){return this.$raise(l("::","NotImplementedError"),""+m(e,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")},u.$$arity=3);a.def(b,"$write_stylesheet?",v=function(a){return k},
v.$$arity=1);a.def(b,"$write_stylesheet",z=function(a,b){return this.$raise(l("::","NotImplementedError"),""+m(e,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},z.$$arity=2);b.$private_class_method(p(x=(a.defs(b,"$included",y=function(a){return a.$extend(m(e,"Config"))},y.$$arity=1),k)&&"included")?x:"included");(function(b,c){b=g(b,"Config");var d=[b].concat(c),e;a.def(b,"$register_for",e=function(b){var c=a.slice.call(arguments,
0,arguments.length);return q(m(d,"SyntaxHighlighter"),"register",[this].concat(a.to_a(c)))},e.$$arity=-1)})(e[0],e);(function(b,d){b=g(b,"Factory");var e=[b].concat(d),f,h,n,r;a.def(b,"$register",f=function(b,c){var d;var e=a.slice.call(arguments,1,arguments.length);return q(e,"each",[],(d=function(c){var e=d.$$s||this;null==c&&(c=k);c=[c,b];q(e.$registry(),"[]=",a.to_a(c));e=c.length;e="number"===typeof e?e-1:e["$-"](1);return c[e]},d.$$s=this,d.$$arity=1,d))},f.$$arity=-2);a.def(b,"$for",h=function(a){return this.$registry()["$[]"](a)},
h.$$arity=1);a.def(b,"$create",n=function(a,b,d){var e;null==b&&(b="html5");null==d&&(d=c([],{}));return p(e=this.$for(a))?(p(l("::","Class")["$==="](e))&&(e=e.$new(a,b,d)),p(e.$name())||this.$raise(l("::","NameError"),""+e.$class()+" must specify a value for `name'"),e):k},n.$$arity=-2);b.$private();a.def(b,"$registry",r=function(){return this.$raise(l("::","NotImplementedError"),""+m(e,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},r.$$arity=0)})(e[0],e);(function(b,
$super,d){b=t(b,$super,"CustomFactory");d=[b].concat(d);var e,f;b.$$prototype.registry=k;b.$include(m(d,"Factory"));a.def(b,"$initialize",e=function(a){var b;null==a&&(a=k);return this.registry=p(b=a)?b:c([],{})},e.$$arity=-1);b.$private();return(a.def(b,"$registry",f=function(){return this.registry},f.$$arity=0),k)&&"registry"})(e[0],null,e);(function(b,d){b=g(b,"DefaultFactory");var e=[b].concat(d),f;b.$include(m(e,"Factory"));b.$private();a.class_variable_set(e[0],"@@registry",c([],{}));a.def(b,
"$registry",f=function(){var a;return null==(a=e[0].$$cvars["@@registry"])?k:a},f.$$arity=0);m(e,"RUBY_ENGINE")["$=="]("opal")||k})(e[0],e);(function(a,$super,b){a=t(a,$super,"DefaultFactoryProxy");b=[a].concat(b);a.$include(m(b,"DefaultFactory"));m(b,"RUBY_ENGINE")["$=="]("opal");return k})(e[0],m(e,"CustomFactory"),e);(function(b,$super,d){b=t(b,$super,"Base");d=[b].concat(d);var e;b.$$prototype.pre_class=k;b.$include(m(d,"SyntaxHighlighter"));return(a.def(b,"$format",e=function(a,b,d){var e,f,
g=k,h=k,l=g=k;g=p(d["$[]"]("nowrap"))?""+this.pre_class+" highlight nowrap":""+this.pre_class+" highlight";return p(h=d["$[]"]("transform"))?(g=c(["class"],{"class":g}),l=p(b)?c(["data-lang"],{"data-lang":b}):c([],{}),h["$[]"](g,l),"<pre"+q(g,"map",[],(e=function(a,b){null==a&&(a=k);null==b&&(b=k);return" "+a+'="'+b+'"'},e.$$s=this,e.$$arity=2,e)).$join()+"><code"+q(l,"map",[],(f=function(a,b){null==a&&(a=k);null==b&&(b=k);return" "+a+'="'+b+'"'},f.$$s=this,f.$$arity=2,f)).$join()+">"+a.$content()+
"</code></pre>"):'<pre class="'+g+'"><code'+(p(b)?' data-lang="'+b+'"':"")+">"+a.$content()+"</code></pre>"},e.$$arity=3),k)&&"format"})(e[0],null,e);b.$extend(m(e,"DefaultFactory"))})(b[0],b)})(h[0],h);b.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs");m(h,"RUBY_ENGINE")["$=="]("opal");return k};Opal.modules["asciidoctor/timings"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=[],k=a.nil,l=a.const_get_qualified,m=a.const_get_relative,
g=a.module,c=a.klass,p=a.hash2,q=a.send,t=a.truthy,w=a.gvars;a.add_stubs("$now $[]= $- $delete $reduce $+ $[] $> $time $puts $% $to_f $read_parse $convert $read_parse_convert $private $const_defined? $== $clock_gettime".split(" "));return function(d,f){d=[g(d,"Asciidoctor")].concat(f);(function(d,$super,f){d=c(d,$super,"Timings");var e=[d].concat(f),g,h,n,r,v,z,x,y,D,E,B,C,H,F,G,I,J,Q,S;d.$$prototype.timers=d.$$prototype.log=k;a.def(d,"$initialize",g=function(){this.log=p([],{});return this.timers=
p([],{})},g.$$arity=0);a.def(d,"$start",h=function(c){c=[c,this.$now()];q(this.timers,"[]=",a.to_a(c));return c[b(c.length,1)]},h.$$arity=1);a.def(d,"$record",n=function(c){c=[c,b(this.$now(),this.timers.$delete(c))];q(this.log,"[]=",a.to_a(c));return c[b(c.length,1)]},n.$$arity=1);a.def(d,"$time",r=function(b){var c;var d=k;d=a.slice.call(arguments,0,arguments.length);d=q(d,"reduce",[0],(c=function(a,b){var d=c.$$s||this,e;null==d.log&&(d.log=k);null==a&&(a=k);null==b&&(b=k);b=t(e=d.log["$[]"](b))?
e:0;return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)},c.$$s=this,c.$$arity=2,c));return t("number"===typeof d?0<d:d["$>"](0))?d:k},r.$$arity=-1);a.def(d,"$read",v=function(){return this.$time("read")},v.$$arity=0);a.def(d,"$parse",z=function(){return this.$time("parse")},z.$$arity=0);a.def(d,"$read_parse",x=function(){return this.$time("read","parse")},x.$$arity=0);a.def(d,"$convert",y=function(){return this.$time("convert")},y.$$arity=0);a.def(d,"$read_parse_convert",D=function(){return this.$time("read",
"parse","convert")},D.$$arity=0);a.def(d,"$write",E=function(){return this.$time("write")},E.$$arity=0);a.def(d,"$total",B=function(){return this.$time("read","parse","convert","write")},B.$$arity=0);a.def(d,"$print_report",C=function(a,b){null==w.stdout&&(w.stdout=k);null==a&&(a=w.stdout);null==b&&(b=k);t(b)&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));
return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},C.$$arity=-1);d.$private();return t(t(H=l("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((F=l("::","Process","skip_raise"))&&(G=F,G)&&(I=G)&&((J=I.$clock_gettime)&&!J.$$stub||I["$respond_to_missing?"]("clock_gettime"))?"method":k)["$=="]("method"):H)?(a.const_set(e[0],"CLOCK_ID",l(l("::","Process"),"CLOCK_MONOTONIC")),(a.def(d,"$now",Q=function(){return l("::","Process").$clock_gettime(m(e,
"CLOCK_ID"))},Q.$$arity=0),k)&&"now"):(a.def(d,"$now",S=function(){return l("::","Time").$now()},S.$$arity=0),k)&&"now"})(d[0],null,d)}(h[0],h)};Opal.modules["asciidoctor/converter/composite"]=function(a){var b=[],h=a.nil,k=a.const_get_qualified,l=a.const_get_relative,m=a.module,g=a.klass,c=a.hash2,p=a.send,q=a.truthy;a.add_stubs("$attr_reader $each $respond_to? $composed $init_backend_traits $backend_traits $new $find_converter $[]= $- $convert $converter_for $node_name $[] $handles? $raise".split(" "));
return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=g(b,$super,"CompositeConverter");[b].concat(d);var e,l,n,m;b.$$prototype.converter_cache=b.$$prototype.converters=h;b.$attr_reader("converters");a.def(b,"$initialize",e=function(b,d,e){var g,l;var n=a.slice.call(arguments,1,arguments.length);var m=a.extract_kwargs(n);if(null==m)m=c([],{});else if(!m.$$is_hash)throw a.ArgumentError.$new("expected kwargs");m=m.$$smap.backend_traits_source;null==m&&(m=h);this.backend=b;p(this.converters=
n,"each",[],(g=function(a){var b=g.$$s||this;null==a&&(a=h);return q(a["$respond_to?"]("composed"))?a.$composed(b):h},g.$$s=this,g.$$arity=1,g));q(m)&&this.$init_backend_traits(m.$backend_traits());return this.converter_cache=p(k("::","Hash"),"new",[],(l=function(b,c){var d=l.$$s||this;null==b&&(b=h);null==c&&(c=h);c=[c,d.$find_converter(c)];p(b,"[]=",a.to_a(c));b=c.length;b="number"===typeof b?b-1:b["$-"](1);return c[b]},l.$$s=this,l.$$arity=2,l))},e.$$arity=-2);a.def(b,"$convert",l=function(a,b,
c){var d;null==b&&(b=h);null==c&&(c=h);return this.$converter_for(b=q(d=b)?d:a.$node_name()).$convert(a,b,c)},l.$$arity=-2);a.def(b,"$converter_for",n=function(a){return this.converter_cache["$[]"](a)},n.$$arity=1);return(a.def(b,"$find_converter",m=function(b){try{var c;p(this.converters,"each",[],(c=function(c){null==c&&(c=h);if(q(c["$handles?"](b)))a.ret(c);else return h},c.$$s=this,c.$$arity=1,c));return this.$raise("Could not find a converter to handle transform: "+b)}catch(u){if(u===a.returner)return u.$v;
throw u;}},m.$$arity=1),h)&&"find_converter"})(l(b,"Converter"),k(l(b,"Converter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function m(a,b){return"number"===
typeof a&&"number"===typeof b?a<b:a["$<"](b)}var g=[],c=a.nil,p=a.const_get_qualified,q=a.const_get_relative,t=a.module,w=a.klass,n=a.send,f=a.hash2,e=a.truthy,v=a.gvars;a.add_stubs("$register_for $default= $- $== $[] $init_backend_traits $node_name $convert_inline_quoted $convert_paragraph $convert_inline_anchor $convert_section $convert_listing $convert_literal $convert_ulist $convert_olist $convert_dlist $convert_admonition $convert_colist $convert_embedded $convert_example $convert_floating_title $convert_image $convert_inline_break $convert_inline_button $convert_inline_callout $convert_inline_footnote $convert_inline_image $convert_inline_indexterm $convert_inline_kbd $convert_inline_menu $convert_open $convert_page_break $convert_preamble $convert_quote $convert_sidebar $convert_stem $convert_table $convert_thematic_break $convert_verse $convert_video $convert_document $convert_toc $convert_pass $convert_audio $empty? $attr $attr? $<< $include? $sub_replacements $gsub $extname $slice $length $doctitle $normalize_web_path $primary_stylesheet_data $instance $read_asset $normalize_system_path $syntax_highlighter $docinfo? $docinfo $id $sections? $doctype $role? $role $join $noheader $convert_outline $generate_manname_section $header? $notitle $title $header $each $authors $> $name $email $sub_macros $+ $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $to_i $attributes $document $sections $level $caption $captioned_title $numbered $<= $< $sectname $sectnum $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $=== $text? $chomp $safe $read_svg_contents $alt $image_uri $encode_attribute_value $append_link_constraint_attrs $highlight? $to_sym $[]= $format $* $count $start_with? $end_with? $list_marker_keyword $parent $warn $logger $context $error $new $size $columns $to_h $rows $colspan $rowspan $unshift $shift $pop $split $nil_or_empty? $type $catalog $xreftext $target $reftext $map $chop $read_contents $sub $match $private $upcase $to_s $handles? $send".split(" "));
return function(d,g){d=[t(d,"Asciidoctor")].concat(g);(function(d,$super,g){d=w(d,$super,"Html5Converter");var r=[d].concat(g),t,z,x,y,D,B,C,E,H,F,G,L,I,J,Q,S,O,P,T,V,X,Y,na,ba,ka,Ja,Fa,Ka,ea,ra,ha,va,Ba,la,Ma,Da,Na,La,Pa,Oa,Ga,Qa,Wa,Ua,Sa;g=c;d.$$prototype.void_element_slash=d.$$prototype.xml_mode=d.$$prototype.refs=c;d.$register_for("html5");g=[["",""]];n(a.const_set(r[0],"QUOTE_TAGS",f("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),{monospaced:["<code>",
"</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",a.to_a(g));g[b(g.length,1)];a.const_set(r[0],"DropAnchorRx",/<(?:a[^>+]+|\/a)>/);a.const_set(r[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/);a.const_set(r[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m);a.const_set(r[0],
"SvgStartTagRx",/^<svg[^>]*>/);a.const_set(r[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.def(d,"$initialize",t=function(a,b){null==b&&(b=f([],{}));this.backend=a;b["$[]"]("htmlsyntax")["$=="]("xml")?(a="xml",this.xml_mode=!0,this.void_element_slash="/"):(a="html",this.xml_mode=c,this.void_element_slash="");return this.$init_backend_traits(f(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:a,outfilesuffix:".html",
supports_templates:!0}))},t.$$arity=-2);a.def(d,"$convert",z=function(b,d,e){var f=z.$$p,g;f&&(z.$$p=null);var h=0;var k=arguments.length;for(g=Array(k);h<k;h++)g[h]=arguments[h];null==d&&(d=b.$node_name());null==e&&(e=c);return d["$=="]("inline_quoted")?this.$convert_inline_quoted(b):d["$=="]("paragraph")?this.$convert_paragraph(b):d["$=="]("inline_anchor")?this.$convert_inline_anchor(b):d["$=="]("section")?this.$convert_section(b):d["$=="]("listing")?this.$convert_listing(b):d["$=="]("literal")?
this.$convert_literal(b):d["$=="]("ulist")?this.$convert_ulist(b):d["$=="]("olist")?this.$convert_olist(b):d["$=="]("dlist")?this.$convert_dlist(b):d["$=="]("admonition")?this.$convert_admonition(b):d["$=="]("colist")?this.$convert_colist(b):d["$=="]("embedded")?this.$convert_embedded(b):d["$=="]("example")?this.$convert_example(b):d["$=="]("floating_title")?this.$convert_floating_title(b):d["$=="]("image")?this.$convert_image(b):d["$=="]("inline_break")?this.$convert_inline_break(b):d["$=="]("inline_button")?
this.$convert_inline_button(b):d["$=="]("inline_callout")?this.$convert_inline_callout(b):d["$=="]("inline_footnote")?this.$convert_inline_footnote(b):d["$=="]("inline_image")?this.$convert_inline_image(b):d["$=="]("inline_indexterm")?this.$convert_inline_indexterm(b):d["$=="]("inline_kbd")?this.$convert_inline_kbd(b):d["$=="]("inline_menu")?this.$convert_inline_menu(b):d["$=="]("open")?this.$convert_open(b):d["$=="]("page_break")?this.$convert_page_break(b):d["$=="]("preamble")?this.$convert_preamble(b):
d["$=="]("quote")?this.$convert_quote(b):d["$=="]("sidebar")?this.$convert_sidebar(b):d["$=="]("stem")?this.$convert_stem(b):d["$=="]("table")?this.$convert_table(b):d["$=="]("thematic_break")?this.$convert_thematic_break(b):d["$=="]("verse")?this.$convert_verse(b):d["$=="]("video")?this.$convert_video(b):d["$=="]("document")?this.$convert_document(b):d["$=="]("toc")?this.$convert_toc(b):d["$=="]("pass")?this.$convert_pass(b):d["$=="]("audio")?this.$convert_audio(b):n(this,a.find_super_dispatcher(this,
"convert",z,!1),g,f)},z.$$arity=-2);a.def(d,"$convert_document",x=function(a){var b,d,g,l,m,p=c,A=c,u=c,t=c,w=c,v=c,z=c,x=c,y=z=c,D=c,B=z=z=c,C=z=y=y=c,E=c,H=c;A=A=c;p="<br"+(A=this.void_element_slash)+">";e((u=a.$attr("asset-uri-scheme","https"))["$empty?"]())||(u=""+u+":");t=""+u+"//cdnjs.cloudflare.com/ajax/libs";w=a["$attr?"]("linkcss");v=["<!DOCTYPE html>"];z=e(a["$attr?"]("nolang"))?"":' lang="'+a.$attr("lang","en")+'"';v["$<<"]("<html"+(e(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':
"")+z+">");v["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+A+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+A+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+A+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+A+">");if(e(a["$attr?"]("app-name")))v["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+A+">");if(e(a["$attr?"]("description")))v["$<<"]('<meta name="description" content="'+a.$attr("description")+
'"'+A+">");if(e(a["$attr?"]("keywords")))v["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+A+">");if(e(a["$attr?"]("authors")))v["$<<"]('<meta name="author" content="'+(e((x=a.$sub_replacements(a.$attr("authors")))["$include?"]("<"))?x.$gsub(q(r,"XmlSanitizeRx"),""):x)+'"'+A+">");if(e(a["$attr?"]("copyright")))v["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+A+">");e(a["$attr?"]("favicon"))&&(e((z=a.$attr("favicon"))["$empty?"]())?(z="favicon.ico",y="image/x-icon"):
y=e(D=q(r,"Helpers").$extname(z,c))?D["$=="](".ico")?"image/x-icon":"image/"+D.$slice(1,D.$length()):"image/x-icon",v["$<<"]('<link rel="icon" type="'+y+'" href="'+z+'"'+A+">"));v["$<<"]("<title>"+a.$doctitle(f(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if(e(q(r,"DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))){if(e(z=a.$attr("webfonts")))v["$<<"]('<link rel="stylesheet" href="'+u+"//fonts.googleapis.com/css?family="+(e(z["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":
z)+'"'+A+">");if(e(w))v["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(q(r,"DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+A+">");else v["$<<"]("<style>\n"+q(r,"Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")}else if(e(a["$attr?"]("stylesheet")))if(e(w))v["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+A+">");else v["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),
a.$attr("stylesdir","")),f(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(e(a["$attr?"]("icons","font")))if(e(a["$attr?"]("iconfont-remote")))v["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+t+"/font-awesome/"+q(r,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+A+">");else z=""+a.$attr("iconfont-name","font-awesome")+".css",v["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(z,a.$attr("stylesdir",""),!1)+'"'+A+">");if(e(e(b=
B=a.$syntax_highlighter())?B["$docinfo?"]("head"):b))v["$<<"](B.$docinfo("head",a,f(["linkcss"],{linkcss:w})));if(!e((y=a.$docinfo())["$empty?"]()))v["$<<"](y);v["$<<"]("</head>");y=e(a.$id())?['id="'+a.$id()+'"']:[];C=e(e(b=e(d=e(g=z=a["$sections?"]())?a["$attr?"]("toc-class"):g)?a["$attr?"]("toc"):d)?a["$attr?"]("toc-placement","auto"):b)?[a.$doctype(),a.$attr("toc-class"),"toc-"+a.$attr("toc-position","header")]:[a.$doctype()];if(e(a["$role?"]()))C["$<<"](a.$role());y["$<<"]('class="'+C.$join(" ")+
'"');if(e(a["$attr?"]("max-width")))y["$<<"]('style="max-width: '+a.$attr("max-width")+';"');v["$<<"]("<body "+y.$join(" ")+">");if(!e((y=a.$docinfo("header"))["$empty?"]()))v["$<<"](y);if(!e(a.$noheader())){v["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){v["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if(e(e(b=e(d=z)?a["$attr?"]("toc"):d)?a["$attr?"]("toc-placement","auto"):b))v["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+
"</div>\n"+this.$convert_outline(a)+"\n</div>");if(e(a["$attr?"]("manpurpose")))v["$<<"](this.$generate_manname_section(a))}else{if(e(a["$header?"]())){if(!e(a.$notitle()))v["$<<"]("<h1>"+a.$header().$title()+"</h1>");E=[];H=1;n(a.$authors(),"each",[],(l=function(b){null==b&&(b=c);E["$<<"]('<span id="author'+(e(h(H,1))?H:"")+'" class="author">'+a.$sub_replacements(b.$name())+"</span>"+p);if(e(b.$email()))E["$<<"]('<span id="email'+(e(h(H,1))?H:"")+'" class="email">'+a.$sub_macros(b.$email())+"</span>"+
p);return H=k(H,1)},l.$$s=this,l.$$arity=1,l));if(e(a["$attr?"]("revnumber")))E["$<<"]('<span id="revnumber">'+(e(b=a.$attr("version-label"))?b:"").$downcase()+" "+a.$attr("revnumber")+(e(a["$attr?"]("revdate"))?",":"")+"</span>");if(e(a["$attr?"]("revdate")))E["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if(e(a["$attr?"]("revremark")))E["$<<"](""+p+'<span id="revremark">'+a.$attr("revremark")+"</span>");e(E["$empty?"]())||(v["$<<"]('<div class="details">'),v.$concat(E),v["$<<"]("</div>"))}if(e(e(b=
e(d=z)?a["$attr?"]("toc"):d)?a["$attr?"]("toc-placement","auto"):b))v["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$convert_outline(a)+"\n</div>")}v["$<<"]("</div>")}v["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");e(e(b=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(v["$<<"]('<div id="footnotes">\n<hr'+A+">"),n(a.$footnotes(),"each",[],(m=function(a){null==a&&(a=c);return v["$<<"]('<div class="footnote" id="_footnotedef_'+
a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},m.$$s=this,m.$$arity=1,m)),v["$<<"]("</div>"));if(!e(a.$nofooter())){v["$<<"]('<div id="footer">');v["$<<"]('<div id="footer-text">');if(e(a["$attr?"]("revnumber")))v["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+p);if(e(e(b=a["$attr?"]("last-update-label"))?a["$attr?"]("reproducible")["$!"]():b))v["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));v["$<<"]("</div>");v["$<<"]("</div>")}if(e(e(b=
B)?B["$docinfo?"]("footer"):b))v["$<<"](B.$docinfo("footer",a,f(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:t,linkcss:w,self_closing_tag_slash:A})));e(a["$attr?"]("stem"))&&(A=a.$attr("eqnums","none"),e(A["$empty?"]())&&(A="AMS"),A=' equationNumbers: { autoNumber: "'+A+'" } ',v["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+q(r,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+
q(r,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+q(r,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+A+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains(\'stemblock\')) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n\x3c/script>\n<script src="'+
t+"/mathjax/"+q(r,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));if(!e((y=a.$docinfo("footer"))["$empty?"]()))v["$<<"](y);v["$<<"]("</body>");v["$<<"]("</html>");return v.$join(q(r,"LF"))},x.$$arity=1);a.def(d,"$convert_embedded",y=function(a){var b,d,f,g,h=c,k=c,l=c;h=[];if(a.$doctype()["$=="]("manpage")){if(e(a.$notitle())||(k=e(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$doctitle()+" Manual Page</h1>")),e(a["$attr?"]("manpurpose")))h["$<<"](this.$generate_manname_section(a))}else e(e(b=
a["$header?"]())?a.$notitle()["$!"]():b)&&(k=e(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$header().$title()+"</h1>"));if(e(e(b=e(d=e(f=a["$sections?"]())?a["$attr?"]("toc"):f)?(l=a.$attr("toc-placement"))["$!="]("macro"):d)?l["$!="]("preamble"):b))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$convert_outline(a)+"\n</div>");h["$<<"](a.$content());e(e(b=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(h["$<<"]('<div id="footnotes">\n<hr'+
this.void_element_slash+">"),n(a.$footnotes(),"each",[],(g=function(a){null==a&&(a=c);return h["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),h["$<<"]("</div>"));return h.$join(q(r,"LF"))},y.$$arity=1);a.def(d,"$convert_outline",D=function(a,b){var d,g,h,k=c,p=c,u=c,A=c;null==b&&(b=f([],{}));if(!e(a["$sections?"]()))return c;k=e(d=b["$[]"]("sectnumlevels"))?d:(e(g=a.$document().$attributes()["$[]"]("sectnumlevels"))?
g:3).$to_i();p=e(d=b["$[]"]("toclevels"))?d:(e(g=a.$document().$attributes()["$[]"]("toclevels"))?g:2).$to_i();u=a.$sections();A=['<ul class="sectlevel'+u["$[]"](0).$level()+'">'];n(u,"each",[],(h=function(b){var d=h.$$s||this,g,n=c,u=c;null==b&&(b=c);var t=b.$level();var v=e(b.$caption())?b.$captioned_title():e(e(g=b.$numbered())?l(t,k):g)?e(e(g=m(t,2))?a.$document().$doctype()["$=="]("book"):g)?b.$sectname()["$=="]("chapter")?(e(n=a.$document().$attributes()["$[]"]("chapter-signifier"))?""+n+" ":
"")+b.$sectnum()+" "+b.$title():b.$sectname()["$=="]("part")?(e(n=a.$document().$attributes()["$[]"]("part-signifier"))?""+n+" ":"")+b.$sectnum(c,":")+" "+b.$title():""+b.$sectnum()+" "+b.$title():""+b.$sectnum()+" "+b.$title():b.$title();e(v["$include?"]("<a"))&&(v=v.$gsub(q(r,"DropAnchorRx"),""));return e(e(g=m(t,p))?u=d.$convert_outline(b,f(["toclevels","sectnumlevels"],{toclevels:p,sectnumlevels:k})):g)?(A["$<<"]('<li><a href="#'+b.$id()+'">'+v+"</a>"),A["$<<"](u),A["$<<"]("</li>")):A["$<<"]('<li><a href="#'+
b.$id()+'">'+v+"</a></li>")},h.$$s=this,h.$$arity=1,h));A["$<<"]("</ul>");return A.$join(q(r,"LF"))},D.$$arity=-2);a.def(d,"$convert_section",B=function(a){var b,d,f=c,g=c;var h=a.$document().$attributes();var n=a.$level();var p=e(a.$caption())?a.$captioned_title():e(e(b=a.$numbered())?l(n,(e(d=h["$[]"]("sectnumlevels"))?d:3).$to_i()):b)?e(e(b=m(n,2))?a.$document().$doctype()["$=="]("book"):b)?a.$sectname()["$=="]("chapter")?(e(f=h["$[]"]("chapter-signifier"))?""+f+" ":"")+a.$sectnum()+" "+a.$title():
a.$sectname()["$=="]("part")?(e(f=h["$[]"]("part-signifier"))?""+f+" ":"")+a.$sectnum(c,":")+" "+a.$title():""+a.$sectnum()+" "+a.$title():""+a.$sectnum()+" "+a.$title():a.$title();e(a.$id())?(b=' id="'+(d=a.$id())+'"',e(h["$[]"]("sectlinks"))&&(p='<a class="link" href="#'+d+'">'+p+"</a>"),e(h["$[]"]("sectanchors"))&&(p=h["$[]"]("sectanchors")["$=="]("after")?""+p+'<a class="anchor" href="#'+d+'"></a>':'<a class="anchor" href="#'+d+'"></a>'+p)):b="";return n["$=="](0)?"<h1"+b+' class="sect0'+(e(g=
a.$role())?" "+g:"")+'">'+p+"</h1>\n"+a.$content():'<div class="sect'+n+(e(g=a.$role())?" "+g:"")+'">\n<h'+k(n,1)+b+">"+p+"</h"+k(n,1)+">\n"+(n["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},B.$$arity=1);a.def(d,"$convert_admonition",C=function(a){var b,d=c;var f=e(a.$id())?' id="'+a.$id()+'"':"";var g=a.$attr("name");var h=e(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var k=e(a.$document()["$attr?"]("icons"))?e(e(b=a.$document()["$attr?"]("icons",
"font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+g+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(g)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+f+' class="admonitionblock '+g+(e(d=a.$role())?" "+d:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+k+'\n</td>\n<td class="content">\n'+h+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},C.$$arity=1);a.def(d,"$convert_audio",E=function(a){var b;
var c=this.xml_mode;var d=e(a.$id())?' id="'+a.$id()+'"':"";var f=' class="'+["audioblock",a.$role()].$compact().$join(" ")+'"';var g=e(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var h=a.$attr("start");var k=a.$attr("end");h=e(e(b=h)?b:k)?"#t="+(e(b=h)?b:"")+(e(k)?","+k:""):"";return"<div"+d+f+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+h+'"'+(e(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",c):"")+(e(a["$option?"]("nocontrols"))?
"":this.$append_boolean_attribute("controls",c))+(e(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},E.$$arity=1);a.def(d,"$convert_colist",H=function(a){var b,d=c,f=c,g=c,h=g=c,l=c;d=[];f=e(a.$id())?' id="'+a.$id()+'"':"";g=["colist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';d["$<<"]("<div"+f+g+">");if(e(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");if(e(a.$document()["$attr?"]("icons"))){d["$<<"]("<table>");
var m=[a.$document()["$attr?"]("icons","font"),0];h=m[0];l=m[1];m;n(a.$items(),"each",[],(b=function(f){var g=b.$$s||this;null==g.void_element_slash&&(g.void_element_slash=c);null==f&&(f=c);l=k(l,1);g=e(h)?'<i class="conum" data-value="'+l+'"></i><b>'+l+"</b>":'<img src="'+a.$icon_uri("callouts/"+l)+'" alt="'+l+'"'+g.void_element_slash+">";return d["$<<"]("<tr>\n<td>"+g+"</td>\n<td>"+f.$text()+(e(f["$blocks?"]())?k(q(r,"LF"),f.$content()):"")+"</td>\n</tr>")},b.$$s=this,b.$$arity=1,b));d["$<<"]("</table>")}else d["$<<"]("<ol>"),
n(a.$items(),"each",[],(m=function(a){null==a&&(a=c);return d["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(e(a["$blocks?"]())?k(q(r,"LF"),a.$content()):"")+"\n</li>")},m.$$s=this,m.$$arity=1,m)),d["$<<"]("</ol>");d["$<<"]("</div>");return d.$join(q(r,"LF"))},H.$$arity=1);a.def(d,"$convert_dlist",F=function(a){var b,d,f,g,h=c,k=c,l=c,m=l=l=c,p=k=c;h=[];k=e(a.$id())?' id="'+a.$id()+'"':"";l=a.$style();l=("qanda"["$==="](l)?["qlist","qanda",a.$role()]:"horizontal"["$==="](l)?["hdlist",a.$role()]:["dlist",a.$style(),
a.$role()]).$compact();l=' class="'+l.$join(" ")+'"';h["$<<"]("<div"+k+l+">");if(e(a["$title?"]()))h["$<<"]('<div class="title">'+a.$title()+"</div>");l=a.$style();"qanda"["$==="](l)?(h["$<<"]("<ol>"),n(a.$items(),"each",[],(b=function(a,d){var f=b.$$s||this,g;null==a&&(a=c);null==d&&(d=c);h["$<<"]("<li>");n(a,"each",[],(g=function(a){null==a&&(a=c);return h["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=f,g.$$arity=1,g));if(e(d)){if(e(d["$text?"]()))h["$<<"]("<p>"+d.$text()+"</p>");if(e(d["$blocks?"]()))h["$<<"](d.$content())}return h["$<<"]("</li>")},
b.$$s=this,b.$$arity=2,b)),h["$<<"]("</ol>")):"horizontal"["$==="](l)?(m=this.void_element_slash,h["$<<"]("<table>"),e(e(d=a["$attr?"]("labelwidth"))?d:a["$attr?"]("itemwidth"))&&(h["$<<"]("<colgroup>"),k=e(a["$attr?"]("labelwidth"))?' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+k+m+">"),k=e(a["$attr?"]("itemwidth"))?' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+k+m+">"),h["$<<"]("</colgroup>")),n(a.$items(),"each",[],(f=function(b,d){var g=
f.$$s||this,k,l=c;null==b&&(b=c);null==d&&(d=c);h["$<<"]("<tr>");h["$<<"]('<td class="hdlist1'+(e(a["$option?"]("strong"))?" strong":"")+'">');l=!0;n(b,"each",[],(k=function(a){null==a&&(a=c);if(!e(l))h["$<<"]("<br"+m+">");h["$<<"](a.$text());return l=c},k.$$s=g,k.$$arity=1,k));h["$<<"]("</td>");h["$<<"]('<td class="hdlist2">');if(e(d)){if(e(d["$text?"]()))h["$<<"]("<p>"+d.$text()+"</p>");if(e(d["$blocks?"]()))h["$<<"](d.$content())}h["$<<"]("</td>");return h["$<<"]("</tr>")},f.$$s=this,f.$$arity=
2,f)),h["$<<"]("</table>")):(h["$<<"]("<dl>"),p=e(a.$style())?"":' class="hdlist1"',n(a.$items(),"each",[],(g=function(a,b){var d=g.$$s||this,f;null==a&&(a=c);null==b&&(b=c);n(a,"each",[],(f=function(a){null==a&&(a=c);return h["$<<"]("<dt"+p+">"+a.$text()+"</dt>")},f.$$s=d,f.$$arity=1,f));if(e(b)){h["$<<"]("<dd>");if(e(b["$text?"]()))h["$<<"]("<p>"+b.$text()+"</p>");if(e(b["$blocks?"]()))h["$<<"](b.$content());return h["$<<"]("</dd>")}return c},g.$$s=this,g.$$arity=2,g)),h["$<<"]("</dl>"));h["$<<"]("</div>");
return h.$join(q(r,"LF"))},F.$$arity=1);a.def(d,"$convert_example",G=function(a){var b=c;var d=e(a.$id())?' id="'+a.$id()+'"':"";if(e(a["$option?"]("collapsible"))){var f=e(a.$role())?' class="'+a.$role()+'"':"";b=e(a["$title?"]())?'<summary class="title">'+a.$title()+"</summary>":'<summary class="title">Details</summary>';return"<details"+d+f+(e(a["$option?"]("open"))?" open":"")+">\n"+b+'\n<div class="content">\n'+a.$content()+"\n</div>\n</details>"}f=e(a["$title?"]())?'<div class="title">'+a.$captioned_title()+
"</div>\n":"";return"<div"+d+' class="exampleblock'+(e(b=a.$role())?" "+b:"")+'">\n'+f+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},G.$$arity=1);a.def(d,"$convert_floating_title",L=function(a){var b="h"+k(a.$level(),1);var c=e(a.$id())?' id="'+a.$id()+'"':"";var d=[a.$style(),a.$role()].$compact();return"<"+b+c+' class="'+d.$join(" ")+'">'+a.$title()+"</"+b+">"},L.$$arity=1);a.def(d,"$convert_image",I=function(a){var b,d,f,g=c,h=c,k=c;var l=a.$attr("target");var n=e(a["$attr?"]("width"))?
' width="'+a.$attr("width")+'"':"";var u=e(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':"";e(e(b=e(d=e(f=a["$attr?"]("format","svg"))?f:l["$include?"](".svg"))?m(a.$document().$safe(),p(q(r,"SafeMode"),"SECURE")):d)?e(d=g=a["$option?"]("inline"))?d:h=a["$option?"]("interactive"):b)&&(e(g)?k=e(b=this.$read_svg_contents(a,l))?b:'<span class="alt">'+a.$alt()+"</span>":e(h)&&(k=e(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+
'"'+n+u+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",k='<object type="image/svg+xml" data="'+a.$image_uri(l)+'"'+n+u+">"+k+"</object>"));k=e(b=k)?b:'<img src="'+a.$image_uri(l)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+n+u+this.void_element_slash+">";e(a["$attr?"]("link"))&&(k='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+k+"</a>");b=e(a.$id())?' id="'+a.$id()+'"':"";l=["imageblock"];if(e(a["$attr?"]("float")))l["$<<"](a.$attr("float"));
if(e(a["$attr?"]("align")))l["$<<"]("text-"+a.$attr("align"));if(e(a.$role()))l["$<<"](a.$role());l=' class="'+l.$join(" ")+'"';a=e(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":"";return"<div"+b+l+'>\n<div class="content">\n'+k+"\n</div>"+a+"\n</div>"},I.$$arity=1);a.def(d,"$convert_listing",J=function(d){var g,h=c,l=c,m=c,p=c,q=c,r=c,u=c;var t=e(g=d["$option?"]("nowrap"))?g:d.$document()["$attr?"]("prewrap")["$!"]();d.$style()["$=="]("source")?(h=d.$attr("language"),e(l=
d.$document().$syntax_highlighter())?(m=e(l["$highlight?"]())?f(["css_mode","style"],{css_mode:(e(g=(p=d.$document().$attributes())["$[]"](""+l.$name()+"-css"))?g:"class").$to_sym(),style:p["$[]"](""+l.$name()+"-style")}):f([],{}),t=["nowrap",t],n(m,"[]=",a.to_a(t)),t[b(t.length,1)]):(q='<pre class="highlight'+(e(t)?" nowrap":"")+'"><code'+(e(h)?' class="language-'+h+'" data-lang="'+h+'"':"")+">",r="</code></pre>")):(q="<pre"+(e(t)?' class="nowrap"':"")+">",r="</pre>");t=e(d.$id())?' id="'+d.$id()+
'"':"";p=e(d["$title?"]())?'<div class="title">'+d.$captioned_title()+"</div>\n":"";return"<div"+t+' class="listingblock'+(e(u=d.$role())?" "+u:"")+'">\n'+p+'<div class="content">\n'+(e(l)?l.$format(d,h,m):k(k(q,e(g=d.$content())?g:""),r))+"\n</div>\n</div>"},J.$$arity=1);a.def(d,"$convert_literal",Q=function(a){var b,d=c;var f=e(a.$id())?' id="'+a.$id()+'"':"";var g=e(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var h=e(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");
return"<div"+f+' class="literalblock'+(e(d=a.$role())?" "+d:"")+'">\n'+g+'<div class="content">\n<pre'+(e(h)?' class="nowrap"':"")+">"+a.$content()+"</pre>\n</div>\n</div>"},Q.$$arity=1);a.def(d,"$convert_stem",S=function(b){var d,f,g=c,h=c,k=c,l=c,m=c,p=d=c,u=c;g=e(b.$id())?' id="'+b.$id()+'"':"";h=e(b["$title?"]())?'<div class="title">'+b.$title()+"</div>\n":"";d=q(r,"BLOCK_MATH_DELIMITERS")["$[]"](k=b.$style().$to_sym());var t=a.to_ary(d);l=null==t[0]?c:t[0];m=null==t[1]?c:t[1];d;e(d=b.$content())?
(e((t=k["$=="]("asciimath"))?d["$include?"](q(r,"LF")):k["$=="]("asciimath"))&&(p="<br"+this.void_element_slash+">"+q(r,"LF"),d=n(d,"gsub",[q(r,"StemBreakRx")],(f=function(){var a,b=""+m,d=((a=v["~"])===c?c:a["$[]"](0)).$count(q(r,"LF"));a="number"===typeof p&&"number"===typeof d?p*d:p["$*"](d);return b+a+l},f.$$s=this,f.$$arity=0,f))),e(e(t=d["$start_with?"](l))?d["$end_with?"](m):t)||(d=""+l+d+m)):d="";return"<div"+g+' class="stemblock'+(e(u=b.$role())?" "+u:"")+'">\n'+h+'<div class="content">\n'+
d+"\n</div>\n</div>"},S.$$arity=1);a.def(d,"$convert_olist",O=function(a){var b,d=c,f=c,g=c,h=f=g=c,k=g=c;d=[];f=e(a.$id())?' id="'+a.$id()+'"':"";g=["olist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';d["$<<"]("<div"+f+g+">");if(e(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");f=e(h=a.$list_marker_keyword())?' type="'+h+'"':"";g=e(a["$attr?"]("start"))?' start="'+a.$attr("start")+'"':"";k=e(a["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",
this.xml_mode):"";d["$<<"]('<ol class="'+a.$style()+'"'+f+g+k+">");n(a.$items(),"each",[],(b=function(a){null==a&&(a=c);if(e(a.$id()))d["$<<"]('<li id="'+a.$id()+'"'+(e(a.$role())?' class="'+a.$role()+'"':"")+">");else if(e(a.$role()))d["$<<"]('<li class="'+a.$role()+'">');else d["$<<"]("<li>");d["$<<"]("<p>"+a.$text()+"</p>");if(e(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));d["$<<"]("</ol>");d["$<<"]("</div>");return d.$join(q(r,"LF"))},O.$$arity=
1);a.def(d,"$convert_open",P=function(a){var b,d,f=c;if((d=a.$style())["$=="]("abstract")){if(e(a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),"";var g=e(a.$id())?' id="'+a.$id()+'"':"";var k=e(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+g+' class="quoteblock abstract'+
(e(f=a.$role())?" "+f:"")+'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(e((b=d["$=="]("partintro"))?e(g=e(k=h(a.$level(),0))?k:a.$parent().$context()["$!="]("section"))?g:a.$document().$doctype()["$!="]("book"):d["$=="]("partintro")))return this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),"";g=e(a.$id())?' id="'+a.$id()+'"':"";k=e(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":
"";return"<div"+g+' class="openblock'+(e(e(b=d)?d["$!="]("open"):b)?" "+d:"")+(e(f=a.$role())?" "+f:"")+'">\n'+k+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},P.$$arity=1);a.def(d,"$convert_page_break",T=function(a){return'<div style="page-break-after: always;"></div>'},T.$$arity=1);a.def(d,"$convert_paragraph",V=function(a){var b=e(a.$role())?(e(a.$id())?' id="'+a.$id()+'"':"")+' class="paragraph '+a.$role()+'"':e(a.$id())?' id="'+a.$id()+'" class="paragraph"':' class="paragraph"';return e(a["$title?"]())?
"<div"+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div"+b+">\n<p>"+a.$content()+"</p>\n</div>"},V.$$arity=1);a.alias(d,"convert_pass","content_only");a.def(d,"$convert_preamble",X=function(a){var b,d,f=c;var g=e(e(b=e(d=(f=a.$document())["$attr?"]("toc-placement","preamble"))?f["$sections?"]():d)?f["$attr?"]("toc"):b)?'\n<div id="toc" class="'+f.$attr("toc-class","toc")+'">\n<div id="toctitle">'+f.$attr("toc-title")+"</div>\n"+this.$convert_outline(f)+"\n</div>":
"";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"},X.$$arity=1);a.def(d,"$convert_quote",Y=function(a){var b=e(a.$id())?' id="'+a.$id()+'"':"";var d=' class="'+["quoteblock",a.$role()].$compact().$join(" ")+'"';var f=e(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=e(a["$attr?"]("attribution"))?a.$attr("attribution"):c;var h=e(a["$attr?"]("citetitle"))?a.$attr("citetitle"):c;if(e(e(g)?g:h)){var k=e(h)?"<cite>"+h+"</cite>":"";g=e(g)?
"&#8212; "+g+(e(h)?"<br"+this.void_element_slash+">\n":""):"";k='\n<div class="attribution">\n'+g+k+"\n</div>"}else k="";return"<div"+b+d+">"+f+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+k+"\n</div>"},Y.$$arity=1);a.def(d,"$convert_thematic_break",na=function(a){return"<hr"+this.void_element_slash+">"},na.$$arity=1);a.def(d,"$convert_sidebar",ba=function(a){var b=c;var d=e(a.$id())?' id="'+a.$id()+'"':"";var f=e(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+d+
' class="sidebarblock'+(e(b=a.$role())?" "+b:"")+'">\n<div class="content">\n'+f+a.$content()+"\n</div>\n</div>"},ba.$$arity=1);a.def(d,"$convert_table",ka=function(a){var b,d,f,g=c,l=c,m=c,p=c,u=c,t=p=c,v=u=m=t=c;g=[];l=e(a.$id())?' id="'+a.$id()+'"':"";m=["tableblock","frame-"+a.$attr("frame","all","table-frame"),"grid-"+a.$attr("grid","all","table-grid")];if(e(p=a.$attr("stripes",c,"table-stripes")))m["$<<"]("stripes-"+p);u=[];if(e(e(b=p=a["$option?"]("autowidth"))?a["$attr?"]("width")["$!"]():
b))m["$<<"]("fit-content");else if((t=a.$attr("tablepcwidth"))["$=="](100))m["$<<"]("stretch");else u["$<<"]("width: "+t+"%;");if(e(a["$attr?"]("float")))m["$<<"](a.$attr("float"));if(e(t=a.$role()))m["$<<"](t);m=' class="'+m.$join(" ")+'"';u=e(u["$empty?"]())?"":' style="'+u.$join(" ")+'"';g["$<<"]("<table"+l+m+u+">");if(e(a["$title?"]()))g["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");e(h(a.$attr("rowcount"),0))&&(v=this.void_element_slash,g["$<<"]("<colgroup>"),e(p)?g=k(g,
q(r,"Array").$new(a.$columns().$size(),"<col"+v+">")):n(a.$columns(),"each",[],(d=function(a){null==a&&(a=c);return g["$<<"](e(a["$option?"]("autowidth"))?"<col"+v+">":'<col style="width: '+a.$attr("colpcwidth")+'%;"'+v+">")},d.$$s=this,d.$$arity=1,d)),g["$<<"]("</colgroup>"),n(a.$rows().$to_h(),"each",[],(f=function(b,d){var h=f.$$s||this,k;null==b&&(b=c);null==d&&(d=c);if(e(d["$empty?"]()))return c;g["$<<"]("<t"+b+">");n(d,"each",[],(k=function(d){var f=k.$$s||this,h;null==d&&(d=c);g["$<<"]("<tr>");
n(d,"each",[],(h=function(d){var f,h=c;null==d&&(d=c);if(b["$=="]("head"))h=d.$text();else{var k=d.$style();h="asciidoc"["$==="](k)?'<div class="content">'+d.$content()+"</div>":"literal"["$==="](k)?'<div class="literal"><pre>'+d.$text()+"</pre></div>":e((h=d.$content())["$empty?"]())?"":'<p class="tableblock">'+h.$join('</p>\n<p class="tableblock">')+"</p>"}k=e(e(f=b["$=="]("head"))?f:d.$style()["$=="]("header"))?"th":"td";f=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+
'"';var l=e(d.$colspan())?' colspan="'+d.$colspan()+'"':"";d=e(d.$rowspan())?' rowspan="'+d.$rowspan()+'"':"";var n=e(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':"";return g["$<<"]("<"+k+f+l+d+n+">"+h+"</"+k+">")},h.$$s=f,h.$$arity=1,h));return g["$<<"]("</tr>")},k.$$s=h,k.$$arity=1,k));return g["$<<"]("</t"+b+">")},f.$$s=this,f.$$arity=2,f)));g["$<<"]("</table>");return g.$join(q(r,"LF"))},ka.$$arity=1);a.def(d,"$convert_toc",Ja=function(a){var b,
d,g=c;if(!e(e(b=e(d=(g=a.$document())["$attr?"]("toc-placement","macro"))?g["$sections?"]():d)?g["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";e(a.$id())?(b=' id="'+a.$id()+'"',d=' id="'+a.$id()+'title"'):(b=' id="toc"',d=' id="toctitle"');var h=e(a["$title?"]())?a.$title():g.$attr("toc-title");var k=e(a["$attr?"]("levels"))?a.$attr("levels").$to_i():c;a=e(a["$role?"]())?a.$role():g.$attr("toc-class","toc");return"<div"+b+' class="'+a+'">\n<div'+d+' class="title">'+h+"</div>\n"+this.$convert_outline(g,
f(["toclevels"],{toclevels:k}))+"\n</div>"},Ja.$$arity=1);a.def(d,"$convert_ulist",Fa=function(a){var b,d=c,f=c,g=c,h=c,k=c,l=c,m=c;d=[];f=e(a.$id())?' id="'+a.$id()+'"':"";g=["ulist",a.$style(),a.$role()].$compact();h=k="";e(l=a["$option?"]("checklist"))?(g.$unshift(g.$shift(),"checklist"),m=' class="checklist"',e(a["$option?"]("interactive"))?e(this.xml_mode)?(h='<input type="checkbox" data-item-complete="1" checked="checked"/> ',k='<input type="checkbox" data-item-complete="0"/> '):(h='<input type="checkbox" data-item-complete="1" checked> ',
k='<input type="checkbox" data-item-complete="0"> '):e(a.$document()["$attr?"]("icons","font"))?(h='<i class="fa fa-check-square-o"></i> ',k='<i class="fa fa-square-o"></i> '):(h="&#10003; ",k="&#10063; ")):m=e(a.$style())?' class="'+a.$style()+'"':"";d["$<<"]("<div"+f+' class="'+g.$join(" ")+'">');if(e(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");d["$<<"]("<ul"+m+">");n(a.$items(),"each",[],(b=function(a){var b;null==a&&(a=c);if(e(a.$id()))d["$<<"]('<li id="'+a.$id()+'"'+(e(a.$role())?
' class="'+a.$role()+'"':"")+">");else if(e(a.$role()))d["$<<"]('<li class="'+a.$role()+'">');else d["$<<"]("<li>");if(e(e(b=l)?a["$attr?"]("checkbox"):b))d["$<<"]("<p>"+(e(a["$attr?"]("checked"))?h:k)+a.$text()+"</p>");else d["$<<"]("<p>"+a.$text()+"</p>");if(e(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));d["$<<"]("</ul>");d["$<<"]("</div>");return d.$join(q(r,"LF"))},Fa.$$arity=1);a.def(d,"$convert_verse",Ka=function(a){var b=e(a.$id())?' id="'+a.$id()+
'"':"";var d=' class="'+["verseblock",a.$role()].$compact().$join(" ")+'"';var f=e(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=e(a["$attr?"]("attribution"))?a.$attr("attribution"):c;var h=e(a["$attr?"]("citetitle"))?a.$attr("citetitle"):c;if(e(e(g)?g:h)){var k=e(h)?"<cite>"+h+"</cite>":"";g=e(g)?"&#8212; "+g+(e(h)?"<br"+this.void_element_slash+">\n":""):"";k='\n<div class="attribution">\n'+g+k+"\n</div>"}else k="";return"<div"+b+d+">"+f+'\n<pre class="content">'+a.$content()+
"</pre>"+k+"\n</div>"},Ka.$$arity=1);a.def(d,"$convert_video",ea=function(b){var d,f,g=this,h=c,k=c,l=c,n=c,m=c,p=c,q=c,r=c,u=c,t=c,v=c,w=c,A=c,z=c,y=c,x=c,D=c,B=c,E=c,C=c,H=c,F=c,G=c,L=c,I=c,J=c,Q=c,S=c,W=c,O=c,P=c,fa=c,U=c,T=c,ja=c;h=g.xml_mode;k=e(b.$id())?' id="'+b.$id()+'"':"";l=["videoblock"];if(e(b["$attr?"]("float")))l["$<<"](b.$attr("float"));if(e(b["$attr?"]("align")))l["$<<"]("text-"+b.$attr("align"));if(e(b.$role()))l["$<<"](b.$role());n=' class="'+l.$join(" ")+'"';m=e(b["$title?"]())?
'\n<div class="title">'+b.$title()+"</div>":"";p=e(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':"";q=e(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':"";return function(){r=b.$attr("poster");if("vimeo"["$==="](r))return e((u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(u=""+u+":"),t=e(b["$attr?"]("start"))?"#at="+b.$attr("start"):"",v=["?"],w=e(b["$option?"]("autoplay"))?""+(e(d=v.$pop())?d:"&amp;")+"autoplay=1":"",A=e(b["$option?"]("loop"))?""+(e(d=v.$pop())?
d:"&amp;")+"loop=1":"",z=e(b["$option?"]("muted"))?""+(e(d=v.$pop())?d:"&amp;")+"muted=1":"","<div"+k+n+">"+m+'\n<div class="content">\n<iframe'+p+q+' src="'+u+"//player.vimeo.com/video/"+b.$attr("target")+w+A+z+t+'" frameborder="0"'+(e(b["$option?"]("nofullscreen"))?"":g.$append_boolean_attribute("allowfullscreen",h))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](r))return e((u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(u=""+u+":"),y=e(b["$option?"]("related"))?1:0,x=e(b["$attr?"]("start"))?
"&amp;start="+b.$attr("start"):"",D=e(b["$attr?"]("end"))?"&amp;end="+b.$attr("end"):"",w=e(b["$option?"]("autoplay"))?"&amp;autoplay=1":"",A=e(B=b["$option?"]("loop"))?"&amp;loop=1":"",E=e(b["$option?"]("muted"))?"&amp;mute=1":"",C=e(b["$option?"]("nocontrols"))?"&amp;controls=0":"",e(b["$option?"]("nofullscreen"))?(H="&amp;fs=0",F=""):(H="",F=g.$append_boolean_attribute("allowfullscreen",h)),G=e(b["$option?"]("modest"))?"&amp;modestbranding=1":"",L=e(b["$attr?"]("theme"))?"&amp;theme="+b.$attr("theme"):
"",I=e(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):"",f=b.$attr("target").$split("/",2),d=a.to_ary(f),J=null==d[0]?c:d[0],Q=null==d[1]?c:d[1],f,e(Q=e(d=Q)?d:b.$attr("list"))?S="&amp;list="+Q:(f=J.$split(",",2),d=a.to_ary(f),J=null==d[0]?c:d[0],W=null==d[1]?c:d[1],f,S=e(W=e(d=W)?d:b.$attr("playlist"))?"&amp;playlist="+W:e(B)?"&amp;playlist="+J:""),"<div"+k+n+">"+m+'\n<div class="content">\n<iframe'+p+q+' src="'+u+"//www.youtube.com/embed/"+J+"?rel="+y+x+D+w+A+E+C+S+H+G+L+I+'" frameborder="0"'+
F+"></iframe>\n</div>\n</div>";O=e((P=b.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+b.$media_uri(P)+'"';fa=e((P=b.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+P+'"';U=b.$attr("start");T=b.$attr("end");ja=e(e(d=U)?d:T)?"#t="+(e(d=U)?d:"")+(e(T)?","+T:""):"";return"<div"+k+n+">"+m+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+ja+'"'+p+q+O+(e(b["$option?"]("autoplay"))?g.$append_boolean_attribute("autoplay",h):"")+(e(b["$option?"]("nocontrols"))?"":g.$append_boolean_attribute("controls",
h))+(e(b["$option?"]("loop"))?g.$append_boolean_attribute("loop",h):"")+fa+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},ea.$$arity=1);a.def(d,"$convert_inline_anchor",ra=function(a){var b,d=this,f=c,g=c,h=c,k=c,l=c,n=c;return function(){f=a.$type();if("xref"["$==="](f))return e(g=a.$attributes()["$[]"]("path"))?(h=d.$append_link_constraint_attrs(a,e(a.$role())?[' class="'+a.$role()+'"']:[]).$join(),k=e(b=a.$text())?b:g):(h=e(a.$role())?' class="'+a.$role()+'"':"",
e(k=a.$text())||(l=a.$attributes()["$[]"]("refid"),k=e(q(r,"AbstractNode")["$==="](n=(d.refs=e(b=d.refs)?b:a.$document().$catalog()["$[]"]("refs"))["$[]"](l)))?e(b=n.$xreftext(a.$attr("xrefstyle",c,!0)))?b:"["+l+"]":"["+l+"]")),'<a href="'+a.$target()+'"'+h+">"+k+"</a>";if("ref"["$==="](f))return'<a id="'+a.$id()+'"></a>';if("link"["$==="](f)){h=e(a.$id())?[' id="'+a.$id()+'"']:[];if(e(a.$role()))h["$<<"](' class="'+a.$role()+'"');if(e(a["$attr?"]("title")))h["$<<"](' title="'+a.$attr("title")+'"');
return'<a href="'+a.$target()+'"'+d.$append_link_constraint_attrs(a,h).$join()+">"+a.$text()+"</a>"}if("bibref"["$==="](f))return'<a id="'+a.$id()+'"></a>['+(e(b=a.$reftext())?b:a.$id())+"]";d.$logger().$warn("unknown anchor type: "+a.$type().$inspect());return c}()},ra.$$arity=1);a.def(d,"$convert_inline_break",ha=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},ha.$$arity=1);a.def(d,"$convert_inline_button",va=function(a){return'<b class="button">'+a.$text()+"</b>"},va.$$arity=
1);a.def(d,"$convert_inline_callout",Ba=function(a){if(e(a.$document()["$attr?"]("icons","font")))return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>";if(e(a.$document()["$attr?"]("icons"))){var b=a.$icon_uri("callouts/"+a.$text());return'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return""+a.$attributes()["$[]"]("guard")+'<b class="conum">('+a.$text()+")</b>"},Ba.$$arity=1);a.def(d,"$convert_inline_footnote",la=function(a){var b;if(e(b=a.$attr("index"))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+
b+'" title="View footnote.">'+b+"</a>]</sup>";a=e(a.$id())?' id="_footnote_'+a.$id()+'"':"";return'<sup class="footnote"'+a+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":c},la.$$arity=1);a.def(d,"$convert_inline_image",Ma=function(a){var b,d,g,h,k,l,u=c,t=c,v=b=c,w=c,z=c,y=c,A=c,x=c,D=c;e((b=(u=a.$type())["$=="]("icon"))?
a.$document()["$attr?"]("icons","font"):(u=a.$type())["$=="]("icon"))?(t="fa fa-"+a.$target(),n(f(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(d=function(b,d){null==b&&(b=c);null==d&&(d=c);return e(a["$attr?"](b))?t=""+t+" "+d+a.$attr(b):c},d.$$s=this,d.$$arity=2,d)),b=e(a["$attr?"]("title"))?' title="'+a.$attr("title")+'"':"",v='<i class="'+t+'"'+b+"></i>"):e((b=u["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():u["$=="]("icon"))?v="["+a.$alt()+"]":
(w=a.$target(),z=n(["width","height","title"],"map",[],(g=function(b){null==b&&(b=c);return e(a["$attr?"](b))?" "+b+'="'+a.$attr(b)+'"':""},g.$$s=this,g.$$arity=1,g)).$join(),e(e(b=e(h=e(k=u["$!="]("icon"))?e(l=a["$attr?"]("format","svg"))?l:w["$include?"](".svg"):k)?m(a.$document().$safe(),p(q(r,"SafeMode"),"SECURE")):h)?e(h=y=a["$option?"]("inline"))?h:A=a["$option?"]("interactive"):b)&&(e(y)?v=e(b=this.$read_svg_contents(a,w))?b:'<span class="alt">'+a.$alt()+"</span>":e(A)&&(x=e(a["$attr?"]("fallback"))?
'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+z+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",v='<object type="image/svg+xml" data="'+a.$image_uri(w)+'"'+z+">"+x+"</object>")),v=e(b=v)?b:'<img src="'+(u["$=="]("icon")?a.$icon_uri(w):a.$image_uri(w))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+z+this.void_element_slash+">");e(a["$attr?"]("link"))&&(v='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+
">"+v+"</a>");t=e(D=a.$role())?e(a["$attr?"]("float"))?""+u+" "+a.$attr("float")+" "+D:""+u+" "+D:e(a["$attr?"]("float"))?""+u+" "+a.$attr("float"):u;return'<span class="'+t+'">'+v+"</span>"},Ma.$$arity=1);a.def(d,"$convert_inline_indexterm",Da=function(a){return a.$type()["$=="]("visible")?a.$text():""},Da.$$arity=1);a.def(d,"$convert_inline_kbd",Na=function(a){var b;return(b=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+b.$join("</kbd>+<kbd>")+"</kbd></span>"},
Na.$$arity=1);a.def(d,"$convert_inline_menu",La=function(a){var b=c,d=c;var f=e(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ';var g="</b>"+f+'<b class="submenu">';var h=a.$attr("menu");return e((b=a.$attr("submenus"))["$empty?"]())?e(d=a.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+h+"</b>"+f+'<b class="menuitem">'+d+"</b></span>":'<b class="menuref">'+h+"</b>":'<span class="menuseq"><b class="menu">'+
h+"</b>"+f+'<b class="submenu">'+b.$join(g)+"</b>"+f+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},La.$$arity=1);a.def(d,"$convert_inline_quoted",Pa=function(b){var d=q(r,"QUOTE_TAGS")["$[]"](b.$type());var f=a.to_ary(d);var g=null==f[0]?c:f[0];var h=null==f[1]?c:f[1];f=null==f[2]?c:f[2];d;return e(b.$id())?(d=e(b.$role())?' class="'+b.$role()+'"':"",e(f)?""+g.$chop()+' id="'+b.$id()+'"'+d+">"+b.$text()+h:'<span id="'+b.$id()+'"'+d+">"+g+b.$text()+h+"</span>"):e(b.$role())?e(f)?""+g.$chop()+
' class="'+b.$role()+'">'+b.$text()+h:'<span class="'+b.$role()+'">'+g+b.$text()+h+"</span>":""+g+b.$text()+h},Pa.$$arity=1);a.def(d,"$read_svg_contents",Oa=function(b,d){var g,h=c,k=c,l=c;e(h=b.$read_contents(d,f(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(e(h["$start_with?"]("<svg"))||(h=h.$sub(q(r,"SvgPreambleRx"),"")),k=l=c,n(["width","height"],"each",[],(g=function(a){null==a&&(a=c);return e(b["$attr?"](a))?(e(l)||(l=(k=h.$match(q(r,"SvgStartTagRx"))["$[]"](0)).$gsub(q(r,
"DimensionAttributeRx"),"")),l=""+l.$chop()+" "+a+'="'+b.$attr(a)+'px">'):c},g.$$s=this,g.$$arity=1,g)),e(l)&&(h=""+l+h["$[]"](a.Range.$new(k.$length(),-1,!1))));return h},Oa.$$arity=2);d.$private();a.def(d,"$append_boolean_attribute",Ga=function(a,b){return e(b)?" "+a+'="'+a+'"':" "+a},Ga.$$arity=2);a.def(d,"$append_link_constraint_attrs",Qa=function(a,b){var d,f=c,g;null==b&&(b=[]);e(a["$option?"]("nofollow"))&&(f="nofollow");if(e(g=a.$attributes()["$[]"]("window"))){if(b["$<<"](' target="'+g+'"'),
e(e(d=g["$=="]("_blank"))?d:a["$option?"]("noopener")))b["$<<"](e(f)?' rel="'+f+' noopener"':' rel="noopener"')}else if(e(f))b["$<<"](' rel="'+f+'"');return b},Qa.$$arity=-2);a.def(d,"$encode_attribute_value",Wa=function(a){return e(a["$include?"]('"'))?a.$gsub('"',"&quot;"):a},Wa.$$arity=1);a.def(d,"$generate_manname_section",Ua=function(a){var b,d=c,f=c,g=c;var h=a.$attr("manname-title","Name");e(e(b=d=a.$sections()["$[]"](0))?(f=d.$title())["$=="](f.$upcase()):b)&&(h=h.$upcase());return"<h2"+(e(g=
a.$attr("manname-id"))?' id="'+g+'"':"")+">"+h+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>"},Ua.$$arity=1);return(a.def(d,"$method_missing",Sa=function(b,d){var f,g=Sa.$$p,h=c,k;g&&(Sa.$$p=null);var l=0;var m=arguments.length;for(k=Array(m);l<m;l++)k[l]=arguments[l];l=a.slice.call(arguments,1,arguments.length);return e(e(f=(h=b.$to_s())["$start_with?"]("convert_")["$!"]())?this["$handles?"](h):f)?n(this,"send",["convert_"+h].concat(a.to_a(l))):
n(this,a.find_super_dispatcher(this,"method_missing",Sa,!1),k,g)},Sa.$$arity=-2),c)&&"method_missing"})(q(d,"Converter"),p(q(d,"Converter"),"Base"),d)}(g[0],g)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?
a<b:a["$<"](b)}var m=[],g=a.nil,c=a.const_get_qualified,p=a.const_get_relative,q=a.module,t=a.klass,v=a.truthy,n=a.hash2,f=a.send,e=a.hash;a.add_stubs("$== $[]= $config $- $const_defined? $singleton_class? $include $const_get $extend $attr_reader $merge $class $update $raise $document $doctype $[] $+ $level $delete $> $casecmp $new $title= $sectname= $special= $fetch $numbered= $! $key? $attr? $special $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $assign_caption $=== $parse_blocks $empty? $include? $sub_attributes $parse $each $define_method $unshift $shift $send $size $binding $receiver $define_singleton_method $instance_exec $to_proc $call $option $flatten $respond_to? $to_s $partition $to_i $<< $compact $inspect $attr_accessor $to_set $match? $resolve_regexp $method $register $values $groups $arity $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $instance_variable_get $kind $private $join $map $split $capitalize $instance_variable_set $resolve_args $enable_dsl $singleton_class $process_block_given? $source_location $freeze $resolve_class $< $update_config $as_symbol $name $name= $pop $-@ $next_auto_id $generate_name".split(" "));
p(m,"RUBY_ENGINE")["$=="]("opal")||g;return function(d,m){d=[q(d,"Asciidoctor")].concat(m);(function(d,m){d=q(d,"Extensions");m=[d].concat(m);(function(d,$super,e){d=t(d,$super,"Processor");var l=[d].concat(e),m,q,r,u,w,y,x,z,B,C,D,E;d.$$prototype.config=g;(function(c,d){[c].concat(d);var e,h,k;a.def(c,"$config",e=function(){var a;null==this.config&&(this.config=g);return this.config=v(a=this.config)?a:n([],{})},e.$$arity=0);a.def(c,"$option",h=function(c,d){c=[c,d];f(this.$config(),"[]=",a.to_a(c));
return c[b(c.length,1)]},h.$$arity=2);a.def(c,"$enable_dsl",k=function(){return v(this["$const_defined?"]("DSL"))?v(this["$singleton_class?"]())?this.$include(this.$const_get("DSL")):this.$extend(this.$const_get("DSL")):g},k.$$arity=0);return a.alias(c,"use_dsl","enable_dsl")})(a.get_singleton_class(d),l);d.$attr_reader("config");a.def(d,"$initialize",m=function(a){null==a&&(a=n([],{}));return this.config=this.$class().$config().$merge(a)},m.$$arity=-1);a.def(d,"$update_config",q=function(a){return this.config.$update(a)},
q.$$arity=1);a.def(d,"$process",r=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(c("::","NotImplementedError"),""+p(l,"Processor")+" subclass "+this.$class()+" must implement the #process method")},r.$$arity=-1);a.def(d,"$create_section",u=function(c,d,e,m){var q,r,u,t=g,w=g;null==m&&(m=n([],{}));var y=c.$document();var x=(r=y.$doctype())["$=="]("book");var z=v(q=m["$[]"]("level"))?q:h(c.$level(),1);if(v(u=e.$delete("style")))if(v(v(q=x)?u["$=="]("abstract"):q)){q=["chapter",
1];var B=q[0];z=q[1];q}else q=[u,!0],B=q[0],t=q[1],q,z["$=="](0)&&(z=1);else v(x)?B=z["$=="](0)?"part":v(k(z,1))?"section":"chapter":v(r["$=="]("manpage")?d.$casecmp("synopsis")["$=="](0):r["$=="]("manpage"))?(q=["synopsis",!0],B=q[0],t=q[1],q):B="section";r=p(l,"Section").$new(c,z);q=[d,B];r["$title="](q[0]);r["$sectname="](q[1]);q;v(t)?(w=[!0],f(r,"special=",a.to_a(w)),w[b(w.length,1)],v(m.$fetch("numbered",u["$=="]("appendix")))?(w=[!0],f(r,"numbered=",a.to_a(w)),w[b(w.length,1)]):v(v(q=m["$key?"]("numbered")["$!"]())?
y["$attr?"]("sectnums","all"):q)&&(w=[v(v(q=x)?z["$=="](1):q)?"chapter":!0],f(r,"numbered=",a.to_a(w)),w[b(w.length,1)])):v(k(z,0))?v(m.$fetch("numbered",y["$attr?"]("sectnums")))&&(w=[v(r.$special())?v(q=c.$numbered())?!0:q:!0],f(r,"numbered=",a.to_a(w)),w[b(w.length,1)]):v(m.$fetch("numbered",v(q=x)?y["$attr?"]("partnums"):q))&&(w=[!0],f(r,"numbered=",a.to_a(w)),w[b(w.length,1)]);(c=e["$[]"]("id"))["$=="](!1)?e.$delete("id"):(w=[(w=["id",v(q=c)?q:v(y["$attr?"]("sectids"))?p(l,"Section").$generate_id(r.$title(),
y):g],f(e,"[]=",a.to_a(w)),w[b(w.length,1)])],f(r,"id=",a.to_a(w)),w[b(w.length,1)]);r.$update_attributes(e);return r},u.$$arity=-4);a.def(d,"$create_block",w=function(a,b,c,d,e){null==e&&(e=n([],{}));return p(l,"Block").$new(a,b,n(["source","attributes"],{source:c,attributes:d}).$merge(e))},w.$$arity=-5);a.def(d,"$create_list",y=function(a,b,c){null==c&&(c=g);a=p(l,"List").$new(a,b);v(c)&&a.$update_attributes(c);return a},y.$$arity=-3);a.def(d,"$create_list_item",x=function(a,b){null==b&&(b=g);return p(l,
"ListItem").$new(a,b)},x.$$arity=-2);a.def(d,"$create_image_block",z=function(d,e,h){var k,m,q=g;null==h&&(h=n([],{}));v(m=e["$[]"]("target"))||this.$raise(c("::","ArgumentError"),"Unable to create an image block, target attribute is required");v(k=e["$[]"]("alt"))?k:(q=["alt",(q=["default-alt",p(l,"Helpers").$basename(m,!0).$tr("_-"," ")],f(e,"[]=",a.to_a(q)),q[b(q.length,1)])],f(e,"[]=",a.to_a(q)),q[b(q.length,1)]);q=v(e["$key?"]("title"))?e.$delete("title"):g;d=this.$create_block(d,"image",g,e,
h);v(q)&&(q=[q],f(d,"title=",a.to_a(q)),q[b(q.length,1)],d.$assign_caption(e.$delete("caption"),"figure"));return d},z.$$arity=-3);a.def(d,"$create_inline",B=function(a,b,c,d){null==d&&(d=n([],{}));return p(l,"Inline").$new(a,b,c,b["$=="]("quoted")?n(["type"],{type:"unquoted"}).$merge(d):d)},B.$$arity=-4);a.def(d,"$parse_content",C=function(a,b,c){null==c&&(c=g);b=v(p(l,"Reader")["$==="](b))?b:p(l,"Reader").$new(b);p(l,"Parser").$parse_blocks(b,a,c);return a},C.$$arity=-3);a.def(d,"$parse_attributes",
D=function(a,b,c){var d;null==c&&(c=n([],{}));if(v(v(b)?b["$empty?"]():!0))return n([],{});v(v(d=c["$[]"]("sub_attributes"))?b["$include?"](p(l,"ATTR_REF_HEAD")):d)&&(b=a.$sub_attributes(b));return p(l,"AttributeList").$new(b).$parse(v(d=c["$[]"]("positional_attributes"))?d:[])},D.$$arity=-3);return f([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block",
"create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(E=function(b,c,d){var e=E.$$s||this,h;null==b&&(b=g);null==c&&(c=g);null==d&&(d=g);return f(e,"define_method",[b],(h=function(b){var e=h.$$s||this;var g=a.slice.call(arguments,0,arguments.length);g.$unshift(g.$shift(),d);return f(e,"send",[c].concat(a.to_a(g)))},h.$$s=e,h.$$arity=-1,h))},E.$$s=d,E.$$arity=3,E))})(m[0],null,
m);(function(d,e){d=q(d,"ProcessorDsl");[d].concat(e);var h,k,l;a.def(d,"$option",h=function(c,d){c=[c,d];f(this.$config(),"[]=",a.to_a(c));return c[b(c.length,1)]},h.$$arity=2);a.def(d,"$process",k=function(b){var d=k.$$p,e=d||g,h,l,m=g;null==this.process_block&&(this.process_block=g);d&&(k.$$p=null);d&&(k.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e!==g?(v(d["$empty?"]())||this.$raise(c("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),v(v(h=
e.$binding())?this["$=="](e.$binding().$receiver()):h)||(m=this,f(e,"define_singleton_method",["call"],(l=function(b){var c=a.slice.call(arguments,0,arguments.length);return f(m,"instance_exec",a.to_a(c),e.$to_proc())},l.$$s=this,l.$$arity=-1,l))),this.process_block=e):v((h=this.process_block,null!=h&&h!==g)?"instance-variable":g)?f(this.process_block,"call",a.to_a(d)):this.$raise(c("::","NotImplementedError"),""+this.$class()+" #process method called before being registered")},k.$$arity=-1);a.def(d,
"$process_block_given?",l=function(){var a;return(a=this.process_block,null!=a&&a!==g)?"instance-variable":g},l.$$arity=0)})(m[0],m);(function(b,c){b=q(b,"DocumentProcessorDsl");c=[b].concat(c);var d;b.$include(p(c,"ProcessorDsl"));a.def(b,"$prefer",d=function(){return this.$option("position",">>")},d.$$arity=0)})(m[0],m);(function(d,e){d=q(d,"SyntaxProcessorDsl");var h=[d].concat(e),l,m,r,t,w;d.$include(p(h,"ProcessorDsl"));a.def(d,"$named",l=function(a){return v(p(h,"Processor")["$==="](this))?
this.name=a:this.$option("name",a)},l.$$arity=1);a.def(d,"$content_model",m=function(a){return this.$option("content_model",a)},m.$$arity=1);a.alias(d,"parse_content_as","content_model");a.def(d,"$positional_attributes",r=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("positional_attrs",c.$flatten())},r.$$arity=-1);a.alias(d,"name_positional_attributes","positional_attributes");a.alias(d,"positional_attrs","positional_attributes");a.def(d,"$default_attributes",t=
function(a){return this.$option("default_attrs",a)},t.$$arity=1);a.alias(d,"default_attrs","default_attributes");a.def(d,"$resolve_attributes",w=function(d){var e,h,l,m=this,p=g,q=g,r=g;var u=a.slice.call(arguments,0,arguments.length);v(k(u.$size(),1))||v((u=u.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(u=[u]);return function(){p=u;return(!0)["$==="](p)?(m.$option("positional_attrs",[]),m.$option("default_attrs",n([],{}))):c("::","Array")["$==="](p)?(e=[[],n([],{})],q=e[0],r=e[1],e,f(u,"each",[],(h=
function(c){null==c&&(c=g);if(v((c=c.$to_s())["$include?"]("="))){var d=c.$partition("=");var e=a.to_ary(d);c=null==e[0]?g:e[0];var h=null==e[2]?g:e[2];d;if(v(c["$include?"](":"))){d=c.$partition(":");e=a.to_ary(d);var k=null==e[0]?g:e[0];c=null==e[2]?g:e[2];d;k=k["$=="]("@")?q.$size():k.$to_i();e=[k,c];f(q,"[]=",a.to_a(e));e[b(e.length,1)]}e=[c,h];f(r,"[]=",a.to_a(e));return e[b(e.length,1)]}return v(c["$include?"](":"))?(d=c.$partition(":"),e=a.to_ary(d),k=null==e[0]?g:e[0],c=null==e[2]?g:e[2],
d,k=k["$=="]("@")?q.$size():k.$to_i(),e=[k,c],f(q,"[]=",a.to_a(e)),e[b(e.length,1)]):q["$<<"](c)},h.$$s=m,h.$$arity=1,h)),m.$option("positional_attrs",q.$compact()),m.$option("default_attrs",r)):c("::","Hash")["$==="](p)?(e=[[],n([],{})],q=e[0],r=e[1],e,f(u,"each",[],(l=function(c,d){var e;null==c&&(c=g);null==d&&(d=g);if(v((e=c.$to_s())["$include?"](":"))){c=e.$partition(":");e=a.to_ary(c);var h=null==e[0]?g:e[0];e=null==e[2]?g:e[2];c;h=h["$=="]("@")?q.$size():h.$to_i();c=[h,e];f(q,"[]=",a.to_a(c));
c[b(c.length,1)]}return v(d)?(c=[e,d],f(r,"[]=",a.to_a(c)),c[b(c.length,1)]):g},l.$$s=m,l.$$arity=2,l)),m.$option("positional_attrs",q.$compact()),m.$option("default_attrs",r)):m.$raise(c("::","ArgumentError"),"unsupported attributes specification for macro: "+u.$inspect())}()},w.$$arity=-1);a.alias(d,"resolves_attributes","resolve_attributes")})(m[0],m);(function(b,$super,d){b=t(b,$super,"Preprocessor");var e=[b].concat(d),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(c("::","NotImplementedError"),
""+p(e,"Preprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),g)&&"process"})(m[0],p(m,"Processor"),m);a.const_set(p(m,"Preprocessor"),"DSL",p(m,"DocumentProcessorDsl"));(function(b,$super,d){b=t(b,$super,"TreeProcessor");var e=[b].concat(d),f;return(a.def(b,"$process",f=function(a){return this.$raise(c("::","NotImplementedError"),""+p(e,"TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=1),g)&&"process"})(m[0],p(m,
"Processor"),m);a.const_set(p(m,"TreeProcessor"),"DSL",p(m,"DocumentProcessorDsl"));a.const_set(m[0],"Treeprocessor",p(m,"TreeProcessor"));(function(b,$super,d){b=t(b,$super,"Postprocessor");var e=[b].concat(d),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(c("::","NotImplementedError"),""+p(e,"Postprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),g)&&"process"})(m[0],p(m,"Processor"),m);a.const_set(p(m,"Postprocessor"),"DSL",p(m,"DocumentProcessorDsl"));
(function(b,$super,d){b=t(b,$super,"IncludeProcessor");var e=[b].concat(d),f,h;a.def(b,"$process",f=function(a,b,d,f){return this.$raise(c("::","NotImplementedError"),""+p(e,"IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=4);return(a.def(b,"$handles?",h=function(a){return!0},h.$$arity=1),g)&&"handles?"})(m[0],p(m,"Processor"),m);(function(b,d){b=q(b,"IncludeProcessorDsl");d=[b].concat(d);var e;b.$include(p(d,"DocumentProcessorDsl"));a.def(b,"$handles?",
e=function(b){var d=e.$$p,f=d||g,h;null==this.handles_block&&(this.handles_block=g);d&&(e.$$p=null);d&&(e.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f!==g?(v(d["$empty?"]())||this.$raise(c("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),this.handles_block=f):v((h=this.handles_block,null!=h&&h!==g)?"instance-variable":g)?this.handles_block.$call(d["$[]"](0)):!0},e.$$arity=-1)})(m[0],m);a.const_set(p(m,"IncludeProcessor"),"DSL",p(m,"IncludeProcessorDsl"));
(function(d,$super,e){d=t(d,$super,"DocinfoProcessor");var h=[d].concat(e),k,l;d.$$prototype.config=g;a.def(d,"$initialize",k=function(c){var d,e=g;k.$$p&&(k.$$p=null);null==c&&(c=n([],{}));f(this,a.find_super_dispatcher(this,"initialize",k,!1),[c],null);return v(d=this.config["$[]"]("location"))?d:(e=["location","head"],f(this.config,"[]=",a.to_a(e)),e[b(e.length,1)])},k.$$arity=-1);return(a.def(d,"$process",l=function(a){return this.$raise(c("::","NotImplementedError"),""+p(h,"DocinfoProcessor")+
" subclass "+this.$class()+" must implement the #process method")},l.$$arity=1),g)&&"process"})(m[0],p(m,"Processor"),m);(function(b,c){b=q(b,"DocinfoProcessorDsl");c=[b].concat(c);var d;b.$include(p(c,"DocumentProcessorDsl"));a.def(b,"$at_location",d=function(a){return this.$option("location",a)},d.$$arity=1)})(m[0],m);a.const_set(p(m,"DocinfoProcessor"),"DSL",p(m,"DocinfoProcessorDsl"));(function(d,$super,e){d=t(d,$super,"BlockProcessor");var h=[d].concat(e),k,l;d.$$prototype.config=g;d.$attr_accessor("name");
a.def(d,"$initialize",k=function(d,e){var h,l=g;k.$$p&&(k.$$p=null);null==d&&(d=g);null==e&&(e=n([],{}));f(this,a.find_super_dispatcher(this,"initialize",k,!1),[e],null);this.name=v(h=d)?h:this.config["$[]"]("name");d=this.config["$[]"]("contexts");c("::","NilClass")["$==="](d)?v(h=this.config["$[]"]("contexts"))?h:(l=["contexts",["open","paragraph"].$to_set()],f(this.config,"[]=",a.to_a(l)),l[b(l.length,1)]):(l=c("::","Symbol")["$==="](d)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",
this.config["$[]"]("contexts").$to_set()],f(this.config,"[]=",a.to_a(l)),l[b(l.length,1)]);return v(h=this.config["$[]"]("content_model"))?h:(l=["content_model","compound"],f(this.config,"[]=",a.to_a(l)),l[b(l.length,1)])},k.$$arity=-1);return(a.def(d,"$process",l=function(a,b,d){return this.$raise(c("::","NotImplementedError"),""+p(h,"BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3),g)&&"process"})(m[0],p(m,"Processor"),m);(function(b,c){b=q(b,"BlockProcessorDsl");
c=[b].concat(c);var d;b.$include(p(c,"SyntaxProcessorDsl"));a.def(b,"$contexts",d=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("contexts",c.$flatten().$to_set())},d.$$arity=-1);a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.alias(b,"bind_to","contexts")})(m[0],m);a.const_set(p(m,"BlockProcessor"),"DSL",p(m,"BlockProcessorDsl"));(function(d,$super,e){d=t(d,$super,"MacroProcessor");var h=[d].concat(e),k,l;d.$$prototype.config=g;d.$attr_accessor("name");
a.def(d,"$initialize",k=function(c,d){var e,h=g;k.$$p&&(k.$$p=null);null==c&&(c=g);null==d&&(d=n([],{}));f(this,a.find_super_dispatcher(this,"initialize",k,!1),[d],null);this.name=v(e=c)?e:this.config["$[]"]("name");return v(e=this.config["$[]"]("content_model"))?e:(h=["content_model","attributes"],f(this.config,"[]=",a.to_a(h)),h[b(h.length,1)])},k.$$arity=-1);return(a.def(d,"$process",l=function(a,b,d){return this.$raise(c("::","NotImplementedError"),""+p(h,"MacroProcessor")+" subclass "+this.$class()+
" must implement the #process method")},l.$$arity=3),g)&&"process"})(m[0],p(m,"Processor"),m);(function(b,c){b=q(b,"MacroProcessorDsl");c=[b].concat(c);var d;b.$include(p(c,"SyntaxProcessorDsl"));a.def(b,"$resolve_attributes",d=function(b){var c=d.$$p,e;c&&(d.$$p=null);var g=0;var h=arguments.length;for(e=Array(h);g<h;g++)e[g]=arguments[g];g=a.slice.call(arguments,0,arguments.length);if(v(g.$size()["$=="](1)?g["$[]"](0)["$!"]():g.$size()["$=="](1)))return this.$option("content_model","text");f(this,
a.find_super_dispatcher(this,"resolve_attributes",d,!1),e,c);return this.$option("content_model","attributes")},d.$$arity=-1);a.alias(b,"resolves_attributes","resolve_attributes")})(m[0],m);(function(b,$super,d){b=t(b,$super,"BlockMacroProcessor");var e=[b].concat(d),f;b.$$prototype.name=g;return(a.def(b,"$name",f=function(){v(p(e,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(c("::","ArgumentError"),"invalid name for block macro: "+this.name);return this.name},f.$$arity=0),g)&&"name"})(m[0],
p(m,"MacroProcessor"),m);a.const_set(p(m,"BlockMacroProcessor"),"DSL",p(m,"MacroProcessorDsl"));(function(d,$super,e){d=t(d,$super,"InlineMacroProcessor");var h=[d].concat(e),k,l;d.$$prototype.config=d.$$prototype.name=g;a.class_variable_set(h[0],"@@rx_cache",n([],{}));a.def(d,"$regexp",k=function(){var c,d=g;return v(c=this.config["$[]"]("regexp"))?c:(d=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],f(this.config,"[]=",a.to_a(d)),d[b(d.length,1)])},k.$$arity=0);return(a.def(d,
"$resolve_regexp",l=function(d,e){var k,l,m=g;v(p(h,"MacroNameRx")["$match?"](d))||this.$raise(c("::","ArgumentError"),"invalid name for inline macro: "+d);return v(k=(null==(l=h[0].$$cvars["@@rx_cache"])?g:l)["$[]"]([d,e]))?k:(m=[[d,e],new RegExp("\\\\?"+d+":"+(e["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],f(null==(l=h[0].$$cvars["@@rx_cache"])?g:l,"[]=",a.to_a(m)),m[b(m.length,1)])},l.$$arity=2),g)&&"resolve_regexp"})(m[0],p(m,"MacroProcessor"),m);(function(b,c){b=q(b,"InlineMacroProcessorDsl");
c=[b].concat(c);var d,e;b.$include(p(c,"MacroProcessorDsl"));a.def(b,"$format",d=function(a){return this.$option("format",a)},d.$$arity=1);a.alias(b,"match_format","format");a.alias(b,"using_format","format");a.def(b,"$match",e=function(a){return this.$option("regexp",a)},e.$$arity=1)})(m[0],m);a.const_set(p(m,"InlineMacroProcessor"),"DSL",p(m,"InlineMacroProcessorDsl"));(function(b,$super,c){b=t(b,$super,"Extension");[b].concat(c);var d;b.$attr_reader("kind");b.$attr_reader("config");b.$attr_reader("instance");
return(a.def(b,"$initialize",d=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},d.$$arity=3),g)&&"initialize"})(m[0],null,m);(function(b,$super,c){b=t(b,$super,"ProcessorExtension");[b].concat(c);var d;b.$attr_reader("process_method");return(a.def(b,"$initialize",d=function(b,c,e){var h;d.$$p&&(d.$$p=null);null==e&&(e=g);f(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,c,c.$config()],null);return this.process_method=v(h=e)?h:c.$method("process")},d.$$arity=-3),g)&&"initialize"})(m[0],
p(m,"Extension"),m);(function(b,$super,d){b=t(b,$super,"Group");d=[b].concat(d);var e;(function(b,c){var d=[b].concat(c),e;return(a.def(b,"$register",e=function(a){null==a&&(a=g);return p(d,"Extensions").$register(a,this)},e.$$arity=-1),g)&&"register"})(a.get_singleton_class(b),d);return(a.def(b,"$activate",e=function(a){return this.$raise(c("::","NotImplementedError"))},e.$$arity=1),g)&&"activate"})(m[0],null,m);(function(d,$super,e){d=t(d,$super,"Registry");var m=[d].concat(e),q,r,u,w,y,x,z,B,C,
D,E,H,F,G,I,J,L,Q,N,S,O,P,T,V,X,ba,ka,ea,ra,ha,va,Ba,la,Ma,Da;d.$$prototype.groups=d.$$prototype.preprocessor_extensions=d.$$prototype.tree_processor_extensions=d.$$prototype.postprocessor_extensions=d.$$prototype.include_processor_extensions=d.$$prototype.docinfo_processor_extensions=d.$$prototype.block_extensions=d.$$prototype.block_macro_extensions=d.$$prototype.inline_macro_extensions=g;d.$attr_reader("document");d.$attr_reader("groups");a.def(d,"$initialize",q=function(a){null==a&&(a=n([],{}));
this.groups=a;return this.document=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=g},q.$$arity=-1);a.def(d,"$activate",r=function(a){var b,d=g;this.document=a;v((d=h(p(m,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||f(d,"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=g);var e=
a;c("::","Proc")["$==="](e)?(e=a.$arity(),a=0["$==="](e)||-1["$==="](e)?f(d,"instance_exec",[],a.$to_proc()):1["$==="](e)?a.$call(d):g):a=c("::","Class")["$==="](e)?a.$new().$activate(d):a.$activate(d);return a},b.$$s=this,b.$$arity=1,b));return this},r.$$arity=1);a.def(d,"$preprocessor",u=function(b){var c=u.$$p,d=c||g;c&&(u.$$p=null);c&&(u.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["preprocessor",c],d.$to_proc())},u.$$arity=-1);a.def(d,"$preprocessors?",
w=function(){return this.preprocessor_extensions["$!"]()["$!"]()},w.$$arity=0);a.def(d,"$preprocessors",y=function(){return this.preprocessor_extensions},y.$$arity=0);a.def(d,"$tree_processor",x=function(b){var c=x.$$p,d=c||g;c&&(x.$$p=null);c&&(x.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["tree_processor",c],d.$to_proc())},x.$$arity=-1);a.def(d,"$tree_processors?",z=function(){return this.tree_processor_extensions["$!"]()["$!"]()},z.$$arity=0);
a.def(d,"$tree_processors",B=function(){return this.tree_processor_extensions},B.$$arity=0);a.alias(d,"treeprocessor","tree_processor");a.alias(d,"treeprocessors?","tree_processors?");a.alias(d,"treeprocessors","tree_processors");a.def(d,"$postprocessor",C=function(b){var c=C.$$p,d=c||g;c&&(C.$$p=null);c&&(C.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["postprocessor",c],d.$to_proc())},C.$$arity=-1);a.def(d,"$postprocessors?",D=function(){return this.postprocessor_extensions["$!"]()["$!"]()},
D.$$arity=0);a.def(d,"$postprocessors",E=function(){return this.postprocessor_extensions},E.$$arity=0);a.def(d,"$include_processor",H=function(b){var c=H.$$p,d=c||g;c&&(H.$$p=null);c&&(H.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["include_processor",c],d.$to_proc())},H.$$arity=-1);a.def(d,"$include_processors?",F=function(){return this.include_processor_extensions["$!"]()["$!"]()},F.$$arity=0);a.def(d,"$include_processors",G=function(){return this.include_processor_extensions},
G.$$arity=0);a.def(d,"$docinfo_processor",I=function(b){var c=I.$$p,d=c||g;c&&(I.$$p=null);c&&(I.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["docinfo_processor",c],d.$to_proc())},I.$$arity=-1);a.def(d,"$docinfo_processors?",J=function(a){var b;null==a&&(a=g);return v(this.docinfo_processor_extensions)?v(a)?f(this.docinfo_processor_extensions,"any?",[],(b=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=
1,b)):!0:!1},J.$$arity=-1);a.def(d,"$docinfo_processors",L=function(a){var b;null==a&&(a=g);return v(this.docinfo_processor_extensions)?v(a)?f(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:g},L.$$arity=-1);a.def(d,"$block",Q=function(b){var c=Q.$$p,d=c||g;c&&(Q.$$p=null);c&&(Q.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f(this,"add_syntax_processor",
["block",c],d.$to_proc())},Q.$$arity=-1);a.def(d,"$blocks?",N=function(){return this.block_extensions["$!"]()["$!"]()},N.$$arity=0);a.def(d,"$registered_for_block?",S=function(a,b){var c;return v(c=this.block_extensions["$[]"](a.$to_sym()))?v(c.$config()["$[]"]("contexts")["$include?"](b))?c:!1:!1},S.$$arity=2);a.def(d,"$find_block_extension",O=function(a){return this.block_extensions["$[]"](a.$to_sym())},O.$$arity=1);a.def(d,"$block_macro",P=function(b){var c=P.$$p,d=c||g;c&&(P.$$p=null);c&&(P.$$p=
null);c=a.slice.call(arguments,0,arguments.length);return f(this,"add_syntax_processor",["block_macro",c],d.$to_proc())},P.$$arity=-1);a.def(d,"$block_macros?",T=function(){return this.block_macro_extensions["$!"]()["$!"]()},T.$$arity=0);a.def(d,"$registered_for_block_macro?",V=function(a){var b;return v(b=this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},V.$$arity=1);a.def(d,"$find_block_macro_extension",X=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},X.$$arity=1);a.def(d,
"$inline_macro",ba=function(b){var c=ba.$$p,d=c||g;c&&(ba.$$p=null);c&&(ba.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f(this,"add_syntax_processor",["inline_macro",c],d.$to_proc())},ba.$$arity=-1);a.def(d,"$inline_macros?",ka=function(){return this.inline_macro_extensions["$!"]()["$!"]()},ka.$$arity=0);a.def(d,"$registered_for_inline_macro?",ea=function(a){var b;return v(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},ea.$$arity=1);a.def(d,"$find_inline_macro_extension",
ra=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},ra.$$arity=1);a.def(d,"$inline_macros",ha=function(){return this.inline_macro_extensions.$values()},ha.$$arity=0);a.def(d,"$prefer",va=function(b){var c=va.$$p,d=c||g,e=g;c&&(va.$$p=null);c&&(va.$$p=null);c=a.slice.call(arguments,0,arguments.length);d=v(p(m,"ProcessorExtension")["$==="](e=c.$shift()))?e:f(this,"send",[e].concat(a.to_a(c)),d.$to_proc());e=this.$instance_variable_get(("@"+d.$kind()+"_extensions").$to_sym());e.$unshift(e.$delete(d));
return d},va.$$arity=-1);d.$private();a.def(d,"$add_document_processor",Ba=function(b,d){var e=Ba.$$p,h=e||g,k,n,q,r=this,t=g,u=g,w=g,y=g,x=u=g,z=g,B=g,C=g,D=g;e&&(Ba.$$p=null);e&&(Ba.$$p=null);t=b.$to_s().$tr("_"," ");u=f(t.$split(),"map",[],(k=function(a){null==a&&(a=g);return a.$capitalize()},k.$$s=r,k.$$arity=1,k)).$join().$to_sym();w=p(m,"Extensions").$const_get(u,!1);y=v(c("::","AsciidoctorJ","skip_raise")?"constant":g)?c(c("::","AsciidoctorJ"),"Extensions").$const_get(u,!1):g;u=v(n=r.$instance_variable_get(("@"+
b+"_extensions").$to_sym()))?n:r.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);x=function(){if(h!==g)return z=r.$resolve_args(d,1),(B=w.$new(z)).$singleton_class().$enable_dsl(),h.$arity()["$=="](0)?f(B,"instance_exec",[],h.$to_proc()):a.yield1(h,B),v(B["$process_block_given?"]())||r.$raise(c("::","ArgumentError"),"No block specified to process "+t+" extension at "+h.$source_location()),B.$freeze(),p(m,"ProcessorExtension").$new(b,B);q=r.$resolve_args(d,2);n=a.to_ary(q);B=null==n[0]?
g:n[0];z=null==n[1]?g:n[1];q;return v(C=p(m,"Helpers").$resolve_class(B))?(v(v(n=l(C,w))?n:v(q=y)?l(C,y):q)||r.$raise(c("::","ArgumentError"),"Invalid type for "+t+" extension: "+B),D=C.$new(z),D.$freeze(),p(m,"ProcessorExtension").$new(b,D)):v(v(n=w["$==="](B))?n:v(q=y)?y["$==="](B):q)?(B.$update_config(z),B.$freeze(),p(m,"ProcessorExtension").$new(b,B)):r.$raise(c("::","ArgumentError"),"Invalid arguments specified for registering "+t+" extension: "+d)}();if(x.$config()["$[]"]("position")["$=="](">>"))u.$unshift(x);
else u["$<<"](x);return x},Ba.$$arity=2);a.def(d,"$add_syntax_processor",la=function(d,e){var h=la.$$p,k=h||g,q,r,t=g,u=g,w=g,y=g,x=u=g,z=g,B=g,C=w=g;w=g;h&&(la.$$p=null);h&&(la.$$p=null);t=d.$to_s().$tr("_"," ");u=f(t.$split(),"map",[],(q=function(a){null==a&&(a=g);return a.$capitalize()},q.$$s=this,q.$$arity=1,q))["$<<"]("Processor").$join().$to_sym();w=p(m,"Extensions").$const_get(u,!1);y=v(c("::","AsciidoctorJ","skip_raise")?"constant":g)?c(c("::","AsciidoctorJ"),"Extensions").$const_get(u,!1):
g;u=v(r=this.$instance_variable_get(("@"+d+"_extensions").$to_sym()))?r:this.$instance_variable_set(("@"+d+"_extensions").$to_sym(),n([],{}));if(k!==g)return h=this.$resolve_args(e,2),r=a.to_ary(h),x=null==r[0]?g:r[0],z=null==r[1]?g:r[1],h,(B=w.$new(this.$as_symbol(x),z)).$singleton_class().$enable_dsl(),k.$arity()["$=="](0)?f(B,"instance_exec",[],k.$to_proc()):a.yield1(k,B),v(x=this.$as_symbol(B.$name()))||this.$raise(c("::","ArgumentError"),"No name specified for "+t+" extension at "+k.$source_location()),
v(B["$process_block_given?"]())||this.$raise(c("::","NoMethodError"),"No block specified to process "+t+" extension at "+k.$source_location()),B.$freeze(),w=[x,p(m,"ProcessorExtension").$new(d,B)],f(u,"[]=",a.to_a(w)),w[b(w.length,1)];h=this.$resolve_args(e,3);r=a.to_ary(h);B=null==r[0]?g:r[0];x=null==r[1]?g:r[1];z=null==r[2]?g:r[2];h;return v(C=p(m,"Helpers").$resolve_class(B))?(v(v(r=l(C,w))?r:v(h=y)?l(C,y):h)||this.$raise(c("::","ArgumentError"),"Class specified for "+t+" extension does not inherit from "+
w+": "+B),w=C.$new(this.$as_symbol(x),z),v(x=this.$as_symbol(w.$name()))||this.$raise(c("::","ArgumentError"),"No name specified for "+t+" extension: "+B),w.$freeze(),w=[x,p(m,"ProcessorExtension").$new(d,w)],f(u,"[]=",a.to_a(w)),w[b(w.length,1)]):v(v(r=w["$==="](B))?r:v(h=y)?y["$==="](B):h)?(B.$update_config(z),v(x)?(w=[this.$as_symbol(x)],f(B,"name=",a.to_a(w)),e=w[b(w.length,1)]):e=this.$as_symbol(B.$name()),v(x=e)||this.$raise(c("::","ArgumentError"),"No name specified for "+t+" extension: "+
B),B.$freeze(),w=[x,p(m,"ProcessorExtension").$new(d,B)],f(u,"[]=",a.to_a(w)),w[b(w.length,1)]):this.$raise(c("::","ArgumentError"),"Invalid arguments specified for registering "+t+" extension: "+e)},la.$$arity=2);a.def(d,"$resolve_args",Ma=function(a,d){var e=g;var f=v(c("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():n([],{});if(d["$=="](1))return f;v(k(e=b(b(d,1),a.$size()),0))?a=h(a,c("::","Array").$new(e)):v(l(e,0))&&a.$pop(e["$-@"]());a["$<<"](f);return a},Ma.$$arity=2);return(a.def(d,"$as_symbol",
Da=function(a){return v(a)?a.$to_sym():g},Da.$$arity=1),g)&&"as_symbol"})(m[0],null,m);(function(d,k){var l=[d].concat(k),m,q,r,t,w,x,y;a.def(d,"$generate_name",m=function(){return"extgrp"+this.$next_auto_id()},m.$$arity=0);a.def(d,"$next_auto_id",q=function(){var a;null==this.auto_id&&(this.auto_id=g);this.auto_id=v(a=this.auto_id)?a:-1;return this.auto_id=h(this.auto_id,1)},q.$$arity=0);a.def(d,"$groups",r=function(){var a;null==this.groups&&(this.groups=g);return this.groups=v(a=this.groups)?a:
n([],{})},r.$$arity=0);a.def(d,"$create",t=function(a){var b=t.$$p,c=b||g,d;b&&(t.$$p=null);b&&(t.$$p=null);null==a&&(a=g);return c!==g?p(l,"Registry").$new(e(v(d=a)?d:this.$generate_name(),c)):p(l,"Registry").$new()},t.$$arity=-1);a.def(d,"$register",w=function(d){var e=w.$$p,h=e||g,k,m=g,n;e&&(w.$$p=null);e&&(w.$$p=null);e=a.slice.call(arguments,0,arguments.length);var q=e.$size();h!==g?m=h:v(n=e.$pop())?m=v(k=p(l,"Helpers").$resolve_class(n))?k:n:this.$raise(c("::","ArgumentError"),"Extension group to register not specified");
h=v(k=e.$pop())?k:this.$generate_name();v(e["$empty?"]())||this.$raise(c("::","ArgumentError"),"Wrong number of arguments ("+q+" for 1..2)");k=[h.$to_sym(),m];f(this.$groups(),"[]=",a.to_a(k));return k[b(k.length,1)]},w.$$arity=-1);a.def(d,"$unregister_all",x=function(){this.groups=n([],{});return g},x.$$arity=0);return(a.def(d,"$unregister",y=function(b){var c;var d=a.slice.call(arguments,0,arguments.length);f(d,"each",[],(c=function(a){var b=c.$$s||this;null==b.groups&&(b.groups=g);null==a&&(a=
g);return b.groups.$delete(a.$to_sym())},c.$$s=this,c.$$arity=1,c));return g},y.$$arity=-1),g)&&"unregister"})(a.get_singleton_class(d),m)})(d[0],d)}(m[0],m)};Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(a){var b=[],h=a.nil,k=a.const_get_qualified,l=a.module,m=a.klass,g=a.truthy;a.add_stubs(["$rstrip","$read","$join"]);return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,c){b=m(b,$super,"Stylesheets");[b].concat(c);var d;b.$$prototype.primary_stylesheet_data=
h;return(a.def(b,"$primary_stylesheet_data",d=function(){var a;return this.primary_stylesheet_data=g(a=this.primary_stylesheet_data)?a:k("::","IO").$read(k("::","File").$join("css","asciidoctor.css")).$rstrip()},d.$$arity=0),h)&&"primary_stylesheet_data"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.module,m=a.klass;return function(b,c){b=[l(b,"Asciidoctor")].concat(c);(function(b,$super,c){b=m(b,$super,"Document");
[b].concat(c);var d;return(a.def(b,"$fill_datetime_attributes",d=function(b,c){var d=a.truthy,f=a.falsy,g=a.nil,h=function(a,b){return 0===b?a.getUTCFullYear():a.getFullYear()},k=function(a,b){return 0===b?a.getUTCMonth():a.getMonth()},l=function(a,b){return 0===b?a.getUTCDate():a.getDate()},m=function(a,b){return 0===b?a.getUTCHours():a.getHours()},n=new Date;if(a.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")){n.setTime(1E3*parseInt(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH")));
var p=n;var r=0}else r=-n.getTimezoneOffset()/60;if(d(localdate=b["$[]"]("localdate")))f(localyear=b["$[]"]("localyear"))&&(localyear=4===localdate.indexOf("-")?localdate.substring(0,4):g,b["$[]="]("localyear",localyear));else{var t=h(n,r).toString(),v=("0"+(k(n,r)+1)).slice(-2),w=("0"+l(n,r)).slice(-2);localdate=t+"-"+v+"-"+w;b["$[]="]("localdate",localdate);localyear=t;b["$[]="]("localyear",t)}if(f(localtime=b["$[]"]("localtime"))){v=("0"+m(n,r)).slice(-2);w=("0"+n.getMinutes()).slice(-2);var x=
("0"+n.getSeconds()).slice(-2);t=0===r?"UTC":0<r?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5);localtime=v+":"+w+":"+x+" "+t;b["$[]="]("localtime",localtime)}f(localdatetime=b["$[]"]("localdatetime"))&&(localdatetime=localdate+" "+localtime,b["$[]="]("localdatetime",localdatetime));d(p)?c=p:d(c)?r=-c.getTimezoneOffset()/60:c=n;if(d(docdate=b["$[]"]("docdate")))b["$[]="]("docyear",4===docdate.indexOf("-")?docdate.substring(0,4):g);else if(d=h(c,r).toString(),k=("0"+(k(c,r)+1)).slice(-2),l=("0"+l(c,
r)).slice(-2),docdate=d+"-"+k+"-"+l,b["$[]="]("docdate",docdate),f(b["$[]"]("docyear")))b["$[]="]("docyear",d);f(doctime=b["$[]"]("doctime"))&&(m=("0"+m(c,r)).slice(-2),l=("0"+c.getMinutes()).slice(-2),c=("0"+c.getSeconds()).slice(-2),t=0===r?"UTC":0<r?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5),doctime=m+":"+l+":"+c+" "+t,b["$[]="]("doctime",doctime));if(f(b["$[]"]("docdatetime")))b["$[]="]("docdatetime",docdate+" "+doctime);return g},d.$$arity=2),h)&&"fill_datetime_attributes"})(b[0],k(b,"AbstractBlock"),
b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(a){var b=[],h=a.module;return function(b,d){b=[h(b,"Asciidoctor")].concat(d);(function(b,d){b=h(b,"Substitutors");[b].concat(d);var c;a.def(b,"$sub_placeholder",c=function(a,b){return a.replace("%s",b)},c.$$arity=2)})(b[0],b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(a){var b=[],h=a.nil,k=a.module,l=a.klass,m=a.truthy;return function(b,c){b=[k(b,"Asciidoctor")].concat(c);(function(b,$super,
c){b=l(b,$super,"Parser");[b].concat(c);var d,g;return m(String.prototype.repeat)?(a.defs(b,"$uniform?",d=function(a,b,c){return b.repeat(c)===a},d.$$arity=3),h)&&"uniform?":(a.defs(b,"$uniform?",g=function(a,b,c){return Array.apply(null,{length:c}).map(function(){return b}).join("")===a},g.$$arity=3),h)&&"uniform?"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.module,m=a.truthy;a.add_stubs("$key? $registry $[] $include? $include $empty? $debug $logger $join $keys".split(" "));
return function(b,c){b=[l(b,"Asciidoctor")].concat(c);(function(b,c){b=[l(b,"SyntaxHighlighter")].concat(c);(function(b,c){b=l(b,"Factory");var d=[b].concat(c),f;a.def(b,"$for",f=function(a){if(m(this.$registry()["$key?"](a)))return this.$registry()["$[]"](a);m(this["$include?"](k(d,"Logging")))||this.$include(k(d,"Logging"));m(this.$registry()["$empty?"]())?this.$logger().$debug("no syntax highlighter available, functionality disabled."):this.$logger().$debug("syntax highlighter named '"+a+"' is not available, must be one of: '"+
this.$registry().$keys().$join("', '")+"'.");return h},f.$$arity=1)})(b[0],b)})(b[0],b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/asciidoctor_ext/stylesheet");b.$require("asciidoctor/js/asciidoctor_ext/document");b.$require("asciidoctor/js/asciidoctor_ext/substitutors");b.$require("asciidoctor/js/asciidoctor_ext/parser");b.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter");b.$require("asciidoctor/js/asciidoctor_ext/browser")};
Opal.modules["asciidoctor/js/opal_ext/logger"]=function(a){var b=[],h=a.nil,k=a.const_get_relative,l=a.klass,m=a.truthy;a.add_stubs("$chr $rjust $message_as_string $< $write $call $[]".split(" "));return function(b,$super,d){b=l(b,$super,"Logger");var g=[b].concat(d),p;b.$$prototype.level=b.$$prototype.progname=b.$$prototype.pipe=b.$$prototype.formatter=h;(function(b,$super,d){b=l(b,$super,"Formatter");[b].concat(d);var e;return(a.def(b,"$call",e=function(a,b,d,e){b=b.getFullYear()+"-"+("0"+(b.getMonth()+
1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2)+"T"+("0"+b.getHours()).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+":"+("0"+b.getSeconds()).slice(-2)+"."+("00"+1E3*(new Date).getMilliseconds()).slice(-6);return""+a.$chr()+", ["+b+"] "+a.$rjust(5)+" -- "+d+": "+this.$message_as_string(e)},e.$$arity=4),h)&&"call"})(g[0],null,g);return(a.def(b,"$add",p=function(b,d,f){var e=p.$$p,l=e||h,n;e&&(p.$$p=null);e&&(p.$$p=null);null==d&&(d=h);null==f&&(f=h);e=b=m(n=b)?n:k(g,"UNKNOWN");var q=this.level;e="number"===
typeof e&&"number"===typeof q?e<q:e["$<"](q);if(m(e))return!0;f=m(n=f)?n:this.progname;m(d)||(l!==h?d=a.yieldX(l,[]):(d=f,f=this.progname));this.pipe.$write(this.formatter.$call(m(n=k(g,"SEVERITY_LABELS")["$[]"](b))?n:"ANY",new Date,f,d));return!0},p.$$arity=-2),h)&&"add"}(b[0],null,b)};Opal.modules["asciidoctor/js/postscript"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");b.$require("asciidoctor/extensions");
b.$require("asciidoctor/js/asciidoctor_ext");return b.$require("asciidoctor/js/opal_ext/logger")};(function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=a.top,k=[],l=a.nil,m=a.const_get_qualified,g=a.const_get_relative,c=a.module,p=a.send,q=a.hash2,t=a.truthy,v=a.hash;a.add_stubs("$require $== $tap $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $singleton_class $<< $define $dirname $absolute_path $__dir__ $join $home $pwd $to_set $each_key $slice $length $merge $default= $to_a $empty? $escape $drop $insert".split(" "));
h.$require("set");g(k,"RUBY_ENGINE")["$=="]("opal")?h.$require("asciidoctor/js"):l;(function(d,f){d=c(d,"Asciidoctor");var e=[d].concat(f),h,k,n,r,w,x,u=l;a.const_set(e[0],"RUBY_ENGINE_OPAL",a.const_set(e[0],"RUBY_ENGINE",m("::","RUBY_ENGINE"))["$=="]("opal"));(function(d,e){d=c(d,"SafeMode");e=[d].concat(e);var f,g,h,k;a.const_set(e[0],"UNSAFE",0);a.const_set(e[0],"SAFE",1);a.const_set(e[0],"SERVER",10);a.const_set(e[0],"SECURE",20);d.names_by_value=p(q([],{}),"tap",[],(f=function(c){var d=f.$$s||
this,e;null==c&&(c=l);return p(d.$constants(!1),"each",[],(e=function(d){var f=e.$$s||this;null==d&&(d=l);d=[f.$const_get(d,!1),d.$to_s().$downcase()];p(c,"[]=",a.to_a(d));return d[b(d.length,1)]},e.$$s=d,e.$$arity=1,e))},f.$$s=d,f.$$arity=1,f));a.defs(d,"$value_for_name",g=function(a){return this.$const_get(a.$upcase(),!1)},g.$$arity=1);a.defs(d,"$name_for_value",h=function(a){null==this.names_by_value&&(this.names_by_value=l);return this.names_by_value["$[]"](a)},h.$$arity=1);a.defs(d,"$names",
k=function(){null==this.names_by_value&&(this.names_by_value=l);return this.names_by_value.$values()},k.$$arity=0)})(e[0],e);(function(b,d){b=c(b,"Compliance");d=[b].concat(d);b.keys=m("::","Set").$new();(function(b,c){[b].concat(c);var d;b.$attr_reader("keys");return(a.def(b,"$define",d=function(a,b){null==this.keys&&(this.keys=l);this.$instance_variable_set("@"+a,b);this.$singleton_class().$send("attr_accessor",a);this.keys["$<<"](a);return l},d.$$arity=2),l)&&"define"})(a.get_singleton_class(b),
d);b.$define("block_terminates_paragraph",!0);b.$define("strict_verbatim_paragraphs",!0);b.$define("underline_style_section_titles",!0);b.$define("unwrap_standalone_preamble",!0);b.$define("attribute_missing","skip");b.$define("attribute_undefined","drop-line");b.$define("shorthand_property_syntax",!0);b.$define("natural_xrefs",!0);b.$define("unique_id_start_index",2);b.$define("markdown_syntax",!0)})(e[0],e);t(g(e,"ROOT_DIR","skip_raise")?"constant":l)||a.const_set(e[0],"ROOT_DIR",m("::","File").$dirname(m("::",
"File").$absolute_path(d.$__dir__())));a.const_set(e[0],"LIB_DIR",m("::","File").$join(g(e,"ROOT_DIR"),"lib"));a.const_set(e[0],"DATA_DIR",m("::","File").$join(g(e,"ROOT_DIR"),"data"));a.const_set(e[0],"USER_HOME",function(){try{return m("::","Dir").$home()}catch(W){if(a.rescue(W,[g(e,"StandardError")]))try{return t(h=m("::","ENV")["$[]"]("HOME"))?h:m("::","Dir").$pwd()}finally{a.pop_exception()}else throw W;}}());a.const_set(e[0],"LF","\n");a.const_set(e[0],"NULL","\x00");a.const_set(e[0],"TAB",
"\t");a.const_set(e[0],"MAX_INT",9007199254740991);a.const_set(e[0],"UTF_8",m(m("::","Encoding"),"UTF_8"));a.const_set(e[0],"BOM_BYTES_UTF_8",[239,187,191]);a.const_set(e[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(e[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(e[0],"FILE_READ_MODE",t(g(e,"RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8");a.const_set(e[0],"URI_READ_MODE",g(e,"FILE_READ_MODE"));a.const_set(e[0],"FILE_WRITE_MODE",t(g(e,"RUBY_ENGINE_OPAL"))?"w":"w:utf-8");a.const_set(e[0],"DEFAULT_DOCTYPE",
"article");a.const_set(e[0],"DEFAULT_BACKEND","html5");a.const_set(e[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(e[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(e[0],"BACKEND_ALIASES",q(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(e[0],"DEFAULT_PAGE_WIDTHS",q(["docbook"],{docbook:425}));a.const_set(e[0],"DEFAULT_EXTENSIONS",q("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",
asciidoc:".adoc"}));a.const_set(e[0],"ASCIIDOC_EXTENSIONS",q([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0}));a.const_set(e[0],"SETEXT_SECTION_LEVELS",q(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(e[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(e[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set());a.const_set(e[0],"PARAGRAPH_STYLES","comment example literal listing normal open pass quote sidebar source verse abstract partintro".split(" ").$to_set());
a.const_set(e[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(e[0],"DELIMITED_BLOCKS",q("-- ---- .... ==== **** ____ ++++ |=== ,=== :=== !=== //// ```".split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",m("::","Set").$new()],
____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",m("::","Set").$new()],",===":["table",m("::","Set").$new()],":===":["table",m("::","Set").$new()],"!===":["table",m("::","Set").$new()],"////":["comment",m("::","Set").$new()],"```":["fenced_code",m("::","Set").$new()]}));a.const_set(e[0],"DELIMITED_BLOCK_HEADS",p(q([],{}),"tap",[],(k=function(c){var d=k.$$s||this,f;null==c&&(c=l);return p(g(e,"DELIMITED_BLOCKS"),"each_key",[],(f=function(d){null==
d&&(d=l);d=[d.$slice(0,2),!0];p(c,"[]=",a.to_a(d));return d[b(d.length,1)]},f.$$s=d,f.$$arity=1,f))},k.$$s=d,k.$$arity=1,k)));a.const_set(e[0],"DELIMITED_BLOCK_TAILS",p(q([],{}),"tap",[],(n=function(c){var d=n.$$s||this,f;null==c&&(c=l);return p(g(e,"DELIMITED_BLOCKS"),"each_key",[],(f=function(d){null==d&&(d=l);return d.$length()["$=="](4)?(d=[d,d["$[]"](b(d.$length(),1))],p(c,"[]=",a.to_a(d)),d[b(d.length,1)]):l},f.$$s=d,f.$$arity=1,f))},n.$$s=d,n.$$arity=1,n)));a.const_set(e[0],"CAPTION_ATTR_NAMES",
q(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"}));a.const_set(e[0],"LAYOUT_BREAK_CHARS",q(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(e[0],"MARKDOWN_THEMATIC_BREAK_CHARS",q(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(e[0],"HYBRID_LAYOUT_BREAK_CHARS",g(e,"LAYOUT_BREAK_CHARS").$merge(g(e,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(e[0],"NESTABLE_LIST_CONTEXTS",
["ulist","olist","dlist"]);a.const_set(e[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.const_set(e[0],"ORDERED_LIST_KEYWORDS",q(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(e[0],"ATTR_REF_HEAD","{");a.const_set(e[0],"LIST_CONTINUATION","+");a.const_set(e[0],"HARD_LINE_BREAK"," +");a.const_set(e[0],"LINE_CONTINUATION"," \\");a.const_set(e[0],"LINE_CONTINUATION_LEGACY"," +");
a.const_set(e[0],"BLOCK_MATH_DELIMITERS",q(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(e[0],"INLINE_MATH_DELIMITERS",q(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));u=["asciimath"];p(a.const_set(e[0],"STEM_TYPE_ALIASES",q(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",a.to_a(u));u[b(u.length,1)];a.const_set(e[0],"FONT_AWESOME_VERSION","4.7.0");a.const_set(e[0],"HIGHLIGHT_JS_VERSION",
"9.15.6");a.const_set(e[0],"MATHJAX_VERSION","2.7.5");a.const_set(e[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);g(e,"RUBY_ENGINE")["$=="]("opal")||l;a.const_set(e[0],"AuthorInfoLineRx",new RegExp("^("+g(e,"CG_WORD")+"["+g(e,"CC_WORD")+"\\-'.]*)(?: +("+g(e,"CG_WORD")+"["+g(e,"CC_WORD")+"\\-'.]*))?(?: +("+g(e,"CG_WORD")+"["+g(e,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(e[0],"AuthorDelimiterRx",/;(?: |$)/);a.const_set(e[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+g(e,"CC_ANY")+"*?),)? *(?!:)("+
g(e,"CC_ANY")+"*?)(?: *(?!^),?: *("+g(e,"CC_ANY")+"*))?$"));a.const_set(e[0],"ManpageTitleVolnumRx",new RegExp("^("+g(e,"CC_ANY")+"+?) *\\( *("+g(e,"CC_ANY")+"+?) *\\)$"));a.const_set(e[0],"ManpageNamePurposeRx",new RegExp("^("+g(e,"CC_ANY")+"+?) +- +("+g(e,"CC_ANY")+"+)$"));a.const_set(e[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+g(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"EvalExpressionRx",new RegExp("^("+g(e,"CC_ANY")+"+?) *([=!><]=|[><]) *("+
g(e,"CC_ANY")+"+)$"));a.const_set(e[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+g(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m);a.const_set(e[0],"AttributeEntryRx",new RegExp("^:(!?"+g(e,"CG_WORD")+"[^:]*):(?:[ \\t]+("+g(e,"CC_ANY")+"*))?$"));a.const_set(e[0],"InvalidAttributeNameCharsRx",new RegExp("[^-"+g(e,"CC_WORD")+"]"));g(e,"RUBY_ENGINE")["$=="]("opal")?a.const_set(e[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+
g(e,"CC_ALL")+"*)\\]$")):l;a.const_set(e[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+g(e,"CG_WORD")+"[-"+g(e,"CC_WORD")+"]*|(set|counter2?):"+g(e,"CC_ANY")+"+?)(\\\\)?\\}"));a.const_set(e[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+g(e,"CC_ALPHA")+"_:]["+g(e,"CC_WORD")+":.-]*)(?:, *("+g(e,"CC_ANY")+"+))?)\\]\\]$"));a.const_set(e[0],"BlockAttributeListRx",new RegExp("^\\[(|["+g(e,"CC_WORD")+".#%{,\"']"+g(e,"CC_ANY")+"*)\\]$"));a.const_set(e[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+
g(e,"CC_WORD")+".#%{,\"']"+g(e,"CC_ANY")+"*|\\[(?:|["+g(e,"CC_ALPHA")+"_:]["+g(e,"CC_WORD")+":.-]*(?:, *"+g(e,"CC_ANY")+"+)?)\\])\\]$"));a.const_set(e[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+g(e,"CC_ANY")+"*)$"));a.const_set(e[0],"AdmonitionParagraphRx",new RegExp("^("+g(e,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+"));a.const_set(e[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+g(e,"CC_ANY")+"*)$"));a.const_set(e[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+g(e,"CC_ANY")+
"+?)(?:[ \\t]+\\1)?$"));a.const_set(e[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+g(e,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$"));a.const_set(e[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+g(e,"CC_ANY")+"*?"+g(e,"CG_ALNUM")+g(e,"CC_ANY")+"*)$"));a.const_set(e[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+g(e,"CC_ALPHA")+"_:]["+g(e,"CC_WORD")+":.-]*)(?:, *("+g(e,"CC_ANY")+"+))?\\]\\]$"));a.const_set(e[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+
g(e,"CC_WORD")+"\\-.]+?"));a.const_set(e[0],"SectionLevelStyleRx",/^sect\d$/);a.const_set(e[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+g(e,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<?\\d+>[ \\t])"));a.const_set(e[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+g(e,"CC_ANY")+"*)$"));a.const_set(e[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+g(e,
"CC_ANY")+"*)$"));a.const_set(e[0],"OrderedListMarkerRxMap",q(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(e[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+g(e,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+g(e,"CC_ANY")+"*)$)"));a.const_set(e[0],"DescriptionListSiblingRx",q(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+g(e,"CC_ANY")+
"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+g(e,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+g(e,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+g(e,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+g(e,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+g(e,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+g(e,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+g(e,"CC_ANY")+"*)$)")}));a.const_set(e[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+g(e,"CC_ANY")+"*)$"));a.const_set(e[0],
"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/);a.const_set(e[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)");a.const_set(e[0],"CalloutExtractRxMap",p(m("::","Hash"),"new",[],(r=function(c,d){null==c&&(c=l);null==d&&(d=l);u=[d,new RegExp("("+(t(d["$empty?"]())?"":""+m("::","Regexp").$escape(d)+" ?")+")?"+g(e,"CalloutExtractRxt"))];p(c,"[]=",a.to_a(u));return u[b(u.length,1)]},r.$$s=d,r.$$arity=2,r)));a.const_set(e[0],
"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+g(e,"CC_EOL")+")"));a.const_set(e[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+g(e,"CC_EOL")+")"));a.const_set(e[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+g(e,"CC_EOL")+")");a.const_set(e[0],"CalloutSourceRxMap",p(m("::","Hash"),"new",[],(w=function(c,d){null==c&&(c=l);null==
d&&(d=l);u=[d,new RegExp("("+(t(d["$empty?"]())?"":""+m("::","Regexp").$escape(d)+" ?")+")?"+g(e,"CalloutSourceRxt"))];p(c,"[]=",a.to_a(u));return u[b(u.length,1)]},w.$$s=d,w.$$arity=2,w)));a.const_set(e[0],"ListRxMap",q(["ulist","olist","dlist","colist"],{ulist:g(e,"UnorderedListRx"),olist:g(e,"OrderedListRx"),dlist:g(e,"DescriptionListRx"),colist:g(e,"CalloutListRx")}));a.const_set(e[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/);a.const_set(e[0],"CellSpecStartRx",
/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(e[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(e[0],"CustomBlockMacroRx",new RegExp("^("+g(e,"CG_WORD")+"[-"+g(e,"CC_WORD")+"]*)::(|\\S|\\S"+g(e,"CC_ANY")+"*?\\S)\\[("+g(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+g(e,"CC_ANY")+"*?\\S)\\[("+g(e,
"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+g(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+g(e,"CC_ALPHA")+"_:]["+g(e,"CC_WORD")+":.-]*)(?:, *("+g(e,"CC_ANY")+"+?))?\\]\\]|anchor:(["+g(e,"CC_ALPHA")+"_:]["+g(e,"CC_WORD")+":.-]*)\\[(?:\\]|("+g(e,"CC_ANY")+"*?[^\\\\])\\]))"));a.const_set(e[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+g(e,"CC_ALPHA")+"_:]["+g(e,"CC_WORD")+":.-]*)(?:, *("+g(e,"CC_ANY")+
"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+g(e,"CC_ALPHA")+"_:]["+g(e,"CC_WORD")+":.-]*)\\[(?:\\]|("+g(e,"CC_ANY")+"*?[^\\\\])\\])"));a.const_set(e[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+g(e,"CC_ALPHA")+"_:]["+g(e,"CC_WORD")+":.-]*)(?:, *("+g(e,"CC_ANY")+"+?))?\\]\\]"));a.const_set(e[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+g(e,"CC_ALPHA")+"_:]["+g(e,"CC_WORD")+":.-]*)(?:, *("+g(e,"CC_ANY")+"+?))?\\]\\]\\]"));a.const_set(e[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+g(e,"CG_WORD")+
"(?:&amp;|["+g(e,"CC_WORD")+".%+-])*@"+g(e,"CG_ALNUM")+"["+g(e,"CC_ALNUM")+"_.-]*\\.[a-zA-Z]{2,5}\\b"));a.const_set(e[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:([\\w-]+)?)\\[(?:|("+g(e,"CC_ALL")+"*?[^\\\\]))\\]","m"));a.const_set(e[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+g(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+g(e,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+
g(e,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(e[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+g(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineLinkRx",new RegExp("(^|link:|"+g(e,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|"+g(e,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(e[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+g(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],
"MacroNameRx",new RegExp("^"+g(e,"CG_WORD")+"[-"+g(e,"CC_WORD")+"]*$"));a.const_set(e[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+g(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+g(e,"CG_WORD")+"|["+g(e,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+g(e,"CC_ALL")+"*?[^\\\\])?\\]","m"));a.const_set(e[0],"InlineMenuRx",new RegExp('\\\\?"(['+g(e,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));a.const_set(e[0],
"InlinePassRx",v(!1,["+","`",new RegExp("(^|[^"+g(e,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)\\4)(?!"+g(e,"CG_WORD")+")","m")],!0,["`",l,new RegExp("(^|[^`"+g(e,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+g(e,"CC_ALL")+"*?\\S)\\4)(?![`"+g(e,"CC_WORD")+"])","m")]));a.const_set(e[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)\\+$","m"));a.const_set(e[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+
g(e,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+g(e,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(e[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+g(e,"CC_WORD")+"#/.:{]"+g(e,"CC_ALL")+"*?)&gt;&gt;|xref:(["+g(e,"CC_WORD")+"#/.:{]"+g(e,"CC_ALL")+"*?)\\[(?:\\]|("+g(e,"CC_ALL")+"*?[^\\\\])\\]))","m"));g(e,"RUBY_ENGINE")["$=="]("opal")?a.const_set(e[0],"HardLineBreakRx",new RegExp("^("+g(e,"CC_ANY")+"*) \\+$","m")):l;a.const_set(e[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);
a.const_set(e[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(e[0],"BlankLineRx",/\n{2,}/);a.const_set(e[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(e[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(e[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(e[0],"SubModifierSniffRx",/[+-]/);a.const_set(e[0],"TrailingDigitsRx",/\d+$/);a.const_set(e[0],"UriSniffRx",new RegExp("^"+g(e,"CG_ALPHA")+"["+g(e,"CC_ALNUM")+".+-]+:/{0,2}"));a.const_set(e[0],"XmlSanitizeRx",
/<[^>]+>/);a.const_set(e[0],"INTRINSIC_ATTRIBUTES",q("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar pp cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",
rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"}));a.const_set(e[0],"QUOTE_SUBS",p(q([],{}),"tap",[],(x=function(c){var d;null==c&&(c=l);u=[!1,d=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+g(e,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+g(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)\\*(?!"+g(e,"CG_WORD")+")","m")],["double","constrained",
new RegExp("(^|[^"+g(e,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+g(e,"CC_ALL")+'*?\\S)`"(?!'+g(e,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+g(e,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)`'(?!"+g(e,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+g(e,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+g(e,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)`(?!["+
g(e,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+g(e,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+g(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)_(?!"+g(e,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+g(e,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+g(e,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)#(?!"+g(e,"CG_WORD")+
")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]];p(c,"[]=",a.to_a(u));u[b(u.length,1)];u=[!0,d=d.$drop(0)];p(c,"[]=",a.to_a(u));u[b(u.length,1)];u=[2,["double","constrained",new RegExp("(^|[^"+g(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)''(?!"+g(e,"CG_WORD")+")","m")]];p(d,"[]=",a.to_a(u));u[b(u.length,1)];u=[3,["single","constrained",new RegExp("(^|[^"+g(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+
g(e,"CC_ALL")+"*?\\S)'(?!"+g(e,"CG_WORD")+")","m")]];p(d,"[]=",a.to_a(u));u[b(u.length,1)];u=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+g(e,"CC_ALL")+"+?)\\+\\+","m")]];p(d,"[]=",a.to_a(u));u[b(u.length,1)];u=[5,["monospaced","constrained",new RegExp("(^|[^"+g(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)\\+(?!"+g(e,"CG_WORD")+")","m")]];p(d,"[]=",a.to_a(u));u[b(u.length,1)];return d.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+
g(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+g(e,"CC_ALL")+"*?\\S)'(?!"+g(e,"CG_WORD")+")","m")])},x.$$s=d,x.$$arity=1,x)));a.const_set(e[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+g(e,"CG_WORD")+")\\\\?--(?="+g(e,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+g(e,"CG_ALNUM")+")\\\\?'(?="+
g(e,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]);g(e,"RUBY_ENGINE")["$=="]("opal")||l;g(e,"RUBY_ENGINE")["$=="]("opal")||l})(k[0],k);h.$require("asciidoctor.rb/../asciidoctor/core_ext");h.$require("asciidoctor.rb/../asciidoctor/helpers");h.$require("asciidoctor.rb/../asciidoctor/logging");
h.$require("asciidoctor.rb/../asciidoctor/substitutors");h.$require("asciidoctor.rb/../asciidoctor/version");h.$require("asciidoctor.rb/../asciidoctor/abstract_node");h.$require("asciidoctor.rb/../asciidoctor/abstract_block");h.$require("asciidoctor.rb/../asciidoctor/attribute_list");h.$require("asciidoctor.rb/../asciidoctor/block");h.$require("asciidoctor.rb/../asciidoctor/callouts");h.$require("asciidoctor.rb/../asciidoctor/converter");h.$require("asciidoctor.rb/../asciidoctor/document");h.$require("asciidoctor.rb/../asciidoctor/inline");
h.$require("asciidoctor.rb/../asciidoctor/list");h.$require("asciidoctor.rb/../asciidoctor/parser");h.$require("asciidoctor.rb/../asciidoctor/path_resolver");h.$require("asciidoctor.rb/../asciidoctor/reader");h.$require("asciidoctor.rb/../asciidoctor/section");h.$require("asciidoctor.rb/../asciidoctor/stylesheets");h.$require("asciidoctor.rb/../asciidoctor/table");h.$require("asciidoctor.rb/../asciidoctor/writer");h.$require("asciidoctor.rb/../asciidoctor/load");h.$require("asciidoctor.rb/../asciidoctor/convert");
return g(k,"RUBY_ENGINE")["$=="]("opal")?(h.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),h.$require("asciidoctor.rb/../asciidoctor/timings"),h.$require("asciidoctor/js/postscript")):l})(Opal);var t=function(a){return a&&!a.$$is_hash?Opal.hash2(Object.keys(a),a):a},h=function(a){var b={};a=a.$$smap;for(var h in a)b[h]=a[h];return b},v=function(a){if(a=t(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",t(b)))}return a},
l=Opal.Asciidoctor.$$class;l.prototype.getCoreVersion=function(){return this.$$const.VERSION};l.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}};l.prototype.convert=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));a=this.$convert(a,
v(b));return a===Opal.nil?"":a};l.prototype.convertFile=function(a,b){return this.$convert_file(a,v(b))};l.prototype.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));return this.$load(a,v(b))};l.prototype.loadFile=function(a,b){return this.$load_file(a,v(b))};l=Opal.Asciidoctor.AbstractBlock;l.prototype.append=function(a){this.$append(a);return this};l.prototype.applySubstitutions=function(a,b){return this.$apply_subs(a,b)};l.prototype.getTitle=function(){var a=
this.$title();return a===Opal.nil?void 0:a};l.prototype.getCaptionedTitle=function(){return this.$captioned_title()};l.prototype.getStyle=function(){return this.style};l.prototype.getCaption=function(){return this.$caption()};l.prototype.setCaption=function(a){this.caption=a};l.prototype.getLevel=function(){return this.level};l.prototype.getSubstitutions=function(){return this.subs};l.prototype.hasSubstitution=function(a){return this["$sub?"](a)};l.prototype.removeSubstitution=function(a){this.$remove_sub(a)};
l.prototype.hasBlocks=function(){return 0<this.blocks.length};l.prototype.getBlocks=function(){return this.blocks};l.prototype.getContent=function(){return this.$content()};l.prototype.convert=function(){return this.$convert()};l.prototype.findBy=function(a,b){return"undefined"===typeof b&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[t(a)],b):this.$find_by(t(a))};l.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?
void 0:a};l.prototype.hasSections=function(){return this["$sections?"]()};l.prototype.getSections=function(){return this.$sections()};l.prototype.getNumeral=function(){return this.$numeral()};l.prototype.setNumeral=function(a){return this["$numeral="](a)};l.prototype.hasTitle=function(){return this["$title?"]()};l=Opal.Asciidoctor.Section;l.prototype.getIndex=function(){return this.index};l.prototype.setIndex=function(a){this.index=a};l.prototype.getSectionName=function(){return this.sectname};l.prototype.setSectionName=
function(a){this.sectname=a};l.prototype.isSpecial=function(){return this.special};l.prototype.setSpecial=function(a){this.special=a};l.prototype.isNumbered=function(){return this.numbered};l.prototype.getCaption=function(){var a=this.caption;return a===Opal.nil?void 0:a};l.prototype.getName=function(){return this.getTitle()};l=Opal.Asciidoctor.Block;l.prototype.getSource=function(){return this.$source()};l.prototype.getSourceLines=function(){return this.lines};l=Opal.Asciidoctor.AbstractNode;l.prototype.getNodeName=
function(){return this.node_name};l.prototype.getAttributes=function(){return h(this.attributes)};l.prototype.getAttribute=function(a,b,h){a=this.$attr(a,b,h);return a===Opal.nil?void 0:a};l.prototype.hasAttribute=function(a){return a in this.attributes.$$smap};l.prototype.isAttribute=function(a,b,h){a=this["$attr?"](a,b,h);return a===Opal.nil?!1:a};l.prototype.setAttribute=function(a,b,h){"undefined"===typeof h&&(h=!0);return this.$set_attr(a,b,h)};l.prototype.removeAttribute=function(a){a=this.$remove_attr(a);
return a===Opal.nil?void 0:a};l.prototype.getDocument=function(){return this.document};l.prototype.getParent=function(){var a=this.parent;return a===Opal.nil?void 0:a};l.prototype.isInline=function(){return this["$inline?"]()};l.prototype.isBlock=function(){return this["$block?"]()};l.prototype.isRole=function(a){return this["$role?"](a)};l.prototype.getRole=function(){return this.$role()};l.prototype.hasRole=function(a){return this["$has_role?"](a)};l.prototype.getRoles=function(){return this.$roles()};
l.prototype.addRole=function(a){return this.$add_role(a)};l.prototype.removeRole=function(a){return this.$remove_role(a)};l.prototype.isReftext=function(){return this["$reftext?"]()};l.prototype.getReftext=function(){return this.$reftext()};l.prototype.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};l.prototype.getId=function(){var a=this.id;return a===Opal.nil?void 0:a};l.prototype.isOption=function(a){return this["$option?"](a)};l.prototype.setOption=function(a){return this.$set_option(a)};
l.prototype.getIconUri=function(a){return this.$icon_uri(a)};l.prototype.getMediaUri=function(a,b){return this.$media_uri(a,b)};l.prototype.getImageUri=function(a,b){return this.$image_uri(a,b)};l.prototype.getConverter=function(){return this.$converter()};l.prototype.readContents=function(a,b){return this.$read_contents(a,t(b))};l.prototype.readAsset=function(a,b){a=this.$read_asset(a,t(b));return a===Opal.nil?void 0:a};l.prototype.normalizeWebPath=function(a,b,h){return this.$normalize_web_path(a,
b,h)};l.prototype.normalizeSystemPath=function(a,b,h,k){return this.$normalize_system_path(a,b,h,t(k))};l.prototype.normalizeAssetPath=function(a,b,h){return this.$normalize_asset_path(a,b,h)};var F=Opal.Asciidoctor.Document;F.prototype.getRefs=function(){return h(this.catalog.$$smap.refs)};F.prototype.getImages=function(){return this.catalog.$$smap.images};F.prototype.getLinks=function(){return this.catalog.$$smap.links};F.prototype.hasFootnotes=function(){return this["$footnotes?"]()};F.prototype.getFootnotes=
function(){return this.$footnotes()};F.prototype.getHeader=function(){return this.header};F.prototype.setAttribute=function(a,b){return this.$set_attribute(a,b)};F.prototype.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};F.prototype.convert=function(a){a=this.$convert(t(a));return a===Opal.nil?"":a};F.prototype.write=function(a,b){return this.$write(a,b)};F.prototype.getAuthor=function(){return this.$author()};F.prototype.getSource=function(){return this.$source()};
F.prototype.getSourceLines=function(){return this.$source_lines()};F.prototype.isNested=function(){return this["$nested?"]()};F.prototype.isEmbedded=function(){return this["$embedded?"]()};F.prototype.hasExtensions=function(){return this["$extensions?"]()};F.prototype.getDoctype=function(){return this.doctype};F.prototype.getBackend=function(){return this.backend};F.prototype.isBasebackend=function(a){return this["$basebackend?"](a)};F.prototype.getTitle=function(){var a=this.$title();return a===
Opal.nil?void 0:a};F.prototype.setTitle=function(a){return this["$title="](a)};F.prototype.getDocumentTitle=function(a){a=this.$doctitle(t(a));return a===Opal.nil?void 0:a};F.prototype.getDoctitle=F.prototype.getDocumentTitle;F.prototype.getCatalog=function(){return h(this.catalog)};F.prototype.getReferences=F.prototype.getCatalog;F.prototype.getRevisionDate=function(){return this.getAttribute("revdate")};F.prototype.getRevdate=function(){return this.getRevisionDate()};F.prototype.getRevisionNumber=
function(){return this.getAttribute("revnumber")};F.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")};F.prototype.setHeaderAttribute=function(a,b,h){"undefined"===typeof h&&(h=!0);"undefined"===typeof b&&(b="");return this.$set_header_attribute(a,b,h)};F.prototype.getAuthors=function(){return this.$authors()};var y=F.Footnote;y.prototype.getIndex=function(){var a=this.$$data.index;return a===Opal.nil?void 0:a};y.prototype.getId=function(){var a=this.$$data.id;return a===
Opal.nil?void 0:a};y.prototype.getText=function(){var a=this.$$data.text;return a===Opal.nil?void 0:a};y=F.ImageReference;y.prototype.getTarget=function(){return this.$$data.target};y.prototype.getImagesDirectory=function(){var a=this.$$data.imagesdir;return a===Opal.nil?void 0:a};y=F.Author;y.prototype.getName=function(){var a=this.$$data.name;return a===Opal.nil?void 0:a};y.prototype.getFirstName=function(){var a=this.$$data.firstname;return a===Opal.nil?void 0:a};y.prototype.getMiddleName=function(){var a=
this.$$data.middlename;return a===Opal.nil?void 0:a};y.prototype.getLastName=function(){var a=this.$$data.lastname;return a===Opal.nil?void 0:a};y.prototype.getInitials=function(){var a=this.$$data.initials;return a===Opal.nil?void 0:a};y.prototype.getEmail=function(){var a=this.$$data.email;return a===Opal.nil?void 0:a};F.RevisionInfo=function(a,b,h){this.date=a;this.number=b;this.remark=h};y=F.RevisionInfo;y.prototype.getDate=function(){return this.date};y.prototype.getNumber=function(){return this.number};
y.prototype.getRemark=function(){return this.remark};y.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};F.prototype.getRevisionInfo=function(){return new F.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};F.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};F.prototype.getNotitle=function(){return this.$notitle()};F.prototype.getNoheader=function(){return this.$noheader()};F.prototype.getNofooter=
function(){return this.$nofooter()};F.prototype.hasHeader=function(){return this["$header?"]()};F.prototype.deleteAttribute=function(a){return this.$delete_attribute(a)};F.prototype.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};F.prototype.parse=function(a){return this.$parse(a)};F.prototype.getDocinfo=function(a,b){return this.$docinfo(a,b)};F.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};F.prototype.counterIncrement=function(a,b){return this.$counter_increment(a,
b)};F.prototype.counter=function(a,b){return this.$counter(a,b)};F.prototype.getSafe=function(){return this.safe};F.prototype.getCompatMode=function(){return this.compat_mode};F.prototype.getSourcemap=function(){var a=this.sourcemap;return a===Opal.nil?!1:a};F.prototype.getCounters=function(){return h(this.counters)};F.prototype.getCallouts=function(){return this.$callouts()};F.prototype.getBaseDir=function(){return this.base_dir};F.prototype.getOptions=function(){return h(this.options)};F.prototype.getOutfilesuffix=
function(){return this.outfilesuffix};F.prototype.getParentDocument=function(){var a=this.parent_document;return a===Opal.nil?void 0:a};F.prototype.getReader=function(){return this.reader};F.prototype.getConverter=function(){return this.converter};F.prototype.getExtensions=function(){var a=this.extensions;return a===Opal.nil?void 0:a};y=F.Title;y.prototype.getMain=function(){return this.main};y.prototype.getCombined=function(){return this.combined};y.prototype.getSubtitle=function(){var a=this.subtitle;
return a===Opal.nil?void 0:a};y.prototype.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};y.prototype.hasSubtitle=function(){return this["$subtitle?"]()};y=Opal.Asciidoctor.Inline;y.create=function(a,b,h,k){return this.$new(a,b,h,t(k))};y.prototype.convert=function(){return this.$convert()};y.prototype.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};y.prototype.getType=function(){return this.$type()};y.prototype.getTarget=function(){var a=this.$target();
return a===Opal.nil?void 0:a};y=Opal.Asciidoctor.List;y.prototype.hasItems=function(){return this["$items?"]()};y.prototype.getItems=function(){return this.blocks};y=Opal.Asciidoctor.ListItem;y.prototype.getText=function(){return this.$text()};y.prototype.setText=function(a){return this["$text="](a)};y.prototype.hasText=function(){return this["$text?"]()};y.prototype.getMarker=function(){return this.marker};y.prototype.setMarker=function(a){this.marker=a};y.prototype.getList=function(){return this.$list()};
y.prototype.getParent=y.prototype.getList;y=Opal.Asciidoctor.Reader;y.prototype.pushInclude=function(a,b,h,k,l){return this.$push_include(a,b,h,k,t(l))};y.prototype.getCursor=function(){return this.$cursor()};y.prototype.getLines=function(){return this.$lines()};y.prototype.getString=function(){return this.$string()};y.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()};y.prototype.isEmpty=function(){return this["$empty?"]()};y.prototype.peekLine=function(a){a=this.$peek_line(a||
!1);return a===Opal.nil?void 0:a};y.prototype.readLine=function(){var a=this.$read_line();return a===Opal.nil?void 0:a};y.prototype.readLines=function(){return this.$read_lines()};y.prototype.read=function(){return this.$read()};var m=Opal.Asciidoctor.Reader.Cursor;m.prototype.getFile=function(){var a=this.file;return a===Opal.nil?void 0:a};m.prototype.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a};m.prototype.getPath=function(){var a=this.path;return a===Opal.nil?void 0:a};
m.prototype.getLineNumber=function(){return this.lineno};var O=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=O;O.getLogger=function(){return this.$logger()};O.setLogger=function(a){this.logger=a};O.newLogger=function(a,b){return C(a,b).$new()};O.newFormatter=function(a,b){return B(a,b).$new()};var P=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=P;P.get=function(a){return P.$constants()[a]};m=Opal.const_get_qualified(Opal.Logger,
"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=m;m.prototype.call=function(a,b,h,k){return this.$call(P.get(a),b,h,k)};m=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=m;m.create=function(){return this.$new()};m.prototype.getMessages=function(){for(var a=this.messages,b=[],k=0;k<a.length;k++){var l=h(a[k]);"string"===typeof l.message?l.getText=function(){return this.message}:(l.message=h(l.message),l.getText=function(){return this.message.text});l.getSeverity=
function(){return this.severity.toString()};l.getSourceLocation=function(){return this.message.source_location};b.push(l)}return b};var J=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=J;J.getLogger=function(){return O.$logger()};J.createLogMessage=function(a,b){return J.prototype.$message_with_context(a,t(b))};y.prototype.getLogger=J.getLogger;y.prototype.createLogMessage=J.createLogMessage;l.prototype.getLogger=J.getLogger;l.prototype.createLogMessage=J.createLogMessage;
l=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=l;l.prototype.getMaxSeverity=function(){var a=this.max_severity;return a===Opal.nil?void 0:a};l.prototype.getFormatter=function(){return this.formatter};l.prototype.setFormatter=function(a){this.formatter=a};l.prototype.getLevel=function(){return this.level};l.prototype.setLevel=function(a){this.level=a};l.prototype.getProgramName=function(){return this.progname};l.prototype.setProgramName=function(a){this.progname=a};
l=Opal.const_get_qualified("::","Logger");l.prototype.add=function(a,b,h){a="string"===typeof a?P[a.toUpperCase()]:a;this.$add(a,b,h)};l.prototype.log=l.prototype.add;l.prototype.debug=function(a){this.$debug(a)};l.prototype.info=function(a){this.$info(a)};l.prototype.warn=function(a){this.$warn(a)};l.prototype.error=function(a){this.$error(a)};l.prototype.fatal=function(a){this.$fatal(a)};l.prototype.isDebugEnabled=function(){return this["$debug?"]()};l.prototype.isInfoEnabled=function(){return this["$info?"]()};
l.prototype.isWarnEnabled=function(){return this["$warn?"]()};l.prototype.isErrorEnabled=function(){return this["$error?"]()};l.prototype.isFatalEnabled=function(){return this["$fatal?"]()};l=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=l;l.create=function(){return this.$new()};l.prototype.getMaxSeverity=function(){return this.max_severity};Opal.Asciidoctor.StopIteration=Opal.StopIteration;l=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=
l;l.create=function(){return this.$new()};l.prototype.printReport=function(a,b){if(a)if("function"===typeof a.$add)var d=function(b){a.$add(1,b)};else if("function"===typeof a.log)d=a.log;else if("function"===typeof a.write)d=function(b){a.write(b,"utf-8")};else throw Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");else d=function(a){Opal.gvars.stdout.$write(a)};b&&d("Input file: "+b);d(" Time to read and parse source: "+
this.$read_parse().toFixed(2));d(" Time to convert document: "+this.$convert().toFixed(2));d(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var G=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=G;G.register=function(a,b){var d="string"===typeof a?a:a[0];if("function"===typeof b){var l=b.prototype,m=Object.getOwnPropertyNames(l);b={};for(var t in m){var g=m[t];b[g]=l[g]}}var c=p(k,d,b,{},{format:function(a){2<=
a.length&&"object"===typeof a[2]&&"$$smap"in a[2]&&(a[2]=h(a[2]));1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a},highlight:function(a){if(3<=a.length&&"object"===typeof a[3]&&"$$smap"in a[3]){var b=a[3];b=h(b);for(var c in b){var d=b[c];if("callouts"===c){var f=void 0;var e={};d=d.$$keys;for(f in d)e[f.toString()]=d[f].value;f=e;for(var g in f)for(e=f[g],d=0;d<e.length;d++)for(var k=e[d],l=0;l<k.length;l++)k[l]=k[l]===Opal.nil?void 0:k[l];b[c]=f}else b[c]=d===Opal.nil?void 0:d}a[3]=b}2<=
a.length&&(a[2]=a[2]===Opal.nil?void 0:a[2]);return a}}),v;for(v in b)b.hasOwnProperty(v)&&function(a){var d=b[a];"handlesHighlighting"===a?Opal.def(c,"$highlight?",function(){return d.call()}):"hasDocinfo"===a&&Opal.def(c,"$docinfo?",function(a){return d.apply(this,[a])})}(v);Opal.def(c,"$name",function(){return d});G.$register(c,a);return c};G.for=function(a){a=G.$for(a);return a===Opal.nil?void 0:a};var k=Opal.const_get_qualified(G,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=k;k.prototype.registerFor=
function(a){G.$register(this,a)};var ka=function(a){a.$$arity=a.length;return a},T=function(a,b,h,k){return"object"===typeof h||h.$$is_class?a["$"+b](h,k):Opal.send(a,b,k&&[k],ka(h))},x=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=x;x.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"create",null,ka(a)):"function"===typeof b?Opal.send(this,"create",[a],ka(b)):this.$create()};x.register=function(a,b){return"function"===typeof a&&
"undefined"===typeof b?Opal.send(this,"register",null,ka(a)):Opal.send(this,"register",[a],ka(b))};x.getGroups=function(){return h(this.$groups())};x.unregisterAll=function(){this.$unregister_all()};x.unregister=function(){for(var a=Array.prototype.concat.apply([],arguments),b=this.$groups(),h={},k=0,l=b.$$keys;k<l.length;k++){var m=l[k];h[m.toString()]=m}for(k=0;k<a.length;k++)l=a[k],l in h&&Opal.hash_delete(b,h[l])};l=x.Registry;l.prototype.getGroups=x.getGroups;l.prototype.unregisterAll=function(){this.groups=
Opal.hash()};l.prototype.unregister=x.unregister;l.prototype.prefer=function(a,b){1===arguments.length&&(b=a,a=null);return"object"===typeof b||b.$$is_class?this.$prefer(a,b):Opal.send(this,"prefer",a&&[a],ka(b))};l.prototype.block=function(a,b){1===arguments.length&&(b=a,a=null);return T(this,"block",b,a)};l.prototype.inlineMacro=function(a,b){1===arguments.length&&(b=a,a=null);return T(this,"inline_macro",b,a)};l.prototype.includeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return T(this,
"include_processor",b,a)};l.prototype.blockMacro=function(a,b){1===arguments.length&&(b=a,a=null);return T(this,"block_macro",b,a)};l.prototype.treeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return T(this,"tree_processor",b,a)};l.prototype.postprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return T(this,"postprocessor",b,a)};l.prototype.preprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return T(this,"preprocessor",b,a)};l.prototype.docinfoProcessor=function(a,
b){1===arguments.length&&(b=a,a=null);return T(this,"docinfo_processor",b,a)};l.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()};l.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()};l.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()};l.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()};l.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};l.prototype.hasBlocks=function(){return this["$blocks?"]()};
l.prototype.hasBlockMacros=function(){return this["$block_macros?"]()};l.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()};l.prototype.getPreprocessors=function(){return this.$preprocessors()};l.prototype.getTreeProcessors=function(){return this.$tree_processors()};l.prototype.getIncludeProcessors=function(){return this.$include_processors()};l.prototype.getPostprocessors=function(){return this.$postprocessors()};l.prototype.getDocinfoProcessors=function(a){return this.$docinfo_processors(a)};
l.prototype.getBlocks=function(){return this.block_extensions.$values()};l.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()};l.prototype.getInlineMacros=function(){return this.$inline_macros()};l.prototype.getInlineMacroFor=function(a){a=this["$registered_for_inline_macro?"](a);return!1===a?void 0:a};l.prototype.getBlockFor=function(a,b){if("undefined"===typeof b)return a=this.$find_block_extension(a),a===Opal.nil?void 0:a;a=this["$registered_for_block?"](a,b);return!1===
a?void 0:a};l.prototype.getBlockMacroFor=function(a){a=this["$registered_for_block_macro?"](a);return!1===a?void 0:a};l=x.Processor;l.prototype.prepend=function(){this.$option("position",">>")};l.prototype.process=function(a){a=new Proxy(a,{apply:function(a,b,k){for(var d=0;d<k.length;d++)"object"===typeof k[d]&&"$$smap"in k[d]&&(k[d]=h(k[d]));return a.apply(b,k)}});return Opal.send(this,"process",null,ka(a))};l.prototype.named=function(a){return this.$named(a)};l.prototype.createBlock=function(a,
b,h,k,l){return this.$create_block(a,b,h,t(k),t(l))};l.prototype.createList=function(a,b,h){return this.$create_list(a,b,t(h))};l.prototype.createListItem=function(a,b){return this.$create_list_item(a,b)};l.prototype.createImageBlock=function(a,b,h){return this.$create_image_block(a,t(b),t(h))};l.prototype.createInline=function(a,b,h,k){k&&k.attributes&&(k.attributes=t(k.attributes));return this.$create_inline(a,b,h,t(k))};l.prototype.parseContent=function(a,b,h){return this.$parse_content(a,b,h)};
l.prototype.positionalAttributes=function(a){return this.$positional_attrs(a)};l.prototype.resolvesAttributes=function(a){return this.$resolves_attributes(a)};l=x.BlockProcessor;l.prototype.onContext=function(a){return this.$on_context(a)};l.prototype.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))};l.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};l.prototype.parseContentAs=function(a){this.$parse_content_as(a)};l=x.BlockMacroProcessor;
l.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};l.prototype.parseContentAs=function(a){this.$parse_content_as(a)};l=x.InlineMacroProcessor;l.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};l.prototype.parseContentAs=function(a){this.$parse_content_as(a)};l=x.IncludeProcessor;l.prototype.handles=function(a){return Opal.send(this,"handles?",null,ka(a))};l.prototype.prefer=function(){this.$prefer()};x.TreeProcessor.prototype.prefer=function(){this.$prefer()};
x.Postprocessor.prototype.prefer=function(){this.$prefer()};x.Preprocessor.prototype.prefer=function(){this.$prefer()};l=x.DocinfoProcessor;l.prototype.prefer=function(){this.$prefer()};l.prototype.atLocation=function(a){this.$at_location(a)};x.createPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return w("Postprocessor",a,b)};x.newPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPostprocessor(a,b).$new()};x.createPreprocessor=function(a,b){1===arguments.length&&
(b=a,a=null);return w("Preprocessor",a,b)};x.newPreprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPreprocessor(a,b).$new()};x.createTreeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return w("TreeProcessor",a,b)};x.newTreeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createTreeProcessor(a,b).$new()};x.createIncludeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return w("IncludeProcessor",a,b)};x.newIncludeProcessor=function(a,
b){1===arguments.length&&(b=a,a=null);return this.createIncludeProcessor(a,b).$new()};x.createDocinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return w("DocinfoProcessor",a,b)};x.newDocinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createDocinfoProcessor(a,b).$new()};x.createBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return w("BlockProcessor",a,b)};x.newBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockProcessor(a,
b).$new()};x.createInlineMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return w("InlineMacroProcessor",a,b)};x.newInlineMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createInlineMacroProcessor(a,b).$new()};x.createBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return w("BlockMacroProcessor",a,b)};x.newBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockMacroProcessor(a,b).$new()};var I=Opal.const_get_qualified(Opal.Asciidoctor,
"Converter");Opal.Asciidoctor.Converter=I;I.prototype.convert=function(a,b,h){return this.$convert(a,b,t(h))};I.create=function(a,b){return this.$create(a,t(b))};l=Opal.Asciidoctor.Converter.Factory;Opal.Asciidoctor.ConverterFactory=l;l.register=function(a,b){"object"===typeof a&&"undefined"===typeof a.$convert&&"function"===typeof a.convert&&Opal.def(a,"$convert",a.convert);a=[a].concat(b);return I.$register.apply(I,a)};l.getDefault=function(a){return this.$default(a)};l.prototype.create=function(a,
b){return this.$create(a,t(b))};l=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=l;l.create=function(){return this.$new()};l.prototype.convert=function(a,b,h){return this.$convert(a,b,h)};Opal.Asciidoctor.prototype.getVersion=function(){return"2.0.2"};return Opal.Asciidoctor});
